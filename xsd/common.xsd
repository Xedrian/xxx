<?xml version="1.0" encoding="iso-8859-1" ?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">

  <!-- ===== Text simple types ==== -->

  <xs:simpleType name="boolean">
    <xs:restriction base="xs:boolean"/>
  </xs:simpleType>

  <xs:simpleType name="booleanexpression">
    <xs:union memberTypes="boolean expression"/>
  </xs:simpleType>

  <!-- Non-expression name, don't allow single quote. Technically it would be allowed, but this helps detecting mistakes. -->
  <xs:simpleType name="namestring">
    <xs:restriction base="xs:string">
      <xs:pattern value="[^']*" />
    </xs:restriction>
  </xs:simpleType>

  <!-- Script name (MD script, cue...) starts with upper case letter so it can't be a keyword, AI script is slightly different -->
  <xs:simpleType name="scriptname">
    <xs:restriction base="xs:string">
      <xs:pattern value="[A-Z][A-Za-z0-9_]+" />
    </xs:restriction>
  </xs:simpleType>

  <!-- Variables start with $ character. (Visual Studio requires \$, but \$ is not allowed by libxml2... so we use [$]) -->
  <xs:simpleType name="variablename">
    <xs:restriction base="xs:string">
      <xs:pattern value="[$][a-zA-Z0-9_]+" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="idname">
    <xs:restriction base="xs:string">
      <xs:pattern value="[a-zA-Z_][a-zA-Z0-9_]*" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="paramname">
    <xs:restriction base="xs:string">
      <xs:pattern value="[a-zA-Z_][a-zA-Z0-9_]*" />
    </xs:restriction>
  </xs:simpleType>

  <!-- Expressions - also checks string 'delimiters', strings may contain anything, even \' -->
  <xs:simpleType name="expression">
    <xs:restriction base="xs:string">
      <!--               ([ a non-string character                   ]|(' any string  '))+ -->
      <xs:pattern value="([A-Za-z0-9_$!?@=&lt;&gt;,.+\-*/%\^(){}\[\] ]|('([^'\\]|\\.)*'))+" />
    </xs:restriction>
  </xs:simpleType>

  <!-- Currently same regexp as expression to keep things simple -->
  <xs:simpleType name="lvalueexpression">
    <xs:restriction base="expression"/>
  </xs:simpleType>

  <xs:simpleType name="lvaluename">
    <xs:annotation>
      <xs:documentation>
        Name of the value that will receive the result
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="lvalueexpression" />
  </xs:simpleType>

  <xs:simpleType name="groupname">
    <xs:annotation>
      <xs:documentation>
        Name of the group to which the result will be added (group will be created if it does not exist yet)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="lvalueexpression" />
  </xs:simpleType>

  <xs:simpleType name="group">
    <xs:annotation>
      <xs:documentation>
        Group of objects
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="object">
    <xs:annotation>
      <xs:documentation>
        Object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="entity">
    <xs:annotation>
      <xs:documentation>
        Entity
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="ship">
    <xs:annotation>
      <xs:documentation>
        Ship
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="space">
    <xs:annotation>
      <xs:documentation>
        Containing space (zone, sector, cluster, or galaxy)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="cluster">
    <xs:annotation>
      <xs:documentation>
        Cluster
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="room">
    <xs:annotation>
      <xs:documentation>
        Room
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="sector">
    <xs:annotation>
      <xs:documentation>
        Sector
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="zone">
    <xs:annotation>
      <xs:documentation>
        Zone
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="holomap">
    <xs:annotation>
      <xs:documentation>
        HoloMap
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="actor">
    <xs:annotation>
      <xs:documentation>
        Actor object (NPC)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="targetobject">
    <xs:annotation>
      <xs:documentation>
        Target object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="targetcomponent">
    <xs:annotation>
      <xs:documentation>
        Target component
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="source">
    <xs:annotation>
      <xs:documentation>
        Source object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="killer">
    <xs:annotation>
      <xs:documentation>
        Killer object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="killedobject">
    <xs:annotation>
      <xs:documentation>
        Killed object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="attacker">
    <xs:annotation>
      <xs:documentation>
        Attacker object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="attackedobject">
    <xs:annotation>
      <xs:documentation>
        Attacked object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="attackedcomponent">
    <xs:annotation>
      <xs:documentation>
        Attacked component object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="damagedcomponent">
    <xs:annotation>
      <xs:documentation>
        Damaged component
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="repairedcomponent">
    <xs:annotation>
      <xs:documentation>
        Repaired component
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="buildmodule">
    <xs:annotation>
      <xs:documentation>
        Build module
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="buyer">
    <xs:annotation>
      <xs:documentation>
        Buyer object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="seller">
    <xs:annotation>
      <xs:documentation>
        Seller object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="buyerrequired">
    <xs:annotation>
      <xs:documentation>
        Buyer object (attribute must be present if seller not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="sellerrequired">
    <xs:annotation>
      <xs:documentation>
        Seller object (attribute must be present if buyer not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="tradeoffer">
    <xs:annotation>
      <xs:documentation>
        Trade Offer
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="ware">
    <xs:annotation>
      <xs:documentation>
        Ware
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="scannerrequired">
    <xs:annotation>
      <xs:documentation>
        Object which performs the scanning, or group of objects (attribute must be present if scanned not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="scannedrequired">
    <xs:annotation>
      <xs:documentation>
        Object which is scanned, or group of objects (attribute must be present if scanner not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="hackerrequired">
    <xs:annotation>
      <xs:documentation>
        Object which performs the hacking, or group of objects (attribute must be present if hacked not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="hackedrequired">
    <xs:annotation>
      <xs:documentation>
        Object which is hacked, or group of objects (attribute must be present if hacker not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="observerrequired">
    <xs:annotation>
      <xs:documentation>
        Object which performs the observation, or group of objects (attribute must be present if observed not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="observedrequired">
    <xs:annotation>
      <xs:documentation>
        Object which is observed, or group of objects (attribute must be present if observer not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="attackerrequired">
    <xs:annotation>
      <xs:documentation>
        Object which is attacking the target (attribute must be present if target not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="attackedrequired">
    <xs:annotation>
      <xs:documentation>
        Object which is attacked, or group of objects (attribute must be present if attacker not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="claimedrequired">
    <xs:annotation>
      <xs:documentation>
        Object which is claimed, or group of objects (attribute must be present if pilot not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="claimerrequired">
    <xs:annotation>
      <xs:documentation>
        The claiming entity, or group of entities (attribute must be present if claimed not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="numfreeactorslots">
    <xs:annotation>
      <xs:documentation>
        Minimal required number of free slots for actor NPCs
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="freemissionactorslot">
    <xs:annotation>
      <xs:documentation>
        Is a free slot for a mission actor NPC required?
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="booleanexpression" />
  </xs:simpleType>

  <xs:simpleType name="cutscenekey">
    <xs:annotation>
      <xs:documentation>
        Cutscene key name
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="list">
    <xs:annotation>
      <xs:documentation>
        List
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="table">
    <xs:annotation>
      <xs:documentation>
        Table
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="findmultiple">
    <xs:annotation>
      <xs:documentation>
        If true then the result is a list of all found objects, otherwise the result is a random object or null (default is true for count_ conditions, false for find_ actions)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="findrequired">
    <xs:annotation>
      <xs:documentation>
        If true then an error message will be produced if no result is found (default is false)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="findrecursive">
    <xs:annotation>
      <xs:documentation>
        If true then the search does not stop at contained objects, but these objects and their sub-components are searched recursively as well (default is false)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="findincludeobjects">
    <xs:annotation>
      <xs:documentation>
        If true then the search will include contained objects (of class object, e.g. docked ships). Sub-components of these objects are not included, unless the recursive attribute is set.
        The recursive attribute takes precedence over includeobjects. Default is false.
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="offset">
    <xs:annotation>
      <xs:documentation>
        Offset from reference object
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="comment">
    <xs:annotation>
      <xs:documentation>
        Comment for documentation purposes only
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string" />
  </xs:simpleType>

  <xs:simpleType name="container">
    <xs:annotation>
      <xs:documentation>
        Container (ship or station)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="crate">
    <xs:annotation>
      <xs:documentation>
        Crate (on first-person platform)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="macro">
    <xs:annotation>
      <xs:documentation>
        Macro
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="macroname">
    <xs:annotation>
      <xs:documentation>
        Macro name (either a plain macro string or a script expression that evaluates to a string or macro)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="docked">
    <xs:annotation>
      <xs:documentation>
        Object is docked?
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="booleanexpression" />
  </xs:simpleType>

  <xs:simpleType name="known">
    <xs:annotation>
      <xs:documentation>
        Known to player?
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="hasmasstraffic">
    <xs:annotation>
      <xs:documentation>
        Is the station connected to a mass traffic network?
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="presentation">
    <xs:annotation>
      <xs:documentation>
        Is the cluster used for presentation scenes e.g. cutscenes?
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="page">
    <xs:annotation>
      <xs:documentation>
        Text page ID
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="pagewithdefault">
    <xs:annotation>
      <xs:documentation>
        Text page ID (defaults to the speaker's voice page if not supplied)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="line">
    <xs:annotation>
      <xs:documentation>
        Line ID in a text page
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="section">
    <xs:annotation>
      <xs:documentation>
        Conversation section name
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="namestring" />
  </xs:simpleType>

  <xs:simpleType name="conversation">
    <xs:annotation>
      <xs:documentation>
        Conversation name
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="namestring" />
  </xs:simpleType>

  <xs:simpleType name="negatecondition">
    <xs:annotation>
      <xs:documentation>
        Negate condition?
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="negatefilter">
    <xs:annotation>
      <xs:documentation>
        Negate filter outcome? The negation applies to the whole element, e.g. &lt;match_content negate=&quot;true&quot;&gt; matches objects which do NOT have the specified content.
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <xs:simpleType name="colour">
    <xs:annotation>
      <xs:documentation>
        Colour Value (0 - 255)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="masstraffic">
    <xs:annotation>
      <xs:documentation>
        Mass traffic network ID
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="pricemodifieramount">
    <xs:annotation>
      <xs:documentation>
        Discount/commission amount as percentage of the ware's price variation range, valid range from 1 to 100.
        NOTE: This is not the actual discount/commission percentage, which depends on the ware that the price modifier is applied to.
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="groupeventsource">
    <xs:annotation>
      <xs:documentation>
        Group of event objects (can be supplied instead of a single event object). The check attribute does not apply. The group is required to exist but may be empty.
        Adding/removing group members is possible even after the event is set up.
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="expression" />
  </xs:simpleType>

  <xs:simpleType name="checkeventsource">
    <xs:annotation>
      <xs:documentation>
        Produce an error message if the provided event object does not exist? Default is true.
        NOTE: If the event object is a variable or a changeable property, changing it at a later time has no direct effect on this event condition,
        i.e. it is not re-enabled automatically. It is only updated under certain conditions, e.g. when loading a savegame or when
        the event condition is restarted explicitly (resetting MD cue or starting AI script).
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="boolean" />
  </xs:simpleType>

  <!-- ===== Enumeration simple types ===== -->

  <xs:simpleType name="versionstatus">
    <xs:annotation>
      <xs:documentation>
        Version status
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="concept">
        <xs:annotation>
          <xs:documentation>
            Proof of concept only
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="development">
        <xs:annotation>
          <xs:documentation>
            Under development
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="testing">
        <xs:annotation>
          <xs:documentation>
            Test version
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="candidate">
        <xs:annotation>
          <xs:documentation>
            Release candidate
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="release">
        <xs:annotation>
          <xs:documentation>
            Released
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="waiting">
        <xs:annotation>
          <xs:documentation>
            Waiting for other assets
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="selectionlookup">
    <xs:annotation>
      <xs:documentation>
        Selection type (used with select sub-nodes)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <!-- TODO: Improve documentation -->
      <xs:enumeration value="one">
        <xs:annotation>
          <xs:documentation>
            One
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="random">
        <xs:annotation>
          <xs:documentation>
            Random
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="choose">
        <xs:annotation>
          <xs:documentation>
            Choose
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="selectionweight">
    <xs:annotation>
      <xs:documentation>
        Weight which determines the chance of this node being selected
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:integer">
      <xs:minInclusive value="0" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="setoperationlookup">
    <xs:annotation>
      <xs:documentation>
        Operation to perform (default is set)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="set">
        <xs:annotation>
          <xs:documentation>
            Set value (default operation if not supplied, default action is to set to 1 if no random range supplied)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="add">
        <xs:annotation>
          <xs:documentation>
            Add to value (default is to add 1 if no random range supplied)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="subtract">
        <xs:annotation>
          <xs:documentation>
            Subtract from value (default is to subtract 1 if no random range supplied)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <!--
      <xs:enumeration value="multiply">
        <xs:annotation>
          <xs:documentation>
            Multiply value (default is to do nothing if no random range supplied)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="divide">
        <xs:annotation>
          <xs:documentation>
            Divide value (default is to do nothing if no random range supplied)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      -->
      <xs:enumeration value="insert">
        <xs:annotation>
          <xs:documentation>
            Insert value into the list as the specified list element, moving all following elements. Insertion at list count + 1 is allowed. (Default value is null if no random range supplied)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="killmethodlookup">
    <xs:annotation>
      <xs:documentation>
        Kill method
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <!-- TODO: Improve documentation -->
          <xs:enumeration value="killmethod.unknown">
            <xs:annotation>
              <xs:documentation>
                Unknown
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.collapse">
            <xs:annotation>
              <xs:documentation>
                Collapse
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.collected">
            <xs:annotation>
              <xs:documentation>
                Collected
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.collided">
            <xs:annotation>
              <xs:documentation>
                Collided
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.contextkilled">
            <xs:annotation>
              <xs:documentation>
                Context killed
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.hitbybullet">
            <xs:annotation>
              <xs:documentation>
                Hit by bullet
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.hitbymissile">
            <xs:annotation>
              <xs:documentation>
                Hit by missile
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.lowattentionattack">
            <xs:annotation>
              <xs:documentation>
                Attacked in low attention
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.removed">
            <xs:annotation>
              <xs:documentation>
                Removed
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.selfdestructed">
            <xs:annotation>
              <xs:documentation>
                Self-destructed
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.targetpointdiscarded">
            <xs:annotation>
              <xs:documentation>
                Target point discarded
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.timedout">
            <xs:annotation>
              <xs:documentation>
                Timed out
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="killmethod.weaponswap">
            <xs:annotation>
              <xs:documentation>
                Weapon swap
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="rawracelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="argon">
        <xs:annotation>
          <xs:documentation>
            Argon
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="boron">
        <xs:annotation>
          <xs:documentation>
            Boron
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="split">
        <xs:annotation>
          <xs:documentation>
            Split
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="drone">
        <xs:annotation>
          <xs:documentation>
            Drone
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="paranid">
        <xs:annotation>
          <xs:documentation>
            Paranid
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="teladi">
        <xs:annotation>
          <xs:documentation>
            Teladi
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="terran">
        <xs:annotation>
          <xs:documentation>
            Terran
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="xenon">
        <xs:annotation>
          <xs:documentation>
            Xenon
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="khaak">
        <xs:annotation>
          <xs:documentation>
            Kha'ak
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="racelookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="race.argon">
            <xs:annotation>
              <xs:documentation>
                Argon
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.boron">
            <xs:annotation>
              <xs:documentation>
                Boron
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.drone">
            <xs:annotation>
              <xs:documentation>
                Drone
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.split">
            <xs:annotation>
              <xs:documentation>
                Split
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.paranid">
            <xs:annotation>
              <xs:documentation>
                Paranid
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.teladi">
            <xs:annotation>
              <xs:documentation>
                Teladi
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.terran">
            <xs:annotation>
              <xs:documentation>
                Terran
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.xenon">
            <xs:annotation>
              <xs:documentation>
                Xenon
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="race.khaak">
            <xs:annotation>
              <xs:documentation>
                Kha'ak
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="race">
    <xs:annotation>
      <xs:documentation>
        Race (species)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="racelookup" />
  </xs:simpleType>

  <xs:simpleType name="factionlookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="faction.albionenergy">
            <xs:annotation>
              <xs:documentation>
                Albion Energy Subsidiary
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.aquarius">
            <xs:annotation>
              <xs:documentation>
                Aquarius Corporation
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.argongovernment">
            <xs:annotation>
              <xs:documentation>
                Argon Government
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.beryll">
            <xs:annotation>
              <xs:documentation>
                Beryll Astrotech
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.canteran">
            <xs:annotation>
              <xs:documentation>
                Rupublic of Cantera
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.chow">
            <xs:annotation>
              <xs:documentation>
                CHOW
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.civilian">
            <xs:annotation>
              <xs:documentation>
                Civilian
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.criminal">
            <xs:annotation>
              <xs:documentation>
                Criminal
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.enemy">
            <xs:annotation>
              <xs:documentation>
                Enemy
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.familyryak">
            <xs:annotation>
              <xs:documentation>
                Family Ryak
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.fijiargnu">
            <xs:annotation>
              <xs:documentation>
                Fiji Argnu
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.frantonpharma">
            <xs:annotation>
              <xs:documentation>
                Franton Pharma
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.friend">
            <xs:annotation>
              <xs:documentation>
                Friend
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.heartofalbion">
            <xs:annotation>
              <xs:documentation>
                Heart of Albion
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.hereticvanguards">
            <xs:annotation>
              <xs:documentation>
                Heretic Vanguards
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.jonferson">
            <xs:annotation>
              <xs:documentation>
                Jonferson Space Systems
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.leddaindustrial">
            <xs:annotation>
              <xs:documentation>
                Ledda Industrial
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.neutral">
            <xs:annotation>
              <xs:documentation>
                Neutral
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.nolimits">
            <xs:annotation>
              <xs:documentation>
                No Limits
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.ownerless">
            <xs:annotation>
              <xs:documentation>
                Ownerless
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.player">
            <xs:annotation>
              <xs:documentation>
                Player
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.plutarch">
            <xs:annotation>
              <xs:documentation>
                Plutarch Mining Corporation
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.reivers">
            <xs:annotation>
              <xs:documentation>
                Reivers
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.smuggler">
            <xs:annotation>
              <xs:documentation>
                Smuggler
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.sonraenergy">
            <xs:annotation>
              <xs:documentation>
                Sonra Energy
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.sovereignsyndicate">
            <xs:annotation>
              <xs:documentation>
                Sovereign Syndicate
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.standard">
            <xs:annotation>
              <xs:documentation>
                Standard
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.wholesomefoods">
            <xs:annotation>
              <xs:documentation>
                Wholesome Foods Inc
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction.xenon">
            <xs:annotation>
              <xs:documentation>
                Xenon
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="faction">
    <xs:annotation>
      <xs:documentation>
        Faction
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="factionlookup" />
  </xs:simpleType>

  <xs:simpleType name="owner">
    <xs:annotation>
      <xs:documentation>
        Owner faction
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="factionlookup" />
  </xs:simpleType>

  <xs:simpleType name="owners">
    <xs:annotation>
      <xs:documentation>
        Owner faction, or list of owner factions
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="factionlookup" />
  </xs:simpleType>

  <xs:simpleType name="quadrantlookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="quadrant.none" />
          <xs:enumeration value="quadrant.front" />
          <xs:enumeration value="quadrant.back" />
          <xs:enumeration value="quadrant.left" />
          <xs:enumeration value="quadrant.right" />
          <xs:enumeration value="quadrant.up" />
          <xs:enumeration value="quadrant.down" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="quadrant">
    <xs:annotation>
      <xs:documentation>
        Directional Quadrant
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="quadrantlookup" />
  </xs:simpleType>

  <xs:simpleType name="ammotypelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="bomb" />
      <xs:enumeration value="bullet" />
      <xs:enumeration value="missile" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="weaponsystemlookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="all" />
      <xs:enumeration value="drone_attack" />
      <xs:enumeration value="drone_defence" />
      <xs:enumeration value="drone_repair" />
      <xs:enumeration value="laser" />
      <xs:enumeration value="missile" />
      <xs:enumeration value="torpedo" />
      <xs:enumeration value="turret_shortrange" />
      <xs:enumeration value="turret_midrange" />
      <xs:enumeration value="turret_longrange" />
      <xs:enumeration value="turret_missile" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="weapontypelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="all">
        <xs:annotation>
          <xs:documentation>
            All weapons (including mining or repair lasers!)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="combat">
        <xs:annotation>
          <xs:documentation>
            Combat weapons (default)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="mining">
        <xs:annotation>
          <xs:documentation>
            Mining weapons
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="repair">
        <xs:annotation>
          <xs:documentation>
            Repair weapons
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="orientationlookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="align_left">
        <xs:annotation>
          <xs:documentation>
            Align so that refpos/refobj is on the left side
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="align_left_bbox">
        <xs:annotation>
          <xs:documentation>
            Align so that refobj-bounding-box is on the left side (requires valid refobject!)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="align_right">
        <xs:annotation>
          <xs:documentation>
            Align so that refpos/refobj is on the right side
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="align_right_bbox">
        <xs:annotation>
          <xs:documentation>
            Align so that refobj-bounding-box is on the right side (requires valid refobject!)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="look_at">
        <xs:annotation>
          <xs:documentation>
            Orientation that looks directly at refpos/refobj-center
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="look_at_bbox">
        <xs:annotation>
          <xs:documentation>
            Orientation that looks directly at refobj-bounding-box (requires valid refobject!)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="look_away">
        <xs:annotation>
          <xs:documentation>
            Orientation that looks away from refpos/refobj-center
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="look_away_bbox">
        <xs:annotation>
          <xs:documentation>
            Orientation that looks away from refobj-bounding-box (requires valid refobject!)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="activityexprlookup">
    <xs:annotation>
      <xs:documentation>
        Player activity
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="activity.none" >
            <xs:annotation>
              <xs:documentation>
                No activity
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="activity.collect_cargo" >
            <xs:annotation>
              <xs:documentation>
                Cargo collecting activity (allows tagging)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="activity.collect_ore" >
            <xs:annotation>
              <xs:documentation>
                Ore collecting activity (allows tagging)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="activity.scan_longrange" >
            <xs:annotation>
              <xs:documentation>
                Long-Range Scanning activity
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="activity.scan_ships" >
            <xs:annotation>
              <xs:documentation>
                Ship Scanning activity
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="activity.scan_stations" >
            <xs:annotation>
              <xs:documentation>
                Station Scanning activity
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="battlestatelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="battlestate_jumpprep" >
        <xs:annotation>
          <xs:documentation>
            Bring all components into jump preparation state
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="battlestate_red" >
        <xs:annotation>
          <xs:documentation>
            Bring all components into red alert state
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="battlestate_yellow" >
        <xs:annotation>
          <xs:documentation>
            Bring all components into yellow alert state
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="open_hangar" >
        <xs:annotation>
          <xs:documentation>
            Open all hangar doors
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="close_hangar" >
        <xs:annotation>
          <xs:documentation>
            Close all hangar doors
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="classlookup">
    <xs:union memberTypes="destructibleclasslookup spaceclasslookup expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.cockpit">
            <xs:annotation>
              <xs:documentation>
                Cockpit
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.component">
            <xs:annotation>
              <xs:documentation>
                Component
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.positional">
            <xs:annotation>
              <xs:documentation>
                Positional
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="destructibleclasslookup">
    <xs:union memberTypes="objectclasslookup entityclasslookup expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.adsign">
            <xs:annotation>
              <xs:documentation>
                Ad Sign (child of an object)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.buildmodule">
            <xs:annotation>
              <xs:documentation>
                Build Module
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.cargobay">
            <xs:annotation>
              <xs:documentation>
                Cargo Bay
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.construction">
            <xs:annotation>
              <xs:documentation>
                Construction
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.controlcomponent">
            <xs:annotation>
              <xs:documentation>
                Control Component
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.controlpanel">
            <xs:annotation>
              <xs:documentation>
                Control Panel
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.destructible">
            <xs:annotation>
              <xs:documentation>
                Destructible
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.dronelaunchpad">
            <xs:annotation>
              <xs:documentation>
                Drone Launchpad
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.engine">
            <xs:annotation>
              <xs:documentation>
                Engine
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.enginebooster">
            <xs:annotation>
              <xs:documentation>
                Engine Booster
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.hackerprobe">
            <xs:annotation>
              <xs:documentation>
                Hacker Probe
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.interior">
            <xs:annotation>
              <xs:documentation>
                Interior
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.jumpdrive">
            <xs:annotation>
              <xs:documentation>
                JumpDrive
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.launcher">
            <xs:annotation>
              <xs:documentation>
                Launcher
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.launchpad">
            <xs:annotation>
              <xs:documentation>
                Launch Pad
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.lock">
            <xs:annotation>
              <xs:documentation>
                Lock
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.production">
            <xs:annotation>
              <xs:documentation>
                Production
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.radar">
            <xs:annotation>
              <xs:documentation>
                Radar
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.scanner">
            <xs:annotation>
              <xs:documentation>
                Scanner
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.shieldgenerator">
            <xs:annotation>
              <xs:documentation>
                Shield Generator
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.storage">
            <xs:annotation>
              <xs:documentation>
                Storage Module
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.turret">
            <xs:annotation>
              <xs:documentation>
                Turret
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.weapon">
            <xs:annotation>
              <xs:documentation>
                Weapon
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <!--TODO Finish-->
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="objectclasslookup">
    <xs:union memberTypes="shipclasslookup stationclasslookup expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.adsignobject">
            <xs:annotation>
              <xs:documentation>
                Ad Sign Object (child of a zone)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.asteroid">
            <xs:annotation>
              <xs:documentation>
                Asteroid
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.collectable">
            <xs:annotation>
              <xs:documentation>
                Collectable
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.container">
            <xs:annotation>
              <xs:documentation>
                Container
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.controllable">
            <xs:annotation>
              <xs:documentation>
                Controllable
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.drop">
            <xs:annotation>
              <xs:documentation>
                Drop
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.gate">
            <xs:annotation>
              <xs:documentation>
                Gate
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.highwayentrygate">
            <xs:annotation>
              <xs:documentation>
                Highway Entry Gate
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.highwayexitgate">
            <xs:annotation>
              <xs:documentation>
                Highway Exit Gate
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.jumpbeacon">
            <xs:annotation>
              <xs:documentation>
                Jump Beacon
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.lockbox">
            <xs:annotation>
              <xs:documentation>
                Lockbox
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.mine">
            <xs:annotation>
              <xs:documentation>
                Mine
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.missile">
            <xs:annotation>
              <xs:documentation>
                Missile
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.nebula">
            <xs:annotation>
              <xs:documentation>
                Nebula
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.object">
            <xs:annotation>
              <xs:documentation>
                Object
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="shipclasslookup">
    <xs:union memberTypes="shipsizeclasslookup">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.ship">
            <xs:annotation>
              <xs:documentation>
                Ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.drone">
            <xs:annotation>
              <xs:documentation>
                drone class ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="shipsizeclasslookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.ship_xs">
            <xs:annotation>
              <xs:documentation>
                XS sized ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.ship_s">
            <xs:annotation>
              <xs:documentation>
                S sized ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.ship_m">
            <xs:annotation>
              <xs:documentation>
                M sized ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.ship_l">
            <xs:annotation>
              <xs:documentation>
                L sized ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.ship_xl">
            <xs:annotation>
              <xs:documentation>
                XL sized ship
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="stationclasslookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.station">
            <xs:annotation>
              <xs:documentation>
                Station
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="spaceclasslookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.area">
            <xs:annotation>
              <xs:documentation>
                Area
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.cluster">
            <xs:annotation>
              <xs:documentation>
                Cluster
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.galaxy">
            <xs:annotation>
              <xs:documentation>
                Galaxy
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.highway">
            <xs:annotation>
              <xs:documentation>
                Highway
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.sector">
            <xs:annotation>
              <xs:documentation>
                Sector
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.zone">
            <xs:annotation>
              <xs:documentation>
                Zone
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="entityclasslookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="class.entity">
            <xs:annotation>
              <xs:documentation>
                Entity
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.player">
            <xs:annotation>
              <xs:documentation>
                Player
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.nonplayer">
            <xs:annotation>
              <xs:documentation>
                Non-player
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.computer">
            <xs:annotation>
              <xs:documentation>
                Computer
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="class.npc">
            <xs:annotation>
              <xs:documentation>
                NPC
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="attentionlookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="unknown" />
      <xs:enumeration value="ingalaxy" />
      <xs:enumeration value="incluster" />
      <xs:enumeration value="insector" />
      <xs:enumeration value="visible" />
      <xs:enumeration value="inzone" />
      <xs:enumeration value="nearby" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="attentionexprlookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="attention.unknown" />
          <xs:enumeration value="attention.ingalaxy" />
          <xs:enumeration value="attention.incluster" />
          <xs:enumeration value="attention.insector" />
          <xs:enumeration value="attention.visible" />
          <xs:enumeration value="attention.inzone" />
          <xs:enumeration value="attention.nearby" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="componentstatelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="construction" />
      <xs:enumeration value="operational" />
      <xs:enumeration value="upgrade" />
      <xs:enumeration value="wreck" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="entitytypelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="pilot" />
      <xs:enumeration value="commander" />
      <xs:enumeration value="manager" />
      <xs:enumeration value="engineer" />
      <xs:enumeration value="architect" />
      <xs:enumeration value="marine" />
      <xs:enumeration value="defencecontrol" />
      <xs:enumeration value="upgradetrader" />
      <xs:enumeration value="shiptrader" />
      <xs:enumeration value="smallshiptrader" />
      <xs:enumeration value="miningsupplier" />
      <xs:enumeration value="junkdealer" />
      <xs:enumeration value="spacefarmer" />
      <xs:enumeration value="shiptech" />
      <xs:enumeration value="humanresources" />
      <xs:enumeration value="equipment" />
      <xs:enumeration value="foodmerchant" />
      <xs:enumeration value="shadyguy" />
      <xs:enumeration value="droneoperator" />
      <xs:enumeration value="dronetrader" />
      <xs:enumeration value="recruitment" />
      <xs:enumeration value="armsdealer" />
      <xs:enumeration value="licencetrader" />
      <xs:enumeration value="lawenforcement" />
      <xs:enumeration value="specialistagriculture" />
      <xs:enumeration value="specialistpowerstorage" />
      <xs:enumeration value="specialistfood" />
      <xs:enumeration value="specialistchemical" />
      <xs:enumeration value="specialistprecision" />
      <xs:enumeration value="specialistweapons" />
      <xs:enumeration value="specialistpharmaceuticals" />
      <xs:enumeration value="specialistmetals" />
      <xs:enumeration value="specialistgeophysics" />
      <xs:enumeration value="specialistsurfacesystems" />
      <xs:enumeration value="specialistpowersupply" />
      <xs:enumeration value="specialistaquatics" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="entitytypeexprlookup">
    <xs:annotation>
      <xs:documentation>
        Actor (entity) type
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="entitytype.pilot" />
          <xs:enumeration value="entitytype.commander" />
          <xs:enumeration value="entitytype.manager" />
          <xs:enumeration value="entitytype.engineer" />
          <xs:enumeration value="entitytype.architect" />
          <xs:enumeration value="entitytype.marine" />
          <xs:enumeration value="entitytype.defencecontrol" />
          <xs:enumeration value="entitytype.upgradetrader" />
          <xs:enumeration value="entitytype.shiptrader" />
          <xs:enumeration value="entitytype.smallshiptrader" />
          <xs:enumeration value="entitytype.miningsupplier" />
          <xs:enumeration value="entitytype.junkdealer" />
          <xs:enumeration value="entitytype.spacefarmer" />
          <xs:enumeration value="entitytype.shiptech" />
          <xs:enumeration value="entitytype.humanresources" />
          <xs:enumeration value="entitytype.equipment" />
          <xs:enumeration value="entitytype.foodmerchant" />
          <xs:enumeration value="entitytype.shadyguy" />
          <xs:enumeration value="entitytype.droneoperator" />
          <xs:enumeration value="entitytype.dronetrader" />
          <xs:enumeration value="entitytype.recruitment" />
          <xs:enumeration value="entitytype.armsdealer" />
          <xs:enumeration value="entitytype.licencetrader" />
          <xs:enumeration value="entitytype.lawenforcement" />
          <xs:enumeration value="entitytype.specialistagriculture" />
          <xs:enumeration value="entitytype.specialistpowerstorage" />
          <xs:enumeration value="entitytype.specialistfood" />
          <xs:enumeration value="entitytype.specialistchemical" />
          <xs:enumeration value="entitytype.specialistprecision" />
          <xs:enumeration value="entitytype.specialistweapons" />
          <xs:enumeration value="entitytype.specialistpharmaceuticals" />
          <xs:enumeration value="entitytype.specialistmetals" />
          <xs:enumeration value="entitytype.specialistgeophysics" />
          <xs:enumeration value="entitytype.specialistsurfacesystems" />
          <xs:enumeration value="entitytype.specialistpowersupply" />
          <xs:enumeration value="entitytype.specialistaquatics" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="skilltypelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="boarding" />
      <xs:enumeration value="combat" />
      <xs:enumeration value="engineering" />
      <xs:enumeration value="leadership" />
      <xs:enumeration value="management" />
      <xs:enumeration value="morale" />
      <xs:enumeration value="navigation" />
      <xs:enumeration value="science" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="skilltypeexprlookup">
    <xs:annotation>
      <xs:documentation>
        Skill type
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="skilltype.boarding" />
          <xs:enumeration value="skilltype.combat" />
          <xs:enumeration value="skilltype.engineering" />
          <xs:enumeration value="skilltype.leadership" />
          <xs:enumeration value="skilltype.management" />
          <xs:enumeration value="skilltype.morale" />
          <xs:enumeration value="skilltype.navigation" />
          <xs:enumeration value="skilltype.science" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="infolibrarytypelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="shiptypes_xl" />
      <xs:enumeration value="shiptypes_l" />
      <xs:enumeration value="shiptypes_m" />
      <xs:enumeration value="shiptypes_s" />
      <xs:enumeration value="shiptypes_xs" />
      <xs:enumeration value="stationtypes" />
      <xs:enumeration value="moduletypes_production" />
      <xs:enumeration value="moduletypes_build" />
      <xs:enumeration value="moduletypes_storage" />
      <xs:enumeration value="moduletypes_efficiency" />
      <xs:enumeration value="moduletypes_defence" />
      <xs:enumeration value="moduletypes_communication" />
      <xs:enumeration value="moduletypes_dronedock" />
      <xs:enumeration value="weapontypes_primary" />
      <xs:enumeration value="weapontypes_secondary" />
      <xs:enumeration value="turrettypes" />
      <xs:enumeration value="shieldgentypes" />
      <xs:enumeration value="enginetypes" />
      <xs:enumeration value="scannertypes" />
      <xs:enumeration value="marines" />
      <xs:enumeration value="unique_npcs" />
      <xs:enumeration value="wares" />
      <xs:enumeration value="productionmethods" />
      <xs:enumeration value="inventory_wares" />
      <xs:enumeration value="races" />
      <xs:enumeration value="factions" />
      <xs:enumeration value="licences" />
      <xs:enumeration value="entitytypes" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="waresizelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="tiny" />
      <xs:enumeration value="small" />
      <xs:enumeration value="medium" />
      <xs:enumeration value="large" />
      <xs:enumeration value="extralarge" />
      <xs:enumeration value="part" />
      <xs:enumeration value="ship" />
      <xs:enumeration value="station" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="dockpopulationtypelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="build" />
      <xs:enumeration value="trade" />
      <xs:enumeration value="drones" />
      <xs:enumeration value="ships" />
      <xs:enumeration value="repair" />
      <xs:enumeration value="ammo" />
      <xs:enumeration value="bar" />
      <xs:enumeration value="administrative" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="dockpopulationtypeexprlookup">
    <xs:annotation>
      <xs:documentation>
        Dock population type
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="dockpopulationtype.build" />
          <xs:enumeration value="dockpopulationtype.trade" />
          <xs:enumeration value="dockpopulationtype.drones" />
          <xs:enumeration value="dockpopulationtype.ships" />
          <xs:enumeration value="dockpopulationtype.repair" />
          <xs:enumeration value="dockpopulationtype.ammo" />
          <xs:enumeration value="dockpopulationtype.bar" />
          <xs:enumeration value="dockpopulationtype.administrative" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="profilelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="flat">
        <xs:annotation>
          <xs:documentation>
            Flat (linear) distribution, default if no profile specified
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="increasing">
        <xs:annotation>
          <xs:documentation>
            Higher numbers are more likely
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="decreasing">
        <xs:annotation>
          <xs:documentation>
            Lower numbers are more likely
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="bell">
        <xs:annotation>
          <xs:documentation>
            Numbers in the middle of the range are more likely
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="inversebell">
        <xs:annotation>
          <xs:documentation>
            Higher and lower numbers are more likely than those in the middle
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="uipositionlookup">
    <xs:annotation>
      <xs:documentation>
        Position in conversation menu (a free position is selected if not supplied). This can be either a fixed named value, or a variable script expression (providing the option number between 1 and 6).
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="top_left" />
          <xs:enumeration value="left" />
          <xs:enumeration value="bottom_left" />
          <xs:enumeration value="top_right" />
          <xs:enumeration value="right" />
          <xs:enumeration value="bottom_right" />
          <xs:enumeration value="close">
            <xs:annotation>
              <xs:documentation>
                Hidden player choice that is selected when the player presses the &quot;close conversation&quot; button
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="helppositionlookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="0">
            <xs:annotation>
              <xs:documentation>
                Top left corner (default)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="1">
            <xs:annotation>
              <xs:documentation>
                Middle of screen (targeting)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="2">
            <xs:annotation>
              <xs:documentation>
                Near weapon monitor
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="3">
            <xs:annotation>
              <xs:documentation>
                Near event monitor
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="4">
            <xs:annotation>
              <xs:documentation>
                Near speedbar
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="gamedifficulty">
    <xs:annotation>
      <xs:documentation>
        Game difficulty level
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="easy" />
      <xs:enumeration value="medium" />
      <xs:enumeration value="hard" />
      <xs:enumeration value="extreme" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="levellookup">
    <xs:annotation>
      <xs:documentation>
        Difficulty level
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="level.trivial">
            <xs:annotation>
              <xs:documentation>
                Trivial difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="level.veryeasy">
            <xs:annotation>
              <xs:documentation>
                Very easy difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="level.easy">
            <xs:annotation>
              <xs:documentation>
                Easy difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="level.medium">
            <xs:annotation>
              <xs:documentation>
                Medium difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="level.hard">
            <xs:annotation>
              <xs:documentation>
                Hard difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="level.veryhard">
            <xs:annotation>
              <xs:documentation>
                Very hard difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="level.impossible">
            <xs:annotation>
              <xs:documentation>
                Impossible difficulty level
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="logcategorylookup">
    <xs:annotation>
      <xs:documentation>
        Logbook category
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="general" />
      <xs:enumeration value="missions" />
      <xs:enumeration value="squad" />
      <xs:enumeration value="upkeep" />
      <xs:enumeration value="tips" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="loginteractionlookup">
    <xs:annotation>
      <xs:documentation>
        Logbook interaction type (not supported yet)
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="guidance">
        <xs:annotation>
          <xs:documentation>
            (Not supported yet)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="controlslottag">
    <xs:annotation>
      <xs:documentation>
        Control slot tag
      </xs:documentation>
    </xs:annotation>
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="tag.primary_slot">
            <xs:annotation>
              <xs:documentation>
                Primary weapon slot (Lasers)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="tag.secondary_slot">
            <xs:annotation>
              <xs:documentation>
                Secondary weapon slot (Missiles)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="conversationview">
    <xs:annotation>
      <xs:documentation>
        Conversation view type, defining the desired camera direction
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="facecopilot" />
      <xs:enumeration value="facenormal" />
      <xs:enumeration value="facedetailmonitor" />
      <xs:enumeration value="closeupdetailmonitor" />
      <xs:enumeration value="closeupeventmonitor" />
      <xs:enumeration value="faceconsole" />
      <xs:enumeration value="facepos1" />
      <xs:enumeration value="facepos2" />
      <xs:enumeration value="facepos3" />
      <xs:enumeration value="facepos4" />
      <xs:enumeration value="facepos5" />
      <xs:enumeration value="angry_01" />
      <xs:enumeration value="disappointed_01" />
      <xs:enumeration value="flirting_01" />
      <xs:enumeration value="happy_01" />
      <xs:enumeration value="happy_02" />
      <xs:enumeration value="idle_01" />
      <xs:enumeration value="sad_01" />
      <xs:enumeration value="sad_02" />
      <xs:enumeration value="surprised_01" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="relationcomparison">
    <xs:annotation>
      <xs:documentation>
        Behaviour to compare the relation range
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="exact">
        <xs:annotation>
          <xs:documentation>
            Relation is in range (default)
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="ge">
        <xs:annotation>
          <xs:documentation>
            Relation is greater than or equal
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="gt">
        <xs:annotation>
          <xs:documentation>
            Relation is greater than
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="le">
        <xs:annotation>
          <xs:documentation>
            Relation is less than or equal
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="lt">
        <xs:annotation>
          <xs:documentation>
            Relation is less than
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="not">
        <xs:annotation>
          <xs:documentation>
            Relation is not in range
          </xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="formationshapelookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="formationshape.dummy">
            <xs:annotation>
              <xs:documentation>
                Dummy, no param
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.circle">
            <xs:annotation>
              <xs:documentation>
                param = radius
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.halfcircle">
            <xs:annotation>
              <xs:documentation>
                param = radius
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.invpointguard">
            <xs:annotation>
              <xs:documentation>
                param = radius
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.pointguard">
            <xs:annotation>
              <xs:documentation>
                param = radius
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.randomshape">
            <xs:annotation>
              <xs:documentation>
                param = range (length or vector)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.rotatingcircle">
            <xs:annotation>
              <xs:documentation>
                param = radius, param2 = period (default 10s)
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.singlefile">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.vshape">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.invvshape">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.cross">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.crossback">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.crossforward">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.xshape">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.xshapeforward">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.xshapeback">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.triangle">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.lineabreast">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.lineastern">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.wshape">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.eagle">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.twin">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.vulcan">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.dartvertical">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.darthorizontal">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="formationshape.echelon">
            <xs:annotation>
              <xs:documentation>
                param = distance
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="licencelookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="intelligence" />
      <xs:enumeration value="military" />
      <xs:enumeration value="police" />
      <xs:enumeration value="hazardousmaterials" />
      <xs:enumeration value="intoxicants" />
      <xs:enumeration value="pharmaceuticals" />
      <xs:enumeration value="protectedspecies" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="relationlookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="dock" />
      <xs:enumeration value="enemy" />
      <xs:enumeration value="friend" />
      <xs:enumeration value="kill" />
      <xs:enumeration value="killmilitary" />
      <xs:enumeration value="member" />
      <xs:enumeration value="nemesis" />
      <xs:enumeration value="neutral" />
      <xs:enumeration value="self" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="tradesorterlookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="amount" />
      <xs:enumeration value="distance" />
      <xs:enumeration value="name" />
      <xs:enumeration value="price" />
      <xs:enumeration value="relativeprice" />
      <xs:enumeration value="stocklevel" />
      <xs:enumeration value="totalprice" />
      <xs:enumeration value="totalvolume" />
      <xs:enumeration value="volume" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="unitcategorylookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="unitcategory.attack" />
          <xs:enumeration value="unitcategory.defence" />
          <xs:enumeration value="unitcategory.gascollector" />
          <xs:enumeration value="unitcategory.guard" />
          <xs:enumeration value="unitcategory.marine" />
          <xs:enumeration value="unitcategory.orecollector" />
          <xs:enumeration value="unitcategory.police" />
          <xs:enumeration value="unitcategory.transport" />
          <xs:enumeration value="unitcategory.welder" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="remotetransportlookup">
    <xs:restriction base="xs:string">
      <xs:enumeration value="ammo" />
      <xs:enumeration value="inventory" />
      <xs:enumeration value="passenger" />
      <xs:enumeration value="playerdrone" />
      <xs:enumeration value="units" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="objectpurposelookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="objectpurpose.trade" />
          <xs:enumeration value="objectpurpose.fight" />
          <xs:enumeration value="objectpurpose.build" />
          <xs:enumeration value="objectpurpose.mine" />
          <xs:enumeration value="objectpurpose.hack" />
          <xs:enumeration value="objectpurpose.scan" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="targetpointtypelookup">
    <xs:annotation>
      <xs:documentation>
        Implicitly defines the interactions and the icon this target point should have
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="scan" />
      <xs:enumeration value="hack" />
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="controlpaneltypelookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="controlpaneltype.hack_all_turrets" />
          <xs:enumeration value="controlpaneltype.hack_buildmodules" />
          <xs:enumeration value="controlpaneltype.hack_discount" />
          <xs:enumeration value="controlpaneltype.hack_dronelaunchpads" />
          <xs:enumeration value="controlpaneltype.hack_longrange_turrets" />
          <xs:enumeration value="controlpaneltype.hack_midrange_turrets" />
          <xs:enumeration value="controlpaneltype.hack_missile_turrets" />
          <xs:enumeration value="controlpaneltype.hack_production" />
          <xs:enumeration value="controlpaneltype.hack_shieldgenerators" />
          <xs:enumeration value="controlpaneltype.hack_short_range_turrets" />
          <xs:enumeration value="controlpaneltype.hack_storage" />
          <xs:enumeration value="controlpaneltype.hack_watchdogs" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <xs:simpleType name="waretransportlookup">
    <xs:union memberTypes="expression">
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="waretransport.container" />
          <xs:enumeration value="waretransport.bulk" />
          <xs:enumeration value="waretransport.liquid" />
          <xs:enumeration value="waretransport.passenger" />
          <xs:enumeration value="waretransport.equipment" />
          <xs:enumeration value="waretransport.inventory" />
          <xs:enumeration value="waretransport.energy" />
          <xs:enumeration value="waretransport.fuel" />
          <xs:enumeration value="waretransport.ship" />
        </xs:restriction>
      </xs:simpleType>
    </xs:union>
  </xs:simpleType>

  <!-- ===== Attribute groups ==== -->

  <!-- Base attribute group for filters, does not contain class attribute and class-specific attributes. They are added in sub-groups where required. -->
  <xs:attributeGroup name="find">
    <xs:attribute name="macro" type="macro" />
    <xs:attribute name="owner" type="owners" />
    <xs:attribute name="trueowner" type="owners" />
    <xs:attribute name="coverowner" type="owners" />
    <xs:attribute name="tag" type="expression">
      <xs:annotation>
        <xs:documentation>
          Connection tag
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="grouptag" type="expression">
      <xs:annotation>
        <xs:documentation>
          Connection group tag
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="integrated" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is integrated to the parent? (built-in component)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="invulnerable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is either hull or shield invulnerable, i.e it cannot take damage? Note: An object can be vulnerable but still indestructible.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="hullinvulnerable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is hull invulnerable, i.e it cannot take take damage?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="shieldinvulnerable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is shield invulnerable, i.e it cannot take damage?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="indestructible" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Can the object not be destroyed through damage?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="checkoperational" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Only include operational components? (default true) Otherwise also include construction and wrecked components. Affects attributes class and exactclass.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="functional" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is functional?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="surfaceelement" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is a surface element?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="module" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is a module?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="known" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Known to player?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="knownto" type="factionlookup">
      <xs:annotation>
        <xs:documentation>
          Known to faction? (Faction or list of factions)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="suspicious" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Suspicious?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="destination" type="expression">
      <xs:annotation>
        <xs:documentation>
          Leads to this destination? (could be space, gate or highway exit gate)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="hastradeoffer" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Component contains a trade offer?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="hastradesubscription" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Player has subscribed to trade offer updates from this container?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="canhaveofferlocation" type="expression">
      <xs:annotation>
        <xs:documentation>
          Offer tag
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="freemissionofferslot" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is a free mission offer location available at the container?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="numfreeactorslots" type="numfreeactorslots" />
    <xs:attribute name="freemissionactorslot" type="freemissionactorslot" />
    <xs:attribute name="masstraffic" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is object from mass traffic?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="dockpopulationtype" type="dockpopulationtypeexprlookup" />
    <xs:attribute name="productsize" type="waresizelookup">
      <xs:annotation>
        <xs:documentation>
          Does object have products of the given size?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="weapontype" type="weapontypelookup">
      <xs:annotation>
        <xs:documentation>
          Weapon type
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="primarypurpose" type="objectpurposelookup">
      <xs:annotation>
        <xs:documentation>
          Primary purpose
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="mayattack" type="expression">
      <xs:annotation>
        <xs:documentation>
          Does objects relation allow it to attack provided object or faction. True if relation is 'kill' or if relation is 'killmilitary' and provided object has primarypurpose.fight
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="maybeattackedby" type="expression">
      <xs:annotation>
        <xs:documentation>
          May object be attacked by provided object or faction, based on their relations. True if relation is 'kill' or if relation is 'killmilitary' and object has primarypurpose.fight
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="canbepickedup" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Can object be picked up by another object?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findext_entity">
    <xs:attribute name="race" type="race" />
    <xs:attribute name="entitytype" type="entitytypeexprlookup" />
    <xs:attribute name="controlentity" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the actor a control entity?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="missionactor" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the actor a mission actor?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="representative" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the actor a faction representative?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findext_cluster">
    <xs:attribute name="presentation" type="presentation" />
  </xs:attributeGroup>

  <xs:attributeGroup name="findext_station">
    <xs:attribute name="hasmasstraffic" type="hasmasstraffic" />
  </xs:attributeGroup>

  <xs:attributeGroup name="findext_ship">
    <xs:attribute name="docked" type="docked" />
    <xs:attribute name="job" type="expression">
      <xs:annotation>
        <xs:documentation>
          Job identification string
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findext_zone">
    <xs:attribute name="priorityzone" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the zone the highest priority zone at its position?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="tempzone" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the zone temporary?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="mapzone" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Can the zone be shown on a map?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findext_damaged">
    <xs:attribute name="restorable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Wrecked components that can be restored (exclusive with 'repairable' and 'needsrepair')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="repairable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Damaged components that are still functional and can be repaired (exclusive with 'restorable' and 'needsrepair')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="needsrepair" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Damaged components that are no longer functional and can be repaired (exclusive with 'restorable' and 'repairable')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findarbitrary">
    <xs:attributeGroup ref="find" />
    <xs:attributeGroup ref="findext_entity" />
    <xs:attributeGroup ref="findext_cluster" />
    <xs:attributeGroup ref="findext_damaged" />
    <xs:attributeGroup ref="findext_ship" />
    <xs:attributeGroup ref="findext_station" />
    <xs:attributeGroup ref="findext_zone" />
    <xs:attribute name="class" type="classlookup">
      <xs:annotation>
        <xs:documentation>
          Class or list of classes (do not use in conjunction with 'exactclass' attribute)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="exactclass" type="classlookup">
      <xs:annotation>
        <xs:documentation>
          Exact class or list of exact classes, not taking subclasses into account (do not use in conjunction with 'class' attribute)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findentity">
    <xs:attributeGroup ref="find" />
    <xs:attributeGroup ref="findext_entity" />
    <xs:attribute name="class" type="entityclasslookup">
      <xs:annotation>
        <xs:documentation>
          Entity class or list of classes (do not use with 'exactclass')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="exactclass" type="entityclasslookup">
      <xs:annotation>
        <xs:documentation>
          Entity's exact class (or list of classes), not taking subclasses into account (do not use with 'class')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findcluster">
    <xs:attributeGroup ref="find" />
    <xs:attributeGroup ref="findext_cluster" />
  </xs:attributeGroup>

  <xs:attributeGroup name="findobject">
    <xs:attributeGroup ref="find"/>
    <xs:attributeGroup ref="findext_ship" />
    <xs:attributeGroup ref="findext_station" />
    <xs:attribute name="class" type="objectclasslookup">
      <xs:annotation>
        <xs:documentation>
          Object class or list of classes (do not use with 'exactclass')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="exactclass" type="objectclasslookup">
      <xs:annotation>
        <xs:documentation>
          Object's exact class (or list of classes), not taking subclasses into account (do not use with 'class')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findstation">
    <xs:attributeGroup ref="find"/>
    <xs:attributeGroup ref="findext_station" />
    <xs:attribute name="class" type="stationclasslookup">
      <xs:annotation>
        <xs:documentation>
          Station class
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findship">
    <xs:attributeGroup ref="find" />
    <xs:attributeGroup ref="findext_ship" />
    <xs:attribute name="class" type="shipclasslookup">
      <xs:annotation>
        <xs:documentation>
          Ship class
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="findzone">
    <xs:attributeGroup ref="find" />
    <xs:attributeGroup ref="findext_zone" />
  </xs:attributeGroup>

  <xs:attributeGroup name="createship">
    <xs:attribute name="macro" type="macroname" />
    <xs:attribute name="group" type="namestring">
      <xs:annotation>
        <xs:documentation>
          Ship group for random macro selection
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="ref" type="expression">
      <xs:annotation>
        <xs:documentation>
          Reference to ShipDB entry (either a plain ID string or a script expression that evaluates to an ID string)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="capturable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the ship capturable? (default is based on class)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="sellable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the ship sellable? (default is true)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="createnpc">
    <xs:attribute name="macro" type="macroname" />
    <xs:attribute name="group" type="namestring">
      <xs:annotation>
        <xs:documentation>
          Character group for random macro selection
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="actor" type="expression">
      <xs:annotation>
        <xs:documentation>
          Existing actor to be used instead of creating a new NPC (only useful with variable expressions in scripts)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="ref" type="expression">
      <xs:annotation>
        <xs:documentation>
          Reference to CharacterDB entry (either a plain ID string or a script expression that evaluates to an ID string)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="random">
    <xs:attribute name="exact" type="expression">
      <xs:annotation>
        <xs:documentation>
          Exact value (takes priority over min/max/profile/scale)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="list" type="expression">
      <xs:annotation>
        <xs:documentation>
          List of values (takes priority over min/max/profile/scale, ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="min" type="expression">
      <xs:annotation>
        <xs:documentation>
          Minimum random number (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="max" type="expression">
      <xs:annotation>
        <xs:documentation>
          Maximum random number (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="profile" type="profilelookup">
      <xs:annotation>
        <xs:documentation>
          Random number profile (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="scale">
      <xs:annotation>
        <xs:documentation>
          Scale of random number profile (ignored if exact is set or if profile is flat)
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:integer">
          <xs:minInclusive value="2" />
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="counting">
    <xs:attributeGroup ref="random" />
    <xs:attribute name="counter" type="variablename">
      <xs:annotation>
        <xs:documentation>
          Name of loop counter variable
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="reverse" type="boolean">
      <xs:annotation>
        <xs:documentation>
          If true then loop counter counts from the max value down to 1
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="range">
    <xs:attribute name="exact" type="expression">
      <xs:annotation>
        <xs:documentation>
          Exact number (takes priority over list and min/max)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="list" type="expression">
      <xs:annotation>
        <xs:documentation>
          List of numbers (takes priority over min/max, ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="min" type="expression">
      <xs:annotation>
        <xs:documentation>
          Minimum number (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="max" type="expression">
      <xs:annotation>
        <xs:documentation>
          Maximum number (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="objecteventsource">
    <xs:attribute name="object" type="expression">
      <xs:annotation>
        <xs:documentation>
          Event object (required if group attribute not supplied)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="group" type="groupeventsource" />
    <xs:attribute name="check" type="checkeventsource" />
  </xs:attributeGroup>

  <xs:attributeGroup name="condition">
    <xs:attribute name="chance" type="expression">
      <xs:annotation>
        <xs:documentation>
          Percentage chance of condition being checked (condition fails if not)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:attributeGroup>

  <xs:attributeGroup name="eventcondition">
    <xs:attributeGroup ref="condition" />
  </xs:attributeGroup>

  <xs:attributeGroup name="noneventcondition">
    <xs:attributeGroup ref="condition" />
    <xs:attribute name="negate" type="negatecondition" />
  </xs:attributeGroup>

  <xs:attributeGroup name="action">
    <xs:attribute name="chance" type="expression">
      <xs:annotation>
        <xs:documentation>
          Chance percentage of action being performed (action is skipped if not)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="weight" type="expression">
      <xs:annotation>
        <xs:documentation>
          Weight of action which determines its chance of being selected (only evaluated in &lt;do_any&gt; blocks)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:attributeGroup>

  <xs:attributeGroup name="conditionalaction">
    <xs:attribute name="value" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Value to match (checked for non-zero if no comparison range is specified)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attributeGroup ref="range" />
    <xs:attribute name="negate" type="negatecondition" />
  </xs:attributeGroup>

  <xs:attributeGroup name="position">
    <xs:attribute name="x" type="expression">
      <xs:annotation>
        <xs:documentation>
          X coordinate
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="y" type="expression">
      <xs:annotation>
        <xs:documentation>
          Y coordinate
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="z" type="expression">
      <xs:annotation>
        <xs:documentation>
          Z coordinate
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="value" type="expression">
      <xs:annotation>
        <xs:documentation>
          Position value, used in preference to coordinates if supplied
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="object" type="expression">
      <xs:annotation>
        <xs:documentation>
          An object (or any positional). Requires a space context to which its relative position is calculated. If also coordinates or a position value are supplied, they are interpreted as relative to the object.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="space" type="expression">
      <xs:annotation>
        <xs:documentation>
          Reference space to be used if the object attribute is supplied. Defaults to the space supplied by the parent XML node, if applicable, otherwise to the object's parent space.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attributeGroup ref="random">
      <xs:annotation>
        <xs:documentation>
          Distance from specified position
        </xs:documentation>
      </xs:annotation>
    </xs:attributeGroup>
  </xs:attributeGroup>

  <xs:attributeGroup name="rotation">
    <xs:attribute name="yaw" type="expression">
      <xs:annotation>
        <xs:documentation>
          Yaw rotation
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pitch" type="expression">
      <xs:annotation>
        <xs:documentation>
          Pitch rotation
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="roll" type="expression">
      <xs:annotation>
        <xs:documentation>
          Roll rotation
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="value" type="expression">
      <xs:annotation>
        <xs:documentation>
          Rotation value, used in preference to angles if supplied
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="boundingbox">
    <xs:attribute name="max" type="expression" use="required" />
    <xs:attribute name="center" type="expression" use="required" />
  </xs:attributeGroup>

  <xs:attributeGroup name="safepos">
    <xs:attribute name="allowyaxis" type="boolean" >
      <xs:annotation>
        <xs:documentation>
          Allow the generated position to also use the up/down axis, defaults to true
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="radius" type="expression">
      <xs:annotation>
        <xs:documentation>
          Radius to indicate necessary space required for a safe position (optional, typically defaults to the radius of the bounding box if an object or macro is supplied)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="angle" type="expression">
      <xs:annotation>
        <xs:documentation>
          Angle tolerance from the specified direction
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="direction" type="quadrantlookup">
      <xs:annotation>
        <xs:documentation>
          Direction for safepos checks. Based on the orientation of the 'directionobject' if provided. Can be combined with 'direction2'
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="direction2" type="quadrantlookup">
      <xs:annotation>
        <xs:documentation>
          Direction for safepos checks. Based on the orientation of the 'directionobject' if provided. Can be combined with 'direction' but ignored if opposing
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="directionobject" type="object">
      <xs:annotation>
        <xs:documentation>
          Direction object for safepos checks. If direction is not specified, the direction is considered to be from the base position to this object
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attributeGroup ref="position" />
    <xs:attribute name="ignored" type="object" />
    <xs:attribute name="includefiringrange" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Avoid the firing range of turrets
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="createobjectsafepos">
    <xs:attribute name="allowyaxis" type="boolean" >
      <xs:annotation>
        <xs:documentation>
          Allow the generated position to also use the up/down axis, defaults to true
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="radius" type="expression">
      <xs:annotation>
        <xs:documentation>
          Radius to indicate necessary space required for a safe position (defaults to created object radius if null)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attributeGroup ref="position" />
    <xs:attribute name="ignored" type="object" />
    <xs:attribute name="includefiringrange" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Avoid the firing range of turrets
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="orientation">
    <xs:attribute name="orientation" type="orientationlookup" use="required" />
    <xs:attribute name="refobject" type="expression" >
      <xs:annotation>
        <xs:documentation>
          Position of this object will be used as refposition, for boundingbox orientations the box of this object will be used.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="refposition" type="expression" >
      <xs:annotation>
        <xs:documentation>
          Position the orientation refers to (e.g. look_at means look from position to refposition), ignored if refobject is set
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="rgbcolour">
    <xs:attribute name="r" type="colour">
      <xs:annotation>
        <xs:documentation>
          Red.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="g" type="colour">
      <xs:annotation>
        <xs:documentation>
          Green.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="b" type="colour">
      <xs:annotation>
        <xs:documentation>
          Blue.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="playerchoice">
    <xs:attribute name="text" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Choice text
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="position" type="uipositionlookup" />
    <xs:attribute name="immediate" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Optional, set to true to indicate that the option has an immediate effect (defaults to false if not supplied)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="selectable" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Optional, determines whether the option is selectable. Defaults to true if not supplied.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="confidence" type="expression">
      <xs:annotation>
        <xs:documentation>
          Optional, specifies the default confidence of the player option for the smalltalk mini-game (1 to 5, default is 0, i.e. no confidence is displayed)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="tooltip" type="expression">
      <xs:annotation>
        <xs:documentation>
          Optional, specifies the tooltip displayed for this option.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="interaction">
    <xs:annotation>
      <xs:documentation>
        Interactive notification data
      </xs:documentation>
    </xs:annotation>
    <xs:attribute name="text" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Text displayed during interactive notification to prompt player to interact
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="param" type="expression">
      <xs:annotation>
        <xs:documentation>
          Interactive notification parameter passed to &lt;event_player_interaction&gt;
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="param2" type="expression">
      <xs:annotation>
        <xs:documentation>
          Secondary interactive notification parameter passed to &lt;event_player_interaction&gt;
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="silent" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Should the flashing effect of the event monitor be suppressed?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="showhelp">
    <xs:attribute name="position" type="expression">
      <xs:annotation>
        <xs:documentation>
          Position of help text (defined in parameters.xml) - defaults to 0
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="duration" type="expression">
      <xs:annotation>
        <xs:documentation>
          Duration of help text display. If not provided, a suitable duration will be calculated.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="log" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Add help text to logbook? Default is false
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="dropcargo">
    <xs:attribute name="groupname" type="lvalueexpression">
      <xs:annotation>
        <xs:documentation>
          Name of the group to which all spawned ware containers will be added (optional, group will be created if it does not exist yet)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="wares" type="lvalueexpression">
      <xs:annotation>
        <xs:documentation>
          Name of the value that will receive a list of all spawned ware types (optional)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="amounts" type="lvalueexpression">
      <xs:annotation>
        <xs:documentation>
          Name of the value that will receive a list of ware amounts, corresponding to the wares result list.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="unbundle" type="booleanexpression" use="optional">
      <xs:annotation>
        <xs:documentation>
          Should the ware be unbundled (turn ware into ammo/units) on transfer? (optional, defaults to false)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="rebundle" type="booleanexpression" use="optional">
      <xs:annotation>
        <xs:documentation>
          Do the wares to be dropped come from ammo/unit storage? (optional, defaults to false)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="resetobjectboost">
    <xs:attribute name="object" type="object" use="required" />
    <xs:attribute name="otherobject" type="expression">
      <xs:annotation>
        <xs:documentation>
          Object the boost is towards (takes preference over 'faction')
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="faction" type="factionlookup">
      <xs:annotation>
        <xs:documentation>
          Faction the boost is towards ('otherobject' takes preference if provided)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="objectboost">
    <xs:attributeGroup ref="resetobjectboost" />
    <xs:attribute name="decay" type="expression">
      <xs:annotation>
        <xs:documentation>
          Decay rate
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="delay" type="expression">
      <xs:annotation>
        <xs:documentation>
          Decay delay
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <xs:attributeGroup name="objectrelationboost">
    <xs:attributeGroup ref="objectboost" />
    <xs:attribute name="silent" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is the relation boost silent, i.e. without player notification? See &lt;event_player_relation_changed&gt;
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:attributeGroup>

  <!-- ===== Complex types ==== -->

  <xs:complexType name="filedoc">
    <xs:sequence>
      <xs:element name="author" minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:documentation>
            Author details
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="name" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                Author name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="alias" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                Author alias
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="contact" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                Author contact details
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element name="content" minOccurs="0" maxOccurs="1">
        <xs:complexType>
          <xs:attribute name="reference" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                File reference
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                File name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="description" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                File description
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element name="version" minOccurs="0" maxOccurs="1">
        <xs:complexType>
          <xs:attribute name="number" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                Internal version number
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="date" type="xs:string">
            <xs:annotation>
              <xs:documentation>
                Date of current version
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="status" type="versionstatus">
            <xs:annotation>
              <xs:documentation>
                Status of current version
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

  <!-- Usage note: Use together with one of the attributeGroups "findarbitrary", "findobject", "findstation", or "findship". -->
  <!-- If the class of result components is already determined and is neither ship nor station, you can just use attributeGroup "find". -->
  <xs:complexType name="matchbase">
    <xs:choice minOccurs="0" maxOccurs="unbounded">
      <xs:element name="match" type="matchsubfilter">
        <xs:annotation>
          <xs:documentation>
            Match filter
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_any" type="matchsubfilter">
        <xs:annotation>
          <xs:documentation>
            Match any of the specified filters (attributes and sub-elements)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_parent" type="matchsubfilter">
        <xs:annotation>
          <xs:documentation>
            Match filter for the parent of the object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_context" type="matchsubfilter">
        <xs:annotation>
          <xs:documentation>
            Match filter for the context of the object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_child" type="matchsubfilterrange">
        <xs:annotation>
          <xs:documentation>
            Match filter for the children of the objects
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_content" type="matchsubfilterrange">
        <xs:annotation>
          <xs:documentation>
            Match filter for the contained objects of the objects
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_macro_children" type="matchrange">
        <xs:annotation>
          <xs:documentation>
            Match filter for amount of children defined in the macro of the objects (this will include potentially collapsed children)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_hull" type="matchrange">
        <xs:annotation>
          <xs:documentation>
            Match hull percentage
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_max_hull" type="matchrange">
        <xs:annotation>
          <xs:documentation>
            Match max hull percentage
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_shield" type="matchrange">
        <xs:annotation>
          <xs:documentation>
            Match shield percentage
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_attention">
        <xs:annotation>
          <xs:documentation>
            Match attention level
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="min" type="attentionexprlookup">
            <xs:annotation>
              <xs:documentation>
                Min attention level (not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="max" type="attentionexprlookup">
            <xs:annotation>
              <xs:documentation>
                Max attention level (not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="exact" type="attentionexprlookup">
            <xs:annotation>
              <xs:documentation>
                Exact attention level (not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_revealed_percentage" type="matchrevealedpercentage">
        <xs:annotation>
          <xs:documentation>
            Match by reveal percentage filter
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_pilot">
        <xs:annotation>
          <xs:documentation>
            Match filter for the ship's pilot
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="findentity" />
              <xs:attribute name="negate" type="negatefilter" />
              <xs:attribute name="comment" type="comment" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>
      <xs:element name="match_distance">
        <xs:annotation>
          <xs:documentation>
            Match by distance filter. Distance can be checked either to an object or to a position. The reference space, if supplied, must contain the searched objects. min and/or max must be set.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="x" type="expression">
            <xs:annotation>
              <xs:documentation>
                X coordinate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="y" type="expression">
            <xs:annotation>
              <xs:documentation>
                Y coordinate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="z" type="expression">
            <xs:annotation>
              <xs:documentation>
                Z coordinate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="value" type="expression">
            <xs:annotation>
              <xs:documentation>
                Position value, used in preference to coordinates if supplied
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object, used in preference to coordinates if supplied. If no space context is supplied, the object's sector is used, so the searched objects are required to be in the same sector.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="space" type="expression">
            <xs:annotation>
              <xs:documentation>
                Reference space which has to contain both the reference (object or position) and the searched objects.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="min" type="expression">
            <xs:annotation>
              <xs:documentation>
                Minimal distance (min distance is not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="max" type="expression">
            <xs:annotation>
              <xs:documentation>
                Maximal distance (max distance is not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_gate_distance">
        <xs:annotation>
          <xs:documentation>
            Match by distance by jumpgates. Calculation based on the sectors of the objects. Checking distance of clusters will check between two random sectors within them.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="min" type="expression">
            <xs:annotation>
              <xs:documentation>
                Min distance by jumpgates (not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="max" type="expression">
            <xs:annotation>
              <xs:documentation>
                Max distance by jumpgates (not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Origin object for the distance calculation. Passing cluster will base the check on a random sector.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_size">
        <xs:annotation>
          <xs:documentation>
            Match by size filter. Size is based on diameter of the bounding box. min and/or max must be set.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="min" type="expression">
            <xs:annotation>
              <xs:documentation>
                Minimal size of the bounding box (min size is not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="max" type="expression">
            <xs:annotation>
              <xs:documentation>
                Maximal size (max size is not compared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_is_in_view_of">
        <xs:annotation>
          <xs:documentation>
            Match by view angle filter. Can be checked either to an object or to a position AND rotation. The reference space, if supplied, must contain the searched objects.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="x" type="expression">
            <xs:annotation>
              <xs:documentation>
                X coordinate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="y" type="expression">
            <xs:annotation>
              <xs:documentation>
                Y coordinate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="z" type="expression">
            <xs:annotation>
              <xs:documentation>
                Z coordinate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="pitch" type="expression">
            <xs:annotation>
              <xs:documentation>
                Pitch (rotation around x axis)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="yaw" type="expression">
            <xs:annotation>
              <xs:documentation>
                Yaw (rotation around y axis)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="roll" type="expression">
            <xs:annotation>
              <xs:documentation>
                Roll (rotation around Z axis)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object, used in preference to coordinates if supplied. If no space context is supplied, the object's sector is used, so the searched objects are required to be in the same sector.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="space" type="expression">
            <xs:annotation>
              <xs:documentation>
                Reference space which has to contain both the reference (object or position/rotation) and the searched objects.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="vertical" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The vertical viewing angle (full range from top to bottom)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="horizontal" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The horizontal viewing angle (full range from left to right)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_infopoint_location">
        <xs:annotation>
          <xs:documentation>
            Match filter for an infopoint location
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="distance" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Max distance from player ship (defaults to 0, ignoring distance)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="viewangle" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                View angle from playership, total angle from left to right (defaults to 0, ignoring angle)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_tradeoffer_location">
        <xs:annotation>
          <xs:documentation>
            Match filter for a tradeoffer location
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="distance" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Max distance from player ship (defaults to 0, ignoring distance)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="viewangle" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                View angle from playership, total angle from left to right (defaults to 0, ignoring angle)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="wares" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Ware or list of wares the trade location must be holding
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="any" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Match any ware or all wares?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_can_host_trade_offer">
        <xs:annotation>
          <xs:documentation>
            Match filter for whether a container can host a trade offer for a ware
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="wares" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Ware or list of wares the trade location must be capable of holding
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="any" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Match any ware or all wares?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buyer" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Is the container the buyer or seller
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_buildsource">
        <xs:annotation>
          <xs:documentation>
            Match filter for build source
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="sequence" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build source sequence ("" for base station)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stage" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build source stage (0 for base station)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_buyoffer" type="matchtradeoffer">
        <xs:annotation>
          <xs:documentation>
            Match filter for available buy offers
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_selloffer" type="matchtradeoffer">
        <xs:annotation>
          <xs:documentation>
            Match filter for available sell offers
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_products" type="matchwarelist">
        <xs:annotation>
          <xs:documentation>
            Match filter for products. The match is valid if the object produces any of the supplied wares, even if there are no current sell offers.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_resources" type="matchwarelist">
        <xs:annotation>
          <xs:documentation>
            Match filter for resources. The match is valid if the object consumes any of the supplied wares, even if there are no current buy offers.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_any_cargo" type="matchwarelist">
        <xs:annotation>
          <xs:documentation>
            Match filter for the cargo wares of a container class object (e.g. Ships, Stations)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_any_wares" type="matchwarelist">
        <xs:annotation>
          <xs:documentation>
            Match filter for the non-cargo wares of an object (e.g. Collectable Ware Drops, Asteroids)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_relation">
        <xs:annotation>
          <xs:documentation>
            Match by relation filter. Relation can be checked against a faction or component.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object to reference (takes preference over 'faction')
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="factionlookup">
            <xs:annotation>
              <xs:documentation>
                Faction to reference ('object' takes preference if provided)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="relation" type="relationlookup" use="required">
            <xs:annotation>
              <xs:documentation>
                Relation range
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="comparison" type="relationcomparison" />
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_dock">
        <xs:annotation>
          <xs:documentation>
            Match filter for a dock
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="size" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Dock compatibility size
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="match_summarised_adsign" type="matchsummarisedcontent">
        <xs:annotation>
          <xs:documentation>
            Match filter for summarised Ad Signs on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_summarised_efficiencyupgrade" type="matchsummarisedcontent">
        <xs:annotation>
          <xs:documentation>
            Match filter for summarised Efficiency Upgrades on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_summarised_shield" type="matchsummarisedcontent">
        <xs:annotation>
          <xs:documentation>
            Match filter for summarised Shields on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_summarised_surfacedestructible" type="matchsummarisedcontent">
        <xs:annotation>
          <xs:documentation>
            Match filter for summarised Surface Destructibles on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_summarised_turret" type="matchsummarisedcontent">
        <xs:annotation>
          <xs:documentation>
            Match filter for summarised Turrets on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_units_stored" type="matchunits">
        <xs:annotation>
          <xs:documentation>
            Match filter for stored units on a Defensible object (including both available and unavailable)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_units_available" type="matchunits">
        <xs:annotation>
          <xs:documentation>
            Match filter for available units on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_units_unavailable" type="matchunits">
        <xs:annotation>
          <xs:documentation>
            Match filter for unavailable units on a Defensible object
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_cargo" type="matchwaresorcargo">
        <xs:annotation>
          <xs:documentation>
            Match filter for the cargo of a storage module or container class objects (e.g. Ships, Stations)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="match_wares" type="matchwaresorcargo">
        <xs:annotation>
          <xs:documentation>
            Match filter for the non-cargo wares of an object (e.g. Collectable Ware Drops, Asteroids)
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:choice>
  </xs:complexType>

  <xs:complexType name="matchsubfilter">
    <xs:complexContent>
      <xs:extension base="matchbase">
        <xs:attributeGroup ref="findarbitrary" />
        <xs:attribute name="negate" type="negatefilter" />
        <xs:attribute name="comment" type="comment" />
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:complexType name="matchsubfilterrange">
    <xs:complexContent>
      <xs:extension base="matchbase">
        <xs:attributeGroup ref="findarbitrary"/>
        <xs:attributeGroup ref="range" />
        <xs:attribute name="negate" type="negatefilter" />
        <xs:attribute name="comment" type="comment" />
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:complexType name="matchtradeoffer">
    <xs:complexContent>
      <xs:extension base="matchtrade">
        <xs:attribute name="negate" type="negatefilter" />
        <xs:attribute name="comment" type="comment" />
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Trade filter -->
  <xs:complexType name="matchbuyer">
    <xs:annotation>
      <xs:documentation>
        Match filter for the buyer of the trade
      </xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="matchbase">
        <xs:attributeGroup ref="findarbitrary" />
        <xs:attribute name="comment" type="comment" />
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Trade filter -->
  <xs:complexType name="matchseller">
    <xs:annotation>
      <xs:documentation>
        Match filter for the seller of the trade
      </xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="matchbase">
        <xs:attributeGroup ref="findarbitrary" />
        <xs:attribute name="comment" type="comment" />
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:complexType name="matchwarelist">
    <xs:attribute name="wares" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          List of wares
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="negate" type="negatefilter" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="matchwaresorcargo">
    <xs:sequence minOccurs="0" maxOccurs="unbounded">
      <xs:element name="ware">
        <xs:complexType>
          <xs:attribute name="ware" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Ware or list of wares
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="exact" type="expression">
            <xs:annotation>
              <xs:documentation>
                Exact number (takes priority over min/max)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="min" type="expression">
            <xs:annotation>
              <xs:documentation>
                Minimum number (ignored if exact is set)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="max" type="expression">
            <xs:annotation>
              <xs:documentation>
                Maximum number (ignored if exact is set)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="negate" type="negatefilter" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

  <xs:complexType name="matchrange">
    <xs:attributeGroup ref="range" />
    <xs:attribute name="negate" type="negatefilter" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="matchrevealedpercentage">
    <xs:attribute name="secrecylevel" type="expression">
      <xs:annotation>
        <xs:documentation>
          Secrecy level (omit for all)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attributeGroup ref="range" />
    <xs:attribute name="negate" type="negatefilter" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="matchsummarisedcontent">
    <xs:attribute name="operational" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          Is operational?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="macro" type="macro" />
    <xs:attributeGroup ref="range" />
    <xs:attribute name="negate" type="negatefilter" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="matchunits">
    <xs:attribute name="category" type="unitcategorylookup" use="required">
      <xs:annotation>
        <xs:documentation>
          Unit Category to match
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attributeGroup ref="range" />
    <xs:attribute name="negate" type="negatefilter" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="matchtradeoffervalues">
    <xs:choice minOccurs="0" maxOccurs="unbounded">
      <xs:element name="amount" type="range">
        <xs:annotation>
          <xs:documentation>
            Range for the total amount of the trade offer wares
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="minamount" type="range">
        <xs:annotation>
          <xs:documentation>
            Range for the min amount of the trade offer wares
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalprice" type="range">
        <xs:annotation>
          <xs:documentation>
            Range for the total price of the trade offer
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="minprice" type="range">
        <xs:annotation>
          <xs:documentation>
            Range for the min price of the trade offer
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:choice>
  </xs:complexType>

  <xs:complexType name="matchtrade">
    <xs:all>
      <xs:element name="amount" type="rangefilter" minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            Filter by the amount in the trade, not including reservations
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="offeramount" minOccurs="0">
        <xs:complexType>
          <xs:annotation>
            <xs:documentation>
              Filter by the amount in the trade in addition to the amount resereved
            </xs:documentation>
          </xs:annotation>
          <xs:complexContent>
            <xs:extension base="rangefilter">
              <xs:attribute name="entity" type="entity">
                <xs:annotation>
                  <xs:documentation>
                    (optional) entity that will do the trading. If specified this MUST be the entity of the tradepartner object that does ware reservations. (defaults to tradenpc of tradepartner)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="tradepartner" type="container">
                <xs:annotation>
                  <xs:documentation>
                    (optional) tradepartner that will do the trading. If specified this MUST be the object controlled by the entity that does ware reservations. (defaults to controlled object of entity)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>
      <xs:element name="price" type="rangefilter" minOccurs="0" />
      <xs:element name="relativeprice" type="rangefilter" minOccurs="0" />
      <xs:element name="stocklevel" type="rangefilter" minOccurs="0" />
      <xs:element name="totalprice" type="rangefilter" minOccurs="0" />
      <xs:element name="volume" type="rangefilter" minOccurs="0" />
      <xs:element name="totalvolume" type="rangefilter" minOccurs="0" />
      <xs:element name="match_buyer" type="matchbuyer" minOccurs="0" />
      <xs:element name="match_seller" type="matchseller" minOccurs="0" />
    </xs:all>
    <xs:attribute name="wares" type="ware">
      <xs:annotation>
        <xs:documentation>
          (optional) single ware or list of wares to filter offers for
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="knowntoplayer" type="booleanexpression">
      <xs:annotation>
        <xs:documentation>
          (optional) is trade known to the player?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="unbundle" type="booleanexpression" use="optional">
      <xs:annotation>
        <xs:documentation>
          Should the ware be unbundled (turn ware into ammo/units) on transfer?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="rebundle" type="booleanexpression" use="optional">
      <xs:annotation>
        <xs:documentation>
          Should the ware be rebundled (convert ammo/unit -> ware) on transfer?
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>

  <xs:complexType name="range">
    <xs:attributeGroup ref="range" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="selectrange">
    <xs:group ref="selectrange" />
    <xs:attributeGroup ref="range" />
    <xs:attribute name="selection" type="selectionlookup" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="position">
    <xs:annotation>
      <xs:documentation>
        Position relative to a given space or object
      </xs:documentation>
    </xs:annotation>
    <xs:attributeGroup ref="position" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="rotation">
    <xs:annotation>
      <xs:documentation>
        Rotation in space
      </xs:documentation>
    </xs:annotation>
    <xs:attributeGroup ref="rotation" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="boundingbox">
    <xs:annotation>
      <xs:documentation>
        Bounding box relative to a given space or object
      </xs:documentation>
    </xs:annotation>
    <xs:attributeGroup ref="boundingbox" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="safepos">
    <xs:annotation>
      <xs:documentation>
        Safe position relative to a given space or object
      </xs:documentation>
    </xs:annotation>
    <xs:attributeGroup ref="safepos" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="createobjectsafepos">
    <xs:annotation>
      <xs:documentation>
        Create the object using a safe position
      </xs:documentation>
    </xs:annotation>
    <xs:attributeGroup ref="createobjectsafepos" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="orientation">
    <xs:annotation>
      <xs:documentation>
        Orientation in space
      </xs:documentation>
    </xs:annotation>
    <xs:attributeGroup ref="orientation" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="componentoffset">
    <xs:annotation>
      <xs:documentation>
        Component Offset
      </xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="position" type="position" minOccurs="0" maxOccurs="1"/>
    </xs:sequence>
    <xs:attribute name="object" type="object" use="required" />
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="rangefilter">
    <xs:attribute name="comment" type="comment" />
    <xs:attribute name="exact" type="expression">
      <xs:annotation>
        <xs:documentation>
          Exact number (takes priority over min/max)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="min" type="expression">
      <xs:annotation>
        <xs:documentation>
          Minimum number (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="max" type="expression">
      <xs:annotation>
        <xs:documentation>
          Maximum number (ignored if exact is set)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>

  <xs:complexType name="buildsequence">
    <xs:annotation>
      <xs:documentation>
        A build sequence definition
      </xs:documentation>
    </xs:annotation>
    <xs:attribute name="sequence" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Sequence identifier string
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="stage" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Final sequence stage
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="upgradeentry">
    <xs:annotation>
      <xs:documentation>
        A upgrade plan definition
      </xs:documentation>
    </xs:annotation>
    <xs:attribute name="upgrade" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Upgrade identifier string
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="level" type="expression" use="required">
      <xs:annotation>
        <xs:documentation>
          Desired upgrade level
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="shipdbcategory">
    <xs:attribute name="faction" type="expression">
      <xs:annotation>
        <xs:documentation>
          Faction or list of factions
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="tags" type="expression">
      <xs:annotation>
        <xs:documentation>
          Specification tag or list of tags
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="size">
      <xs:annotation>
        <xs:documentation>
          Ship size
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="ship_xs" />
          <xs:enumeration value="ship_s" />
          <xs:enumeration value="ship_m" />
          <xs:enumeration value="ship_l" />
          <xs:enumeration value="ship_xl" />
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="shipdbcategoryselect">
    <xs:attribute name="faction" type="factionlookup">
      <xs:annotation>
        <xs:documentation>
          Faction or list of factions
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="tags" type="expression">
      <xs:annotation>
        <xs:documentation>
          Specification tag or list of tags
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="size" type="shipsizeclasslookup">
      <xs:annotation>
        <xs:documentation>
          Ship size
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="required" type="boolean">
      <xs:annotation>
        <xs:documentation>
          If true then an error message will be produced if no matching ship entry is found (default is true). Note that no ship will be created in either case.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="characterdbcategory">
    <xs:attribute name="faction" type="expression">
      <xs:annotation>
        <xs:documentation>
          Faction or list of factions
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="tags" type="expression">
      <xs:annotation>
        <xs:documentation>
          Specification tag or list of tags
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="race" type="rawracelookup">
      <xs:annotation>
        <xs:documentation>
          Character race (species)
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="characterdbcategoryselect">
    <xs:attribute name="faction" type="factionlookup">
      <xs:annotation>
        <xs:documentation>
          Faction or list of factions
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="tags" type="expression">
      <xs:annotation>
        <xs:documentation>
          Specification tag or list of tags
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="race" type="racelookup">
      <xs:annotation>
        <xs:documentation>
          Ship size
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="required" type="boolean">
      <xs:annotation>
        <xs:documentation>
          If true then an error message will be produced if no matching character entry is found (default is true). Note that no NPC will be created in either case.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="comment" type="comment" />
  </xs:complexType>

  <xs:complexType name="event_playerpricemodifier">
    <xs:attributeGroup ref="eventcondition" />
    <xs:attribute name="source" type="expression">
      <xs:annotation>
        <xs:documentation>
          Source of discount/commission, can be an entity or a faction
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="type">
      <xs:annotation>
        <xs:documentation>
          Required type of discount/commission source
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:enumeration value="entity">
            <xs:annotation>
              <xs:documentation>
                Source is an entity
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
          <xs:enumeration value="faction">
            <xs:annotation>
              <xs:documentation>
                Source is a faction
              </xs:documentation>
            </xs:annotation>
          </xs:enumeration>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>

  <!-- ===== Generic groups ==== -->

  <xs:group name="selectrange">
    <xs:sequence>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="select">
          <xs:annotation>
            <xs:documentation>
              Selection element (used if selection attribute present)
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attributeGroup ref="range" />
            <xs:attribute name="weight" type="selectionweight" />
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:sequence>
  </xs:group>

  <xs:group name="createship">
    <xs:sequence>
      <xs:element name="select" type="shipdbcategoryselect" minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:documentation>
            Criteria for selecting a suitable ship from the ShipDB.
            If combined with a static ShipDB reference in the ref attribute, the nodes of the referenced type take precedence.
            &lt;select&gt; cannot be combined with a variable ShipDB reference.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="owner">
          <xs:annotation>
            <xs:documentation>
              Owner faction selection (if missing and a pilot node is present, the pilot's faction will be used)
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:group ref="selectrange" />
            <xs:attributeGroup ref="range" />
            <xs:attribute name="selection" type="selectionlookup" />
            <xs:attribute name="overridenpc" type="booleanexpression">
              <xs:annotation>
                <xs:documentation>
                  Override the owner faction of the generated NPCs to the owner defined in this node (otherwise the owner may be random based on the character reference)
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="pilot">
          <xs:annotation>
            <xs:documentation>
              Pilot
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:group ref="createnpc" />
            <xs:attributeGroup ref="createnpc" />
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="defence">
          <xs:annotation>
            <xs:documentation>
              Defence NPC (only evaluated when creating a capital ship)
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:group ref="createnpc" />
            <xs:attributeGroup ref="createnpc" />
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="engineer">
          <xs:annotation>
            <xs:documentation>
              Engineer (only evaluated when creating a capital ship)
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:group ref="createnpc" />
            <xs:attributeGroup ref="createnpc" />
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="basket">
          <xs:annotation>
            <xs:documentation>
              Default ware basket to select wares to be added from. This basket definition is required when neither basket nor list are defined in a wares element.
              When used in the JobDB or referenced from it, this basket is optional and overrides the job's basket.
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute name="basket" type="namestring" use="required" />
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="ammo">
          <xs:annotation>
            <xs:documentation>
              Ammo the ship is spawned with
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:choice minOccurs="0" maxOccurs="unbounded">
              <xs:element name="macro">
                <xs:complexType>
                  <xs:choice>
                    <xs:element name="fillpercent">
                      <xs:annotation>
                        <xs:documentation>
                          Fill percentage
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attributeGroup ref="range" />
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="fillamount">
                      <xs:annotation>
                        <xs:documentation>
                          Fill amount
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attributeGroup ref="range" />
                      </xs:complexType>
                    </xs:element>
                  </xs:choice>
                  <xs:attribute name="ref" type="macroname" />
                  <xs:attributeGroup ref="random" />
                </xs:complexType>
              </xs:element>
            </xs:choice>
          </xs:complexType>
        </xs:element>
        <xs:element name="cargo">
          <xs:annotation>
            <xs:documentation>
              Cargo the ship is spawned with
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:choice minOccurs="0" maxOccurs="unbounded">
              <xs:element name="wares">
                <xs:complexType>
                  <xs:all>
                    <xs:element name="fillpercent" minOccurs="0" maxOccurs="1">
                      <xs:annotation>
                        <xs:documentation>
                          Maximum cargo space fill percent of the ware(s) added from this ware node. If specified together with fillvalue, the lower amount is used.
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attributeGroup ref="random" />
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="fillvalue" minOccurs="0" maxOccurs="1">
                      <xs:annotation>
                        <xs:documentation>
                          Maximum credit value of the ware(s) added from this ware node. If specified together with fillpercent, the lower amount is used.
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attributeGroup ref="random" />
                      </xs:complexType>
                    </xs:element>
                  </xs:all>
                  <xs:attribute name="chance" >
                    <xs:annotation>
                      <xs:documentation>
                        Chance that the node will be processed.
                      </xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:float">
                        <xs:minInclusive value="0" />
                        <xs:maxInclusive value="100" />
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="basket" type="namestring" >
                    <xs:annotation>
                      <xs:documentation>
                        Ware basket to select wares to be added from. Takes priority over wares defined in list attribute, and over any default basket.
                        If no default basket is provided via the &lt;basket&gt; element or via the job definition, either basket or list attribute must be supplied.
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="list" type="expression">
                    <xs:annotation>
                      <xs:documentation>
                        List of wares to be chosen from ( script-list syntax using [] !)
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="multiple" type="xs:boolean" >
                    <xs:annotation>
                      <xs:documentation>
                        If this is set to true, ALL wares in the basket/list will be added, evenly distributred according to fillpercent/fillvalue, otherwise a single ware will be randomly selected.
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="onjobrespawn" type="xs:boolean" >
                    <xs:annotation>
                      <xs:documentation>
                        By default cargo nodes are skipped for ships that are RE-spawned by the Job Engine. If this is set to true, this node will be processed every time this ship is spawned for a job. Wares nodes are always processed for non-job related ship creation.
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:choice>
          </xs:complexType>
        </xs:element>
        <xs:element name="inventory">
          <xs:annotation>
            <xs:documentation>
              Inventory the ship is spawned with
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:choice minOccurs="0" maxOccurs="unbounded">
              <xs:element name="wares">
                <xs:complexType>
                  <xs:all>
                    <xs:element name="fillamount" minOccurs="0" maxOccurs="1">
                      <xs:annotation>
                        <xs:documentation>
                          Fill amount
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attributeGroup ref="random" />
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="fillvalue" minOccurs="0" maxOccurs="1">
                      <xs:annotation>
                        <xs:documentation>
                          Fill value
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attributeGroup ref="random" />
                      </xs:complexType>
                    </xs:element>
                  </xs:all>
                  <xs:attribute name="chance" >
                    <xs:annotation>
                      <xs:documentation>
                        Chance that the node will be processed.
                      </xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:float">
                        <xs:minInclusive value="0" />
                        <xs:maxInclusive value="100" />
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="basket" type="namestring" >
                    <xs:annotation>
                      <xs:documentation>
                        Ware basket to select wares to be added from. Takes priority over wares defined in list attribute, and over any default basket.
                        If no default basket is provided via the &lt;basket&gt; element or via the job definition, either basket or list attribute must be supplied.
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="list" type="expression">
                    <xs:annotation>
                      <xs:documentation>
                        List of wares to be chosen from ( script-list syntax using [] !)
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="multiple" type="xs:boolean" >
                    <xs:annotation>
                      <xs:documentation>
                        If this is set to true, ALL wares in the basket/list will be added, evenly distributred according to fillpercent/fillvalue, otherwise a single ware will be randomly selected.
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:choice>
          </xs:complexType>
        </xs:element>
        <xs:element name="drop">
          <xs:annotation>
            <xs:documentation>
              Drop object
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute name="ref" type="namestring" use="required">
              <xs:annotation>
                <xs:documentation>
                  DropDB reference
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="units">
          <xs:annotation>
            <xs:documentation>
              Drone Units
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:choice minOccurs="0" maxOccurs="unbounded">
              <xs:element name="unit">
                <xs:complexType>
                  <xs:attribute name="category" type="unitcategorylookup" use="required" />
                  <xs:attribute name="mk" type="expression" />
                  <xs:attribute name="tags" type="expression" />
                  <xs:attributeGroup ref="random" />
                </xs:complexType>
              </xs:element>
            </xs:choice>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:sequence>
  </xs:group>

  <xs:group name="createnpc">
    <xs:sequence>
      <xs:element name="select" type="characterdbcategoryselect" minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:documentation>
            Criteria for selecting a suitable character from the CharacterDB.
            If combined with a static CharacterDB reference in the ref attribute, the nodes of the referenced type take precedence.
            &lt;select&gt; cannot be combined with a variable CharacterDB reference.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="name" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>
              NPC name (random name will be chosen if not supplied)
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute name="name" type="expression" use="required">
              <xs:annotation>
                <xs:documentation>
                  Name string expression
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="owner" type="selectrange">
          <xs:annotation>
            <xs:documentation>
              Owner faction selection (if the NPC is used as pilot it will override the ship's owner)
            </xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="page">
          <xs:annotation>
            <xs:documentation>
              Voice page ID. Instead of directly supplying a page ID, the tags attribute can be used to specify requirements for the random page selection.
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attributeGroup ref="random" />
            <xs:attribute name="tags" type="expression">
              <xs:annotation>
                <xs:documentation>
                  Either a single tag or a list of tags which are required for the voice page.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="comment" type="comment" />
          </xs:complexType>
        </xs:element>
        <xs:element name="skills">
          <xs:annotation>
            <xs:documentation>
              Character skills
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence minOccurs="0" maxOccurs="unbounded">
              <xs:element name="skill">
                <xs:annotation>
                  <xs:documentation>
                    Skill (number of stars, between 0 and 5)
                  </xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:attributeGroup ref="random" />
                  <xs:attribute name="type" type="skilltypelookup">
                    <xs:annotation>
                      <xs:documentation>
                        Skill type
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="comment" type="comment" />
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:sequence>
  </xs:group>

  <xs:group name="voicedata">
    <xs:choice>
      <xs:element name="text">
        <xs:annotation>
          <xs:documentation>
            Add a TextDB line to the texts to be spoken. Cannot be combined with attributes 'page' and 'line' in parent element.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="page" type="pagewithdefault" />
          <xs:attribute name="line" type="line" use="required" />
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="name">
        <xs:annotation>
          <xs:documentation>
            Adds the name of a value to the texts to be spoken. Requires that a name has been defined in the correct format. Cannot be combined with attributes 'page' and 'line' in parent element.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                A component, object, macro, faction, race, or ware
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
      <xs:element name="description">
        <xs:annotation>
          <xs:documentation>
            Adds the description of a value to the texts to be spoken. Requires that a description has been defined in the correct format. Cannot be combined with attributes 'page' and 'line' in parent element.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                A component, object, macro, faction, race, or ware
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="comment" type="comment" />
        </xs:complexType>
      </xs:element>
    </xs:choice>
  </xs:group>

  <!-- ===== Common conditions ===== -->

  <xs:group name="commonconditions_event">
    <xs:choice>

      <xs:element name="event_repair_requested">
        <xs:annotation>
          <xs:documentation>
            Event for when repair of a component has been requested (object = the object containing the damaged component - e.g. a ship or station, param = the damaged component, param2 = whether to make the damaged component a priority for repair)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_ui_triggered">
        <xs:annotation>
          <xs:documentation>
            Event for when a UI control is triggered (param = screen ID, param2 = control ID, param3 = screen parameters)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="screen" type="expression">
            <xs:annotation>
              <xs:documentation>
                Screen ID
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="control" type="expression">
            <xs:annotation>
              <xs:documentation>
                Control ID
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_unit_destroyed">
        <xs:annotation>
          <xs:documentation>
            Event for when a unit has been destroyed (object = the object owning the unit, param = the unit's category, param2 = the unit's mk)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="category" type="unitcategorylookup">
            <xs:annotation>
              <xs:documentation>
                The destroyed unit's category
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="mk" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_unit_started_building">
        <xs:annotation>
          <xs:documentation>
            Event for when a unit has started building/welding (object = the object on which the unit operates, param = the unit's mk)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="mk" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_unit_stopped_building">
        <xs:annotation>
          <xs:documentation>
            Event for when a unit has stopped building/welding (object = the object on which the unit operates, param = the unit's mk)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="mk" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_unit_started_repairing">
        <xs:annotation>
          <xs:documentation>
            Event for when a unit has started repairing/welding (object = the object on which the unit operates, param = the unit's mk)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="mk" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_unit_stopped_repairing">
        <xs:annotation>
          <xs:documentation>
            Event for when a unit has stopped repairing/welding (object = the object on which the unit operates, param = the unit's mk)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="mk" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_boarding_support_failed">
        <xs:annotation>
          <xs:documentation>
            Event for when a boarding support mission was NOT successful (object = boarding commander)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_boarding_support_succeeded">
        <xs:annotation>
          <xs:documentation>
            Event for when a boarding support mission was successful (object = boarding commander)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_boost_charging_aborted">
        <xs:annotation>
          <xs:documentation>
            Event for when an object aborts charging boost (object = boosting object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_boost_charging_started">
        <xs:annotation>
          <xs:documentation>
            Event for when an object starts charging boost (object = boosting object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_boost_started">
        <xs:annotation>
          <xs:documentation>
            Event for when an object starts boosting (object = boosting object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_boost_stopped">
        <xs:annotation>
          <xs:documentation>
            Event for when an object stops boosting (object = boosting object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_build_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a builder platform starts building (object = builder platform/ship, param = build module)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="buildmodule" type="buildmodule" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_build_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when a builder platform finishes building (object = builder platform/ship, param = build module, param2 = buildplan)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="buildmodule" type="buildmodule" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_build_cancelled">
        <xs:annotation>
          <xs:documentation>
            Event for when a builder platform cancels building (object = builder platform/ship, param = build module, param2 = buildplan)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="buildmodule" type="buildmodule" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_control_entity_added">
        <xs:annotation>
          <xs:documentation>
            Event for when a control entity is set on a controlable (object = controllable, param = entity)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="entity" type="entity"/>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_conversation_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when a conversation is finished (object = actor, param = outcome, param2 = outcome parameter)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="actor" type="actor" />
          <xs:attribute name="outcome" type="expression">
            <xs:annotation>
              <xs:documentation>
                Conversation outcome (the name of the last section chosen by the player, or the conversation name in case of a non-interactive conversation)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="outcomeparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                The outcome parameter (the last choice parameter as provided by &lt;add_player_choice&gt;, &lt;add_player_choice_sub&gt;, or a menu selection),
                or the conversation parameter in case of a non-interactive conversation (as provided by &lt;start_conversation&gt;)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_conversation_next_section">
        <xs:annotation>
          <xs:documentation>
            Event for when the next section in a conversation is triggered (object = actor, param = section name, param2 = choice parameter, param3 = minigame score or null)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="actor" type="actor" />
          <xs:attribute name="section" type="section" />
          <xs:attribute name="sectionprefix" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Prefix of conversation section name that has to be matched
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="choiceparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                The parameter associated with the player choice, as provided by &lt;add_player_choice&gt;, &lt;add_player_choice_sub&gt;, or a menu selection
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_conversation_returned_to_section">
        <xs:annotation>
          <xs:documentation>
            Event for when a sub-conversation returns to the previous section (object = actor, param = section name, param2 = base parameter, param3 = return parameter)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="actor" type="actor" />
          <xs:attribute name="section" type="section" />
          <xs:attribute name="sectionprefix" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Prefix of conversation section name that has to be matched
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="baseparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                The value provided by this previous section when it started the sub-conversation (baseparam of &lt;add_player_choice_sub&gt;, &lt;add_player_choice_subconv&gt;, or of the menu selection).
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="returnparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                The value provided by the player choice that returned to this previous section (returnparam of &lt;add_player_choice_return&gt; or of the menu selection).
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_conversation_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a conversation is started (object = actor, param = conversation name, param2 = conversation parameter)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="actor" type="actor" />
          <xs:attribute name="conversation" type="conversation" />
          <xs:attribute name="convprefix" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Prefix of conversation name that has to be matched
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="convparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                The parameter associated with the conversation, as provided by &lt;start_conversation&gt;
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_copilot_warning">
        <xs:annotation>
          <xs:documentation>
            Event for when the copilot should warn the player, e.g. on station explosion (param = component, param2 = text line)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="component" type="expression">
            <xs:annotation>
              <xs:documentation>
                Component that is the reason for the warning
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="line" type="expression">
            <xs:annotation>
              <xs:documentation>
                Text line
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_cutscene_camera_created">
        <xs:annotation>
          <xs:documentation>
            Event for when the camera of a cutscene is created (param = cutscene key string)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="key" type="cutscenekey" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_cutscene_signal">
        <xs:annotation>
          <xs:documentation>
            Event for when a cutscene sends a signal (param = cutscene key string)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="name" type="expression">
            <xs:annotation>
              <xs:documentation>
                Signal ID name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_cutscene_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a cutscene starts (param = cutscene key string)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="key" type="cutscenekey" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_cutscene_stopped">
        <xs:annotation>
          <xs:documentation>
            Event for when a cutscene ends (param = cutscene key string)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="key" type="cutscenekey" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_long_range_scan_ping">
        <xs:annotation>
          <xs:documentation>
            Event for when an object is pinged by a long range scan. (object = scanned object, param = scanning object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="scanner" type="object">
            <xs:annotation>
              <xs:documentation>
                Object performing the scan
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_masstraffic_ship_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when a mass traffic ship is removed from a zone. If zone is provided then it is the event object (object = zone, param = mass traffic ship), otherwise object or group must be provided (object = mass traffic ship)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="zone" type="zone" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_added_security_area">
        <xs:annotation>
          <xs:documentation>
            Event for when a security area has been added to an object (object = owner of the area)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_illegal_activity_detected">
        <xs:annotation>
          <xs:documentation>
            Event for when an object has been caught doing an illegal activity (see &lt;report_illegal_activity&gt;), like hacking or certain types of scanning (param = caught object, param2 = victim of the activity [optional])
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                The object doing the illegal activity (attribute must be present if victim not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="victim" type="expression">
            <xs:annotation>
              <xs:documentation>
                The victim of the activity (attribute must be present if object not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_approaching_waypoint">
        <xs:annotation>
          <xs:documentation>
            Event for when a target waypoint is approached (but not necessarily yet reached) by a flying object (object = approaching object, param = true iff approaching the last point, param2 = remaining time)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="lastwaypoint" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Is the object approaching the last waypoint?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_arrived_at_waypoint">
        <xs:annotation>
          <xs:documentation>
            Event for when a flying object arrives at a target waypoint (object = arriving object, param = true iff arrived at the last point)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="lastwaypoint" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Has the object arrived at the last waypoint?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_gravidar_has_scanned">
        <xs:annotation>
          <xs:documentation>
            Event fired when the gravidar of an object has performed a scan (object = object of gravidar)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_attacked">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object being attacked (object = attacked object, param = attacker, param2 = kill method, param3 = attacked component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="attacker" type="attacker" />
          <xs:attribute name="method" type="killmethodlookup" />
          <xs:attribute name="component" type="attackedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_attacked_object">
        <xs:annotation>
          <xs:documentation>
            Event for when the specified object attacks an object (object = attacker, param = attacked object, param2 = kill method, param3 = attacked component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="attacked" type="attackedobject" />
          <xs:attribute name="method" type="killmethodlookup" />
          <xs:attribute name="component" type="attackedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_hull_damaged">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object's hull being damaged - includes hulls of children (object = event source, param = damaged component, param2 = new hull value, param3 = damage)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="damaged" type="damagedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_hull_repaired">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object's hull being repaired - includes hulls of children (object = event source, param = repaired component, param2 = new hull value, param3 = repaired value)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="repaired" type="repairedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_hull_above_function_threshold">
        <xs:annotation>
          <xs:documentation>
            Event for the specified components's hull climbing above the function threshold, rendering the object functional again - includes hulls of children (object = parent object, param = affected component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="repaired" type="repairedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_hull_below_function_threshold">
        <xs:annotation>
          <xs:documentation>
            Event for the specified components's hull falling below the function threshold, rendering the object non-functional - includes hulls of children (object = parent object, param = affected component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="damaged" type="damagedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_abandoned">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object being abandoned by its NPCs (object = abandoned object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_changed_attention">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object changing attention level (object = attention changing object, param = new attention level, param2 = previous attention level)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="attention" type="attentionexprlookup">
            <xs:annotation>
              <xs:documentation>
                New attention level
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="previous" type="attentionexprlookup">
            <xs:annotation>
              <xs:documentation>
                Previous attention level
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_changed_cluster">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object changing cluster (object = cluster changing object, param = new cluster, param2 = previous cluster)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="cluster" type="cluster" />
          <xs:attribute name="previous" type="cluster" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_changed_owner">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object changing owner (object = owner changing object, param = new owner faction, param2 = previous owner faction, param3 = true previous owner faction)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="owner" type="faction" />
          <xs:attribute name="previous" type="faction" />
          <xs:attribute name="trueprevious" type="faction" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_changed_sector">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object changing sector (object = sector changing object, param = new sector, param2 = previous sector)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="sector" type="sector" />
          <xs:attribute name="previous" type="sector" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_changed_room">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object changing room (object = room changing object, param = new room, param2 = previous room)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="room" type="room" />
          <xs:attribute name="previous" type="room" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_changed_zone">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object changing zone (object = zone changing object, param = new zone, param2 = previous zone)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="zone" type="zone" />
          <xs:attribute name="previous" type="zone" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_collapsed">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object being collapsed. If a zone is provided, the event triggers when any contained object is collapsed (object = zone or object, param = collapsed object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="param" type="object">
            <xs:annotation>
              <xs:documentation>
                Collapsed object. If 'object' is a zone, this object will be the contained collapsed object. Otherwise it will be the same as 'object'
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_expanded">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object being expanded. If a zone is provided, the event triggers when any contained object is expanded (object = zone or object, param = collapsed object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="param" type="object">
            <xs:annotation>
              <xs:documentation>
                Expanded object. If 'object' is a zone, this object will be the contained expanded object. Otherwise it will be the same as 'object'
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_claimed">
        <xs:annotation>
          <xs:documentation>
            Event for when an object is claimed or a NPC claims an object (requires attribute claimed and/or pilot) (do not use with player.entity) (object = claimed if supplied, otherwise pilot, param = the other object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="claimed" type="claimedrequired" />
          <xs:attribute name="pilot" type="claimerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_collected_ammo">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object collecting ammo (object = collecting object, param = weapon macro, param2 = amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ammo amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_collected_powerup">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object collecting a powerup (object = collecting object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_collected_resource">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object collecting a resource (object = collecting object, param = ware, param2 = amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="ware" type="ware" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ware amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_collected_ware">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object collecting a ware drop (object = collecting object, param = ware, param2 = amount, param3 = collected object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="ware" type="ware" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ware amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="collected" type="object" >
            <xs:annotation>
              <xs:documentation>
                The collected object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_collided">
        <xs:annotation>
          <xs:documentation>
            Event for when the specified object collides (object = colliding object, param =  other colliding object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="otherobject" type="object" >
            <xs:annotation>
              <xs:documentation>
                The other object involved in the collision
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_triggered">
        <xs:annotation>
          <xs:documentation>
            Event for when an object is triggered (object = trigger object, param = triggerer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="triggerer" type="object" >
            <xs:annotation>
              <xs:documentation>
                The triggering object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_commander_set">
        <xs:annotation>
          <xs:documentation>
            Event for when a subordinate receives a new commander (object = subordinate, param = new commander, param2 = previous commander, param3 = new commander type)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="commander" type="object" />
          <xs:attribute name="previous" type="object">
            <xs:annotation>
              <xs:documentation>
                Previous commander (can be null)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="commandertype" type="entitytypeexprlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_cycled_weapons">
        <xs:annotation>
          <xs:documentation>
            Event for when a Controllable object cycles weapons (object = Controllable, param = control slot tag, param2 = weapon display name, param3 = ammo amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="slot" type="controlslottag" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ammo amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_destroyed">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object being destroyed (object = destroyed object, param = killer, param2 = kill method, param3 = was parent killed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="killer" type="killer" />
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_docked">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object docking (object = docking object, param = dock, param2 = zone)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="dock" type="container" />
          <xs:attribute name="zone" type="zone" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_docked_at">
        <xs:annotation>
          <xs:documentation>
            Event for an object docking at the specified container (object = container object, param = docking object, param2 = new context, param3 = old context)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="container" type="expression">
            <xs:annotation>
              <xs:documentation>
                Container object (station or ship, required if group attribute not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="group" type="groupeventsource" />
          <xs:attribute name="check" type="checkeventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_drone_added">
        <xs:annotation>
          <xs:documentation>
            Event for when a new drone is added to a commander (object = new commander, param = drone)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="drone" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_drone_commander_set">
        <xs:annotation>
          <xs:documentation>
            Event for when a drone receives a new commander (object = drone, param = new commander, param2 = previous commander)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="commander" type="object" />
          <xs:attribute name="previous" type="object">
            <xs:annotation>
              <xs:documentation>
                Previous commander (can be null)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_drone_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when a drone is removed from a commander (object = old commander, param = drone, param2 = old commander, param3 = kill method if drone killed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="drone" type="object" />
          <xs:attribute name="previous" type="object">
            <xs:annotation>
              <xs:documentation>
                Previous commander
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_dropped_objects">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object dropping objects (object = dropping object, param = list of dropped objects)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_enemy_found">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object finding an enemy on its Gravidar scanner (object = scanning object, param = enemy)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="enemy" type="container" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_entered_anomaly">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object entering an anomaly (object = entering object, param = entry anomaly, param2 = exit anomaly)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="entry" type="object" />
          <xs:attribute name="exit" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_incoming_missile">
        <xs:annotation>
          <xs:documentation>
            Event for when a missile is launched at the specified object (object = target object, param = target component, param2 = missile, param3 = missile source)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="target" type="targetcomponent" />
          <xs:attribute name="source" type="source" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_follower_cannot_jump">
        <xs:annotation>
          <xs:documentation>
            Event is raised when a subordinate ship cannot use the jumpdrive to follow its commander (object = commander ship, param = following ship)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="follower" type="ship" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_jumpdrive_charging">
        <xs:annotation>
          <xs:documentation>
            Event is raised when the ship jumpdrive begins charging (object = ship, param = time when the jumpdrive is fully charged)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_jump_aborted">
        <xs:annotation>
          <xs:documentation>
            Event is raised when the ship aborts a jump procedure (e.g. due to taking damage) (object = ship)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_jump_completed">
        <xs:annotation>
          <xs:documentation>
            Event is raised when the ship has completed a jump (object = ship, param = target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="target" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_killed_object">
        <xs:annotation>
          <xs:documentation>
            Event for when the specified object kills an object/component (object = killer, param = killed object/component, param2 = kill method)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="killed" type="killedobject" />
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_launched_missile">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object launching a missile (object = missile launching object, param = target component, param2 = missile)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="target" type="targetcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_money_updated">
        <xs:annotation>
          <xs:documentation>
            Event for when the entities money gets updated (object = entity of the account, param = oldamount, param2 = newamount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="oldamount" type="expression" />
          <xs:attribute name="newamount" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_picked_up">
        <xs:annotation>
          <xs:documentation>
            Event for when the specified object is picked up by another object (object = pickup, param = collector)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="collector" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_picked_up_object">
        <xs:annotation>
          <xs:documentation>
            Event for when the specified object picks up another object (object = collector, param = pickup)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="pickup" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_shoppinglist_trade_added">
        <xs:annotation>
          <xs:documentation>
            Event for when a new trade is added to the shopping list of the specified object (object = object owning the shopping list, param = trade that was added to the list)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="trade" type="tradeoffer" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_shoppinglist_trade_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when an item is removed from the shopping list of the specified object (object = object owning the shopping list)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_signalled">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object being signalled (object = signalled object, param = custom, usually to specify type of signal, param2 = custom, param3 = custom)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="param" type="expression" />
          <xs:attribute name="param2" type="expression" />
          <xs:attribute name="param3" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_update_supply">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object to trigger an update to supply orders (object = signalled object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_started_remote_control">
        <xs:annotation>
          <xs:documentation>
            Event for when remote control starts on the specified object (object = remote controlled object, entity = the controlling entity)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="entity" type="entity" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_stopped_remote_control">
        <xs:annotation>
          <xs:documentation>
            Event for when remote control stops on the specified object (object = remote controlled object, entity = the controlling entity)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="entity" type="entity" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_subordinate_added">
        <xs:annotation>
          <xs:documentation>
            Event for when a new subordinate is added to a commander (object = new commander, param = subordinate, param2 = new commander type)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="subordinate" type="object" />
          <xs:attribute name="commandertype" type="entitytypeexprlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_subordinate_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when a subordinate is removed from a commander (object = old commander, param = subordinate, param2 = old commander)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="subordinate" type="object" />
          <xs:attribute name="previous" type="object">
            <xs:annotation>
              <xs:documentation>
                Previous commander
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_tagged">
        <xs:annotation>
          <xs:documentation>
            Event for when an object is tagged (requires attribute tagged and/or tagger) (object = tagged if supplied, otherwise tagger, param = the other object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="tagged" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object which is tagged, or group of objects (attribute must be present if tagger not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="tagger" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object which is performing the tagging, or group of objects (attribute must be present if tagged not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_target_invalid">
        <xs:annotation>
          <xs:documentation>
            Event for when an object's target is invalid, e.g. jumped away, does not exist any more etc. (object = object with an invalid target, param = invalid target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="target" type="expression">
            <xs:annotation>
              <xs:documentation>
                Invalid target
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_undocked">
        <xs:annotation>
          <xs:documentation>
            Event for the specified object undocking (object = undocking object, param = dock, param2 = zone)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="dock" type="container" />
          <xs:attribute name="zone" type="zone" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_undocked_from">
        <xs:annotation>
          <xs:documentation>
            Event for an object undocking from the specified container (object = container object, param = undocking object, param2 = new context, param3 = old context)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="container" type="expression">
            <xs:annotation>
              <xs:documentation>
                Container object (station or ship, required if group attribute not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="group" type="groupeventsource" />
          <xs:attribute name="check" type="checkeventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_attacked_object">
        <xs:annotation>
          <xs:documentation>
            Event for when the player attacks an object (param = attacked object, param2 = kill method, param3 = attacked component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="attacked" type="attackedobject" />
          <xs:attribute name="method" type="killmethodlookup" />
          <xs:attribute name="component" type="attackedcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_boost_charging_aborted">
        <xs:annotation>
          <xs:documentation>
            Event for when the player aborts charging boost
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_boost_charging_started">
        <xs:annotation>
          <xs:documentation>
            Event for when the player starts charging boost
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_boost_started">
        <xs:annotation>
          <xs:documentation>
            Event for when the player starts boosting
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_boost_stopped">
        <xs:annotation>
          <xs:documentation>
            Event for when the player stops boosting
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_build_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a player-owned builder platform starts building (param = build module)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="buildmodule" type="buildmodule" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_build_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when a player-owned builder platform finishes building (param = build module, param2 = buildplan)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="buildmodule" type="buildmodule" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_changed_activity">
        <xs:annotation>
          <xs:documentation>
            Event for when the player changes activity (param = new activity)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="activity" type="activityexprlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_changed_target">
        <xs:annotation>
          <xs:documentation>
            Event for when the player changes target (param = new target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_interaction">
        <xs:annotation>
          <xs:documentation>
            Event for when a player responds to an interactive notification (param = interaction param, param2 = secondary interaction param)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="param" type="expression">
            <xs:annotation>
              <xs:documentation>
                Interaction parameter
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="param2" type="expression">
            <xs:annotation>
              <xs:documentation>
                Secondary interaction parameter
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_owned_attacked">
        <xs:annotation>
          <xs:documentation>
            Event for when a player owned object is attacked (object = attacked object, param = attacker, param2 = kill method, param3 = attacked component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="attacker" type="attacker" />
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_owned_claimed_object">
        <xs:annotation>
          <xs:documentation>
            Event for when the player faction claims an object (param = claimed object, param2 = pilot)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="claimed" type="object" />
          <xs:attribute name="pilot" type="entity" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_collected_ammo">
        <xs:annotation>
          <xs:documentation>
            Event for when the player collects ammo (param = weapon macro, param2 = amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ammo amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_crafted_ammo">
        <xs:annotation>
          <xs:documentation>
            Event for when the player crafts ammo from inventory wares (param = weapon macro, param2 = amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ammo amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_collected_powerup">
        <xs:annotation>
          <xs:documentation>
            Event for when the player collects a powerup
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_collected_ware">
        <xs:annotation>
          <xs:documentation>
            Event for when the player collects a ware drop (param = ware, param2 = amount, param3 = collected object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="ware" type="ware" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ware amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="collected" type="object" >
            <xs:annotation>
              <xs:documentation>
                The collected object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_commission_added" type="event_playerpricemodifier">
        <xs:annotation>
          <xs:documentation>
            Event for when a commission for the player is added (object = source entity or source faction, param = display name, param2 = commission amount, param3 = end time)
          </xs:documentation>
        </xs:annotation>
      </xs:element>

      <xs:element name="event_player_discount_added" type="event_playerpricemodifier">
        <xs:annotation>
          <xs:documentation>
            Event for when a discount for the player is added (object = source entity or source faction, param = display name, param2 = discount amount, param3 = end time)
          </xs:documentation>
        </xs:annotation>
      </xs:element>

      <xs:element name="event_player_cycled_weapons">
        <xs:annotation>
          <xs:documentation>
            Event for when the player ship cycles weapons (param = control slot tag, param2 = weapon macro, param3 = ammo amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="slot" type="controlslottag" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ammo amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_created">
        <xs:annotation>
          <xs:documentation>
            Event for when the player is created (no parameters)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_discovered_object">
        <xs:annotation>
          <xs:documentation>
            Event for when an object (station module, station, ship, ...) is discovered or scanned by the player and added to the scan memory (param = object, param2 = scan level)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="object" />
          <xs:attribute name="level" type="expression">
            <xs:annotation>
              <xs:documentation>
                Scan level (0 if object was discovered, positive if object was actively scanned)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_discovered_mission_offer">
        <xs:annotation>
          <xs:documentation>
            Event for when a mission offer is discovered by the player and added to the mission offer memory (param = mission offer cue)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="cue" type="expression">
            <xs:annotation>
              <xs:documentation>
                Mission offer MD cue
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_discovered_platform">
        <xs:annotation>
          <xs:documentation>
            Event for when a landing platform is discovered by the player and added to the platform memory (param = docking bay object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_hacked_object">
        <xs:annotation>
          <xs:documentation>
            Event for when an object is hacked by the player (param = hacked, param2 = hacker)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_incoming_missile">
        <xs:annotation>
          <xs:documentation>
            Event for when a missile is launched at the player (param = target component, param2 = missile, param3 = missile source)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="targetcomponent" />
          <xs:attribute name="source" type="source" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_follower_cannot_jump">
        <xs:annotation>
          <xs:documentation>
            Event is raised when a subordinate ship cannot use the jumpdrive to follow the player (param = following ship)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="follower" type="ship" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_jumpdrive_charging">
        <xs:annotation>
          <xs:documentation>
            Event is raised when the player ship jumpdrive begins charging (param = time when the jumpdrive is fully charged)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_jump_aborted">
        <xs:annotation>
          <xs:documentation>
            Event is raised when the player ship aborts a jump procedure (e.g. due to taking damage).
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_jump_completed">
        <xs:annotation>
          <xs:documentation>
            Event is raised when the player ship has completed a jump (param = target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_killed_object">
        <xs:annotation>
          <xs:documentation>
            Event for when the player kills an object (param = killed object, param2 = kill method)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="killed" type="killedobject" />
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_launched_missile">
        <xs:annotation>
          <xs:documentation>
            Event for when the player launches a missile (param = target component, param2 = missile)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="targetcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_licence_added">
        <xs:annotation>
          <xs:documentation>
            Event for when the player is granted a licence for another faction (param = licenceref, use .type or .faction)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="licence" type="licencelookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_licence_lost">
        <xs:annotation>
          <xs:documentation>
            Event for when the player has lost a licence for another faction (param = licenceref, use .type or .faction)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="licence" type="licencelookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_mission_opportunity">
        <xs:annotation>
          <xs:documentation>
            Event for when the player has unlocked a mission opportunity at the given object (param = object, param2 = unlock, param3 = componentslot)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="object" />
          <xs:attribute name="unlock" type="expression">
            <xs:annotation>
              <xs:documentation>
                Unlock type
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_information_unlocked">
        <xs:annotation>
          <xs:documentation>
            Event for when the player has unlocked a chain of information entries, fired for each unlocked infolocation (param = object, param2 = scanlevel, param3 = first entry in chain)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>Object. Can be null if it was destroyed before the event is dispatched!</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="level" type="xs:integer" />
          <xs:attribute name="first" type="xs:boolean" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_money_updated">
        <xs:annotation>
          <xs:documentation>
            Event for when the player money gets updated (param = oldamount, param2 = newamount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="oldamount" type="expression" />
          <xs:attribute name="newamount" type="expression" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_owned_collected_resource">
        <xs:annotation>
          <xs:documentation>
            Event for when a player owned object has collected a resource (object = collecting object, param = ware, param2 = amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="ware" type="ware" />
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ware amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_owned_destroyed">
        <xs:annotation>
          <xs:documentation>
            Event for when a player owned object was killed (param = killed object, param2 = killer object, param3 = kill method)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="killed" type="killedobject" />
          <xs:attribute name="killer" type="killer" />
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_owned_killed_object">
        <xs:annotation>
          <xs:documentation>
            Event for when a player owned object, including player, kills an object (param = killer object, param2 = killed object, param3 = kill method)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="killer" type="killer" />
          <xs:attribute name="killed" type="killedobject" />
          <xs:attribute name="method" type="killmethodlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_opened_crate">
        <xs:annotation>
          <xs:documentation>
            Event for when the player opens a crate and claims all its content (param = crate)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="crate" type="crate" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_out_of_ammo">
        <xs:annotation>
          <xs:documentation>
            Event for when the player's current weapon runs out of ammo (param = weapon macro, param2 = ranout of ammo due to the shot)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="ranout" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                When true, then we fired and ran out of ammo, otherwise we didn't have ammo in the first place.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_performed_build_action">
        <xs:annotation>
          <xs:documentation>
            Event for when the player wants to build at a build location (param = build location, param2 = builder ship)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="ship" type="expression">
            <xs:annotation>
              <xs:documentation>
                Suitable builder ship in player squad
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_performed_info_action">
        <xs:annotation>
          <xs:documentation>
            Event for when the player interacts with an info point (param = target component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="targetcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_performed_attack_action">
        <xs:annotation>
          <xs:documentation>
            Event for when the player interacts with an attack action in the interact menu (param = target component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="targetcomponent" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_performed_trade_action">
        <xs:annotation>
          <xs:documentation>
            Event for when the player interacts with a trade offer (param = trade offer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="offer" type="tradeoffer" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_relation_changed">
        <xs:annotation>
          <xs:documentation>
            Event for when a faction or an object's control entity changes the relation towards the player (object = entity or null, param = faction or null, param2 = new relation, param3 = old relation).
            NOTE: On permanent faction changes, object is null. On relation boosts, object is non-null, and param is either null (silent boost) or faction.player (non-silent boost).
            See &lt;set_relation_boost&gt; and &lt;add_relation_boost&gt;.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="faction" type="faction" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_started_remote_control">
        <xs:annotation>
          <xs:documentation>
            Event for when the player starts remote control (param = The remotely controlled object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_stopped_remote_control">
        <xs:annotation>
          <xs:documentation>
            Event for when the player stops remote control (param = The remotely controlled object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_started_control">
        <xs:annotation>
          <xs:documentation>
            Event for when the player starts control
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_stopped_control">
        <xs:annotation>
          <xs:documentation>
            Event for when the player stops control
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_subordinate_added">
        <xs:annotation>
          <xs:documentation>
            Event for when the player adds a new subordinate to squad (param = subordinate)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="subordinate" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_subordinate_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when the player removes a subordinate from squad (param = subordinate)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="subordinate" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_trade_discovered">
        <xs:annotation>
          <xs:documentation>
            Event for when a trade is discovered by the player and added to the trade memory (param = tradeoffer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="trade" type="tradeoffer" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_trade_order_cancelled">
        <xs:annotation>
          <xs:documentation>
            Event for when a player trade order is cancelled (param = tradeoffer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtradeoffervalues">
              <xs:attributeGroup ref="eventcondition" />
              <xs:attribute name="buyer" type="buyer" />
              <xs:attribute name="seller" type="seller" />
              <xs:attribute name="tradeoffer" type="tradeoffer">
                <xs:annotation>
                  <xs:documentation>
                    Trade Offer to match. All other attributes and amount check nodes are ignored.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="ware" type="ware" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_trade_order_completed">
        <xs:annotation>
          <xs:documentation>
            Event for when the player completes a trade order (param = tradeoffer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtradeoffervalues">
              <xs:attributeGroup ref="eventcondition" />
              <xs:attribute name="buyer" type="buyer" />
              <xs:attribute name="seller" type="seller" />
              <xs:attribute name="tradeoffer" type="tradeoffer">
                <xs:annotation>
                  <xs:documentation>
                    Trade Offer to match. All other attributes and amount check nodes are ignored.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="ware" type="ware" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_trade_order_started">
        <xs:annotation>
          <xs:documentation>
            Event for when the player starts a trade order (param = tradeoffer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtradeoffervalues">
              <xs:attributeGroup ref="eventcondition" />
              <xs:attribute name="buyer" type="buyer" />
              <xs:attribute name="seller" type="seller" />
              <xs:attribute name="tradeoffer" type="tradeoffer">
                <xs:annotation>
                  <xs:documentation>
                    Trade Offer to match. All other attributes and amount check nodes are ignored.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="ware" type="ware" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_shoppinglist_trade_added">
        <xs:annotation>
          <xs:documentation>
            Event for when a new trade is added to the shopping list of a player owned object (param = trade that was added to the list, param2 = object owning the shopping list)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="trade" type="tradeoffer" />
          <xs:attribute name="object" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_shoppinglist_trade_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when an item is removed from the shopping list of a player owned object (param = object owning the shopping list)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="object" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_remote_transport_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when the player receives a remote transport drone and at least one item is transferred (param = transport type string, param2 = list of received wares, param3 = corresponding list of amounts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="type">
            <xs:annotation>
              <xs:documentation>
                Transport type string
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:union memberTypes="expression">
                <xs:simpleType>
                  <xs:restriction base="expression">
                    <xs:enumeration value="'ammo'" />
                    <xs:enumeration value="'inventory'" />
                    <xs:enumeration value="'playerdrone'" />
                    <xs:enumeration value="'unit'" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:union>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_remote_transport_aborted">
        <xs:annotation>
          <xs:documentation>
            Event for when a remote transport to the player ends and at least one item cannot be transferred to the player (param = transport type string, param2 = list of lost wares, param3 = corresponding list of amounts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="type">
            <xs:annotation>
              <xs:documentation>
                Transport type string
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:union memberTypes="expression">
                <xs:simpleType>
                  <xs:restriction base="expression">
                    <xs:enumeration value="'ammo'" />
                    <xs:enumeration value="'inventory'" />
                    <xs:enumeration value="'playerdrone'" />
                    <xs:enumeration value="'unit'" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:union>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_player_lost_volatile_wares">
        <xs:annotation>
          <xs:documentation>
            Event for when volatile wares in the player's inventory self-destruct (param = list of lost volatile wares, param2 = corresponding list of amounts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_autopilot_target_set">
        <xs:annotation>
          <xs:documentation>
            Event for when the player has engaged the autopilot (param = target, param2 = next target on the way to target which may be identical to target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="target" type="object" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_game_loaded">
        <xs:annotation>
          <xs:documentation>
            Event for when the has completed loading a savegame (param = gameversion, param2 = build number, param3 = originl gameversion of savegame)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="version">
            <xs:annotation>
              <xs:documentation>
                Game version number of the loaded save, multiplied by 100. e.g. 251 for version 2.51
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:integer">
                <xs:minInclusive value="1" />
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          <xs:attribute name="build">
            <xs:annotation>
              <xs:documentation>
                Build number of the loaded save, e.g. 187332
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:integer">
                <xs:minInclusive value="1" />
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          <xs:attribute name="originalversion">
            <xs:annotation>
              <xs:documentation>
                Game version number this save was started with, multiplied by 100. e.g. 125 for version 1.25
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:integer">
                <xs:minInclusive value="1" />
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_scan_aborted">
        <xs:annotation>
          <xs:documentation>
            Event for when a scan is aborted (requires attribute scanner and/or scanned) (object = scanner if supplied, otherwise scanned, param = the other object, param2 = true iff object is scanner)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="scanned" type="scannedrequired" />
          <xs:attribute name="scanner" type="scannerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_scan_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when a scan is finished (requires attribute scanner and/or scanned) (object = scanner if supplied, otherwise scanned, param = the other object, param2 = true iff object is scanner)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="scanned" type="scannedrequired" />
          <xs:attribute name="scanner" type="scannerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_scan_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a scan is started (requires attribute scanner and/or scanned) (object = scanner if supplied, otherwise scanned, param = the other object, param2 = true iff object is scanner)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="scanned" type="scannedrequired" />
          <xs:attribute name="scanner" type="scannerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_hack_aborted">
        <xs:annotation>
          <xs:documentation>
            Event for when a hack is aborted (requires attribute hacker and/or hacked) (object = hacker if supplied, otherwise hacked, param = the other object, param2 = true iff object is hacker)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="hacked" type="hackedrequired" />
          <xs:attribute name="hacker" type="hackerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_hack_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when a hack is finished (requires attribute hacker and/or hacked) (object = hacker if supplied, otherwise hacked, param = the other object, param2 = true iff object is hacker, param3 = the score result of the minigame (0 if no minigame was played))
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="hacked" type="hackedrequired" />
          <xs:attribute name="hacker" type="hackerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_hack_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a hack is started (requires attribute hacker and/or hacked) (object = hacker if supplied, otherwise hacked, param = the other object, param2 = true iff object is hacker)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="hacked" type="hackedrequired" />
          <xs:attribute name="hacker" type="hackerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_object_hacked">
        <xs:annotation>
          <xs:documentation>
            Event for when an object is hacked (requires attribute hacker and/or hacked) (object = hacker if supplied, otherwise hacked, param = the other object, param2 = true iff object is hacker)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="hacked" type="hackedrequired" />
          <xs:attribute name="hacker" type="hackerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_observation_started">
        <xs:annotation>
          <xs:documentation>
            Event for when an object starts an observation (requires attribute observer and/or observed) (object = observer or observed, param = observer, param2 = observed, param3 = range length)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="observed" type="observedrequired" />
          <xs:attribute name="observer" type="observerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_observation_stopped">
        <xs:annotation>
          <xs:documentation>
            Event for when an observation is stopped (requires attribute observer and/or observed) (object = observer or observed, param = observer, param2 = observed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="observed" type="observedrequired" />
          <xs:attribute name="observer" type="observerrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_attack_started">
        <xs:annotation>
          <xs:documentation>
            Event for when an object signals it will attack a target (requires attribute attacker and/or target) (object = attacker or target, param = attacker, param2 = target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="attacker" type="attackerrequired" />
          <xs:attribute name="target" type="attackedrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_attack_stopped">
        <xs:annotation>
          <xs:documentation>
            Event for when an object signals it will stop an attack (requires attribute attacker and/or target) (object = attacker or target, param = attacker, param2 = target)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="attacker" type="attackerrequired" />
          <xs:attribute name="target" type="attackedrequired" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_speak_finished">
        <xs:annotation>
          <xs:documentation>
            Event for when an actor has finished speaking (object = actor, param = page, param2 = line, param3 = interrupted - 0 if fully finished, 1 if interrupted, 2 if not even started )
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="actor" type="actor" />
          <xs:attribute name="page" type="page" />
          <xs:attribute name="line" type="line" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_trade_order_cancelled">
        <xs:annotation>
          <xs:documentation>
            Event for when a trade order is cancelled, (object = either buyer or seller - see following documentation, param = tradeoffer) (If tradeoffer is provided, listened object = tradeoffer owner) : (otherwise buyer and/or seller must be provided, listened object = seller if supplied, otherwise buyer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtradeoffervalues">
              <xs:attributeGroup ref="eventcondition" />
              <xs:attribute name="buyer" type="buyer" />
              <xs:attribute name="seller" type="seller" />
              <xs:attribute name="tradeoffer" type="tradeoffer">
                <xs:annotation>
                  <xs:documentation>
                    Trade Offer to match. All other attributes and amount check nodes are ignored.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="ware" type="ware" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_trade_order_completed">
        <xs:annotation>
          <xs:documentation>
            Event for when a trade order is completed (object = either buyer or seller - see following documentation, param = tradeoffer) (If tradeoffer is provided, listened object = tradeoffer owner) : (otherwise buyer and/or seller must be provided, listened object = seller if supplied, otherwise buyer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtradeoffervalues">
              <xs:attributeGroup ref="eventcondition" />
              <xs:attribute name="buyer" type="buyer" />
              <xs:attribute name="seller" type="seller" />
              <xs:attribute name="tradeoffer" type="tradeoffer">
                <xs:annotation>
                  <xs:documentation>
                    Trade Offer to match. All other attributes and amount check nodes are ignored.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="ware" type="ware" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_trade_order_started">
        <xs:annotation>
          <xs:documentation>
            Event for when a trade order is started (object = either buyer or seller - see following documentation, param = tradeoffer) (If tradeoffer is provided, listened object = tradeoffer owner) : (otherwise buyer and/or seller must be provided, listened object = seller if supplied, otherwise buyer)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtradeoffervalues">
              <xs:attributeGroup ref="eventcondition" />
              <xs:attribute name="buyer" type="buyer" />
              <xs:attribute name="seller" type="seller" />
              <xs:attribute name="tradeoffer" type="tradeoffer">
                <xs:annotation>
                  <xs:documentation>
                    Trade Offer to match. All other attributes and amount check nodes are ignored.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="ware" type="ware" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="event_detached_from_masstraffic">
        <xs:annotation>
          <xs:documentation>
            Event for when an object has been detached from all mass traffic networks that restrict its movement (object = detached object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_masstraffic_network_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when a mass traffic network has been removed (object = the zone that owned the network, param = the removed network's ID)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="network" type="masstraffic" />
          <xs:attribute name="check" type="checkeventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_weapon_fired">
        <xs:annotation>
          <xs:documentation>
            Event for the specified weapon firing (object = the weapon, param = fired bullet/missile/bomb)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>


      <xs:element name="event_inventory_added">
        <xs:annotation>
          <xs:documentation>
            Event for when inventory wares were added to entity (object = entity, param = list of wares, param2 = corresponding list of amounts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>

      <xs:element name="event_inventory_removed">
        <xs:annotation>
          <xs:documentation>
            Event for when inventory wares were removed from entity (object = entity, param = list of wares, param2 = corresponding list of amounts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="eventcondition" />
          <xs:attributeGroup ref="objecteventsource" />
        </xs:complexType>
      </xs:element>


    </xs:choice>
  </xs:group>

  <xs:group name="commonconditions_nonevent">
    <xs:choice>
      <xs:element name="check_value">
        <xs:annotation>
          <xs:documentation>
            Value is in specified range (both value and range can use expressions)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Value to match (checked for non-zero if no comparison range is specified)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="check_age">
        <xs:annotation>
          <xs:documentation>
            Game age value is in specified range (both value and range can use time expressions)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attributeGroup ref="range">
            <xs:annotation>
              <xs:documentation>
                Time value range
              </xs:documentation>
            </xs:annotation>
          </xs:attributeGroup>
        </xs:complexType>
      </xs:element>

      <xs:element name="check_object">
        <xs:annotation>
          <xs:documentation>
            Check an object against filters
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findarbitrary" />
              <!-- <xs:attribute name="space" type="space" /> -->
              <xs:attribute name="object" type="expression" use="required"/>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="check_weapon_active">
        <xs:annotation>
          <xs:documentation>
            Check whether the weapon is currently active
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="check_weapon_installed">
        <xs:annotation>
          <xs:documentation>
            Check whether the weapon is installed/available
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="count_clusters">
        <xs:annotation>
          <xs:documentation>
            Count matching clusters and check if count is in specified range
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="find" />
              <!-- <xs:attribute name="space" type="space" /> -->
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of clusters
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of clusters unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_gravidar_contacts">
        <xs:annotation>
          <xs:documentation>
            Count matching contacts found via a gravidar
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="object" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Scanning object
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of objects
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of components unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_object_components">
        <xs:annotation>
          <xs:documentation>
            Count matching components contained in an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findarbitrary" />
              <xs:attribute name="object" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Parent object for component search
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="recursive" type="findrecursive" />
              <xs:attribute name="includeobjects" type="findincludeobjects" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of components
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of components unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_objects">
        <xs:annotation>
          <xs:documentation>
            Count matching objects
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="space" type="space" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of objects
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of objects unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_sectors">
        <xs:annotation>
          <xs:documentation>
            Count matching sectors
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="find" />
              <xs:attribute name="space" type="space" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of sectors
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of sectors unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_ships">
        <xs:annotation>
          <xs:documentation>
            Count matching ships
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findship" />
              <xs:attribute name="space" type="space" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="recursive" type="findrecursive" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of ships
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of ships unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_stations">
        <xs:annotation>
          <xs:documentation>
            Count matching stations
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findstation" />
              <xs:attribute name="space" type="space" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of stations
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of stations unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="count_zones">
        <xs:annotation>
          <xs:documentation>
            Count matching zones
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="find" />
              <xs:attribute name="space" type="space" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attributeGroup ref="range">
                <xs:annotation>
                  <xs:documentation>
                    Number of zones
                  </xs:documentation>
                </xs:annotation>
              </xs:attributeGroup>
              <xs:attribute name="result" type="lvaluename">
                <xs:annotation>
                  <xs:documentation>
                    (Yields a list of zones unless attribute multiple is used)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="debug_text">
        <xs:annotation>
          <xs:documentation>
            Output debug text
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attribute name="text" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Text
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="debugchance" type="expression">
            <xs:annotation>
              <xs:documentation>
                Percentage chance of the debug text being displayed (used this instead of the condition chance, so that the condition does not fail)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="filter">
            <xs:annotation>
              <xs:documentation>
                Debug output filter (optional, default is scripts)
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:string">
                <xs:enumeration value="error" />
                <xs:enumeration value="general" />
                <xs:enumeration value="scripts" />
                <xs:enumeration value="scripts_verbose" />
                <xs:enumeration value="combat" />
                <xs:enumeration value="savegame" />
                <xs:enumeration value="none" />
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="match_object">
        <xs:annotation>
          <xs:documentation>
            check that the object matches the criteria
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="object" type="object" use="required" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="match_any_object">
        <xs:annotation>
          <xs:documentation>
            check that an object in the group matches the criteria
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="group" type="group" use="required" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="match_all_objects">
        <xs:annotation>
          <xs:documentation>
            check that all objects in the group match the criteria (empty group returns true)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="noneventcondition" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="group" type="group" use="required" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_value">
        <xs:annotation>
          <xs:documentation>
            Remove a variable
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_value">
        <xs:annotation>
          <xs:documentation>
            Set a variable value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="noneventcondition" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="operation" type="setoperationlookup" />
          <xs:attributeGroup ref="random"/>
        </xs:complexType>
      </xs:element>
    </xs:choice>
  </xs:group>

  <!-- ===== Common actions ===== -->

  <xs:group name="commonactions">
    <xs:choice>

      <!--
      <xs:element name="template">
        <xs:annotation>
          <xs:documentation>
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>
      -->

      <xs:element name="abort_hack">
        <xs:annotation>
          <xs:documentation>
            Abort the current hack for this object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="abort_scan">
        <xs:annotation>
          <xs:documentation>
            Abort the current scan for this object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="abort_scripts">
        <xs:annotation>
          <xs:documentation>
            Abort all running AI scripts on an entity.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="entity" type="entity" />
        </xs:complexType>
      </xs:element>

      <xs:element name="activate_battlestate">
        <xs:annotation>
          <xs:documentation>
            Activate BattleState
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="state" type="battlestatelookup" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="activate_weapon">
        <xs:annotation>
          <xs:documentation>
            Activate weapon
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_actor_to_platform">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor to a landing platform (docking bay), which enables the player to dock there
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="dockingbay" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Docking bay (external representation of landing platform)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                Whether the actor was successfully added
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_actor_to_playership">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor to a free slot in the player ship's back room. This action fails if no free slot is available.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                Whether the actor was successfully added
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_actor_to_room">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor to a room. This action fails if the actor could not be connected to that room.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="room" type="room">
            <xs:annotation>
              <xs:documentation>
                (optional) The room to put the actor in. If not specified the default controlroom is used.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                Whether the actor was successfully added
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_copilot">
        <xs:annotation>
          <xs:documentation>
            Add NPC as the copilot of the playership
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_build_plan">
        <xs:annotation>
          <xs:documentation>
            Create build plan from lists or individual nodes
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="buildplan" minOccurs="0" maxOccurs="1">
              <xs:complexType>
                <xs:sequence>
                  <xs:element name="buildsequence" type="buildsequence" minOccurs="0" maxOccurs="unbounded" />
                </xs:sequence>
              </xs:complexType>
            </xs:element>
            <xs:element name="upgradeplan" minOccurs="0" maxOccurs="1">
              <xs:complexType>
                <xs:sequence>
                  <xs:element name="upgradeentry" type="upgradeentry" minOccurs="0" maxOccurs="unbounded" />
                </xs:sequence>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="buildplan" type="expression" use="required" />
          <xs:attribute name="buildplanlist" type="list" use="optional" />
          <xs:attribute name="upgradeplanlist" type="list" use="optional" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_build_plan">
        <xs:annotation>
          <xs:documentation>
            Add build plan to the build module
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="buildmodule" type="buildmodule" use="required" />
          <xs:attribute name="buildplan" type="expression" use="required" />
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_ammo">
        <xs:annotation>
          <xs:documentation>
            Add ammo to a defensible object (see also &lt;remove_ammo&gt; and &lt;deplete_ammo&gt;) NOTE: when used with unit macros storage limits are ignored! Use &lt;add_units&gt; instead!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="amount" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount to be added (can be negative)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_ammo">
        <xs:annotation>
          <xs:documentation>
            Removes ammo from a defensible object (see also &lt;add_ammo&gt; and &lt;deplete_ammo&gt;)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="amount" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount to be removed (can be negative)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="deplete_ammo">
        <xs:annotation>
          <xs:documentation>
            Depletes ammo of a defensible object (see also &lt;add_ammo&gt; and &lt;remove_ammo&gt;). If macro is not supplied then ammo will be removed from all weapons.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="macro" type="macro" />
        </xs:complexType>
      </xs:element>

      <xs:element name="evaluate_ammo_storage">
        <xs:annotation>
          <xs:documentation>
            Evaluates the ammo storage of the given object. Returns lists containing amounts, wares and macros for the used ammo types. Indices of the lists are in sync. Also returns total ammo capacity from launchers (excludes base object ammo capacity)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="type" type="ammotypelookup" use="required" />
          <xs:attribute name="amounts" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of max amounts for the ware/macro types (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="macros" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of macro names for the ammo types (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="wares" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of wares for the ammo types (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="capacity" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                Total ammo capacity for this type provided by launchers (excludes ammo capacity of base object)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="evaluate_unit_storage">
        <xs:annotation>
          <xs:documentation>
            Evaluates the default unit storage of the given object. Returns lists containing unitcategories, mks, macros and amounts. Indices of the lists are in sync.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="amounts" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of amounts for the unit types (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="categories" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of unit categories the unit types (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="macros" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of macro names for the unit types (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="mks" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                List of mks for the unit types to be used together with the respective category (see other result lists, indices match)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_cargo">
        <xs:annotation>
          <xs:documentation>
            Add cargo to an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                The amount successfully added
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_cargo">
        <xs:annotation>
          <xs:documentation>
            Remove cargo from an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                The amount successfully removed
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_commission">
        <xs:annotation>
          <xs:documentation>
            Add price commission for target faction to entity/faction(=target gets bonus pay for sales), if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="target" type="faction" use="required" />
          <xs:attribute name="amount" type="pricemodifieramount" use="required" />
          <xs:attribute name="name" type="expression">
            <xs:annotation>
              <xs:documentation>
                Name of commission, only required if target is faction.player
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="time" type="expression" >
            <xs:annotation>
              <xs:documentation>
                How long this commission lasts. Will last forever if ommitted!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_player_commission">
        <xs:annotation>
          <xs:documentation>
            Add price commission for player faction to entity/faction(=target gets bonus pay for sales), if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="amount" type="pricemodifieramount" use="required" />
          <xs:attribute name="id" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Identifier string for the discount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="expression">
            <xs:annotation>
              <xs:documentation>
                Name of commission, only required if target is faction.player
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="time" type="expression" >
            <xs:annotation>
              <xs:documentation>
                How long this commission lasts. Will last forever if ommitted!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_commission">
        <xs:annotation>
          <xs:documentation>
            Remove price commission for target faction from entity/faction, if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="target" type="faction" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_player_commission">
        <xs:annotation>
          <xs:documentation>
            Remove price commission for player faction from entity/faction, if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="id" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Identifier string for the discount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_default_production_wares">
        <xs:annotation>
          <xs:documentation>
            Add default wares to a ship or station based on its productions and buildmodules
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="lowerlimit" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Minimum percentage of storage filled
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="upperlimit" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Maximum percentage of storage filled
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_skill">
        <xs:annotation>
          <xs:documentation>
            Add entity skill value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="type" type="skilltypeexprlookup" use="required" />
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_tradeware">
        <xs:annotation>
          <xs:documentation>
            Add trade ware (-> trading stations)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attribute name="allowbuy" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Allow buying this tradeware (optional, defaults to true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="allowsell" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Allow selling this tradeware (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="lockavgprice" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Lock price to average price of ware, otherwise price is calculated based on storage amounts (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_tradeware">
        <xs:annotation>
          <xs:documentation>
            Remove trade ware (-> trading stations)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="ware" type="ware" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_discount">
        <xs:annotation>
          <xs:documentation>
            Add price discount for target faction to entity/faction(=target gets stuff cheaper), if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="target" type="faction" use="required" />
          <xs:attribute name="amount" type="pricemodifieramount" use="required" />
          <xs:attribute name="name" type="expression">
            <xs:annotation>
              <xs:documentation>
                Name of discount, only required if target is faction.player
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="time" type="expression" >
            <xs:annotation>
              <xs:documentation>
                How long this discount lasts. Will last forever if ommitted!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_player_discount">
        <xs:annotation>
          <xs:documentation>
            Add price discount for player faction to entity/faction(=target gets stuff cheaper), if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="amount" type="pricemodifieramount" use="required" />
          <xs:attribute name="id" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Identifier string for the discount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="expression" use="required" >
            <xs:annotation>
              <xs:documentation>
                Name of discount, only required if target is faction.player
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="time" type="expression" >
            <xs:annotation>
              <xs:documentation>
                How long this discount lasts. Will last forever if 0 or ommitted!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_discount">
        <xs:annotation>
          <xs:documentation>
            Remove price discount for target faction from entity/faction, if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="target" type="faction" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_player_discount">
        <xs:annotation>
          <xs:documentation>
            Remove price discount for player faction from entity/faction, if entity and faction are specified, entity takes precedence!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="id" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Identifier string for the discount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_watchdog_units_to_masstraffic">
        <xs:annotation>
          <xs:documentation>
            Add watchdogs units of a station to its zone's masstraffic
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_next_bonus_unlocktime">
        <xs:annotation>
          <xs:documentation>
            Query the earliest time at which this unlock may be triggered again.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="result" type="lvaluename" use="required" />
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="bonus" type="expression" use="required"/>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_production_specialist_types">
        <xs:annotation>
          <xs:documentation>
            Get production specialist types for Object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression" use="required" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_next_bonus_unlocktime">
        <xs:annotation>
          <xs:documentation>
            Set the earliest time at which this unlock may be triggered again.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="bonus" type="expression" use="required"/>
          <xs:attribute name="time" type="expression" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_buy_order">
        <xs:annotation>
          <xs:documentation>
            Add a buy order based on the supplied tradeoffer to the shoppinglist of the given object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="trade" type="tradeoffer" use="required"/>
          <xs:attribute name="amount" type="expression" use="required" />
          <xs:attribute name="price" type="expression" use="required" />
          <xs:attribute name="unbundle" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Should the ware be unbundled (turn ware into ammo/units) on transfer? (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="rebundle" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Should the ware be rebundled (convert ammo/unit -> ware) on transfer? (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_sell_order">
        <xs:annotation>
          <xs:documentation>
            Add a sell order based on the supplied tradeoffer to the shoppinglist of the given object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="trade" type="tradeoffer" use="required"/>
          <xs:attribute name="amount" type="expression" use="required" />
          <xs:attribute name="price" type="expression" use="required" />
          <xs:attribute name="unbundle" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Should the ware be unbundled (turn ware into ammo/units) on transfer? (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="rebundle" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Should the ware be rebundled (convert ammo/unit -> ware) on transfer? (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_trade_order">
        <xs:annotation>
          <xs:documentation>
            Remove the specified trade order from the shoppinglist of the given object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="trade" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The shoppinglist entry that should be removed (this is not a regular tradeoffer!)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_trade_from_shoppinglist">
        <xs:annotation>
          <xs:documentation>
            Get the next or all(multiple=true) trade orders from the shoppinglist of the given object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="multiple" type="boolean" />
          <xs:attribute name="result" type="lvaluename" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_tradeoffer_locations">
        <xs:annotation>
          <xs:documentation>
            Get the locations (list of ComponentSlots) of all the tradeoffers on object. Can be filtered to return only those where a specific trade is offered. If both, object and trade are specified, trade takes precedence. Results are sorted by distance to refobject.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="refobject" type="object" />
          <xs:attribute name="object" type="object" />
          <xs:attribute name="trade" type="expression" />
          <xs:attribute name="result" type="lvaluename" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_conversation_view">
        <xs:annotation>
          <xs:documentation>
            Add a camera view request without NPC voice to the conversation (if not supplied then this is just a dummy action to trigger the conversation manager)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="view" type="conversationview" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_faction_relation">
        <xs:annotation>
          <xs:documentation>
            Add global faction relation
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="faction" type="faction" use="required" />
          <xs:attribute name="otherfaction" type="faction" use="required" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Relation boost value
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_factions_by_relation">
        <xs:annotation>
          <xs:documentation>
            Get factions by matching relation (object or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object to reference (takes preference over 'faction')
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="factionlookup">
            <xs:annotation>
              <xs:documentation>
                Faction to reference ('object' takes preference if provided)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="relation" type="relationlookup" use="required" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_faction_known">
        <xs:annotation>
          <xs:documentation>
            Set a faction to known/unknown to the player
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="faction" type="factionlookup" use="required">
            <xs:annotation>
              <xs:documentation>
                Faction to set known/unknown
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="known" type="booleanexpression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_known">
        <xs:annotation>
          <xs:documentation>
            Set a component to known/unknown to the player
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Component to set known/unknown
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="known" type="booleanexpression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_loot_magnet">
        <xs:annotation>
          <xs:documentation>
            (De)Activates the loot magnet of the playership
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="active" type="booleanexpression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="reveal_object">
        <xs:annotation>
          <xs:documentation>
            Reveal information of a object by secrecy level (ommitted 'secrecylevel' includes all levels)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Component to set known/unknown
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="secrecylevel" type="expression">
            <xs:annotation>
              <xs:documentation>
                Secrecy level to reveal. Will default to include all if omitted
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="random" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_inventory">
        <xs:annotation>
          <xs:documentation>
            Add inventory to an entity (entity defaults to player, amount defaults to 1)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_inventory">
        <xs:annotation>
          <xs:documentation>
            Remove inventory from an entity (entity defaults to player, amount defaults to 1)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="entity" type="entity" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="transfer_remote_inventory_to">
        <xs:annotation>
          <xs:documentation>
            Transfer and convert all inventory of entity to target entity. In case of the player, the target may receive &lt;event_player_remote_transport_finished&gt; and/or &lt;event_player_remote_transport_aborted&gt;.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="target" type="entity" use="required" />
          <xs:attribute name="type" type="remotetransportlookup">
            <xs:annotation>
              <xs:documentation>
                Inventory type used for converting the inventory. Defaults to the internal value that the remote transport entity started with.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                This value will be set to true if the transfer was at least partially successful, otherwise it is set to false
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="abort_remote_transport">
        <xs:annotation>
          <xs:documentation>
            Abort the remote transport of inventory of entity to the target entity. In case of the player, the target may receive &lt;event_player_remote_transport_aborted&gt;.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="target" type="entity" use="required" />
          <xs:attribute name="type" type="remotetransportlookup">
            <xs:annotation>
              <xs:documentation>
                Inventory type used for converting the inventory. Defaults to the internal value that the remote transport entity started with.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_licence">
        <xs:annotation>
          <xs:documentation>
            Add licence to a faction (defaults to player faction)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="licencefaction" type="faction" use="required" />
          <xs:attribute name="type" type="licencelookup" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_licence">
        <xs:annotation>
          <xs:documentation>
            Remove licence from a faction (defaults to player faction)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="licencefaction" type="faction" use="required" />
          <xs:attribute name="type" type="licencelookup" use="required" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_npc_line">
        <xs:annotation>
          <xs:documentation>
            Add an NPC voice line to the conversation
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:group ref="voicedata" minOccurs="0" maxOccurs="unbounded" />
          <xs:attributeGroup ref="action" />
          <xs:attribute name="speaker">
            <xs:annotation>
              <xs:documentation>
                Speaker object (defaults to the conversation actor if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="page" type="pagewithdefault" />
          <xs:attribute name="line" type="line" />
          <xs:attribute name="view" type="conversationview" />
          <xs:attribute name="delay" type="expression" />
          <xs:attribute name="lookat" type="expression">
            <xs:annotation>
              <xs:documentation>
                Look in the direction of the specified component
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="hidechoices" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Hide the player's conversation choices until after the NPC line has been spoken? Default is false (don't hide).
                This has no effect if the choices were already visible before the start of this line.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="check" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Check for errors resolving an object name or description? Default is true
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_player_choice">
        <xs:annotation>
          <xs:documentation>
            Add a player choice text to the conversation. When chosen, &lt;event_conversation_next_section&gt; will be triggered but the conversation stack will not be changed.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="playerchoice" />
          <xs:attribute name="section" type="namestring" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of next conversation section
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="choiceparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is passed to &lt;event_conversation_next_section&gt;. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_player_choice_sub">
        <xs:annotation>
          <xs:documentation>
            Add a player choice text to the conversation. When chosen, &lt;event_conversation_next_section&gt; will be triggered,
            and a sub-conversation will be started which can return to this section (see &lt;add_player_choice_return&gt;).
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="playerchoice" />
          <xs:attribute name="section" type="namestring" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of next conversation section
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="choiceparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is passed to &lt;event_conversation_next_section&gt;. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="baseparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is evaluated immediately, but stored until the sub-conversation returns
                and &lt;event_conversation_returned_to_section&gt; is triggered. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_player_choice_subconv">
        <xs:annotation>
          <xs:documentation>
            Add a player choice text to the conversation. When chosen, &lt;event_conversation_started&gt; will be triggered,
            and a sub-conversation with a different actor will be started which will return to this section when it ends (unless the player aborts the conversation as a whole).
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="playerchoice" />
          <xs:attribute name="conversation" type="conversation" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of next conversation section
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="convparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is passed to &lt;event_conversation_started&gt;. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="baseparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is evaluated immediately, but stored until the sub-conversation returns
                and &lt;event_conversation_returned_to_section&gt; is triggered. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_player_choice_return">
        <xs:annotation>
          <xs:documentation>
            Add a player choice text to the conversation. When chosen, the current sub-conversation will return to the previous section that
            started it (see &lt;add_player_choice_sub&gt; and &lt;add_player_choice_subconv&gt;), and &lt;event_conversation_returned_to_section&gt; will be triggered.
            This action also defines the behaviour of the "Back" button.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="playerchoice" />
          <xs:attribute name="returnparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is passed to &lt;event_conversation_returned_to_section&gt;. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_conversation_return_section">
        <xs:annotation>
          <xs:documentation>
            Set the section to which the conversation returns when the player selects an &lt;add_player_choice_return&gt; option without any sub-section active. The default return section is &quot;g_finish&quot;.
            This action can be performed only once per conversation and only if no sub-section is already active.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="section" type="namestring" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of conversation section to return to
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="baseparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional value that is passed as param2 to &lt;event_conversation_returned_to_section&gt;.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_relation_boost">
        <xs:annotation>
          <xs:documentation>
            Add relation boost (otherobject or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="objectrelationboost" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Relation boost value
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_to_group">
        <xs:annotation>
          <xs:documentation>
            Add an object or a list/group of objects to a group (the group is created if it does not exist yet)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="groupname" type="groupname" use="required" />
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                Object to add to the group (cannot be used with attributes list or group)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="list" type="expression">
            <xs:annotation>
              <xs:documentation>
                List of objects to add to the group (cannot be used with attributes object or group)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="group" type="expression">
            <xs:annotation>
              <xs:documentation>
                Group of objects to add to the group (cannot be used with attributes object or list)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="check" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Produce an error message if an inserted object or list element is not an existing object? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_to_player_squad">
        <xs:annotation>
          <xs:documentation>
            Add a controllable object to the player squad
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_tolerance_boost">
        <xs:annotation>
          <xs:documentation>
            Add tolerance boost (otherobject or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="objectboost" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Tolerance boost value
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="aim_turret">
        <xs:annotation>
          <xs:documentation>
            Aim turret at target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="turret" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Turret
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="targetcomponent" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_units">
        <xs:annotation>
          <xs:documentation>
            Add units to an object (either 'macro' is to be provided or both 'category' and 'mk')
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="category" type="unitcategorylookup" />
          <xs:attribute name="mk" type="expression" />
          <xs:attribute name="tags" type="expression" />
          <xs:attribute name="macro" type="expression" />
          <xs:attribute name="faction" type="expression" >
            <xs:annotation>
              <xs:documentation>
                The faction that made the units - defaults to the owner of the object if not provided
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="unavailable" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Add the unit as currently unavailable (default = false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_units">
        <xs:annotation>
          <xs:documentation>
            Remove units from an object (either 'macro' is to be provided or both 'category' and 'mk')
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="category" type="unitcategorylookup" />
          <xs:attribute name="mk" type="expression" />
          <xs:attribute name="tags" type="expression" />
          <xs:attribute name="macro" type="expression" />
          <xs:attribute name="unavailable" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Remove the unit from currently unavailable units (default = false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="request_units">
        <xs:annotation>
          <xs:documentation>
            Request units from an object and make them unavailable (either 'macro' is to be provided or both 'category' and 'mk')
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="category" type="unitcategorylookup" />
          <xs:attribute name="mk" type="expression" />
          <xs:attribute name="tags" type="expression" />
          <xs:attribute name="macro" type="expression" />
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="return_units">
        <xs:annotation>
          <xs:documentation>
            Return units from an object and make them available
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="macro" type="expression" use="required"/>
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="allow_conversation_escape">
        <xs:annotation>
          <xs:documentation>
            Allows or disallows escaping from the current conversation section (e.g. with Esc). Only the current section is affected, default is allow.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="enabled" type="boolean" use="required">
            <xs:annotation>
              <xs:documentation>
                Should Escape be possible in current conversation section?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="append_to_list">
        <xs:annotation>
          <xs:documentation>
            Append an element at the end of a list.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="list" use="required" />
          <xs:attributeGroup ref="random">
            <xs:annotation>
              <xs:documentation>
                Value to be appended to the list
              </xs:documentation>
            </xs:annotation>
          </xs:attributeGroup>
        </xs:complexType>
      </xs:element>

      <xs:element name="apply_attackstrength">
        <xs:annotation>
          <xs:documentation>
            Apply damage from an attack to target, returns if target was killed
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="attacker" type="object" use="required" />
          <xs:attribute name="strength" type="expression" use="required" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assert">
        <xs:annotation>
          <xs:documentation>
            Evaluates the value, and if it does not match, shows a modal message box and prints an error message
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="conditionalaction"/>
          <xs:attribute name="text" type="expression">
            <xs:annotation>
              <xs:documentation>
                Message text to be displayed on assertion failure
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="break">
            <xs:annotation>
              <xs:documentation>
                Determines on how many assertion failures the message box may pop up (default is 1).
                Note that resetting or refreshing the MD resets the counter.
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:union memberTypes="xs:nonNegativeInteger">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:enumeration value="1" />
                    <xs:enumeration value="0" />
                    <xs:enumeration value="always" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:union>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_pilot">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the pilot of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_architect">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the architect of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_boarding_commander">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the boarding commander of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_defence_manager">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the pilot of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_engineer">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the engineer of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_trade_manager">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the pilot of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="assign_control_entity">
        <xs:annotation>
          <xs:documentation>
            Add NPC actor as the control entity of its type of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="dismiss_control_entity">
        <xs:annotation>
          <xs:documentation>
            Remove NPC actor the control entity of its type of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_control_entities">
        <xs:annotation>
          <xs:documentation>
            Get all control entities of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="dismiss_pilot">
        <xs:annotation>
          <xs:documentation>
            Remove the pilot control entity of the specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="attach_object_to_target">
        <xs:annotation>
          <xs:documentation>
            Attach an object to the target using the 'limpet' connection (only supported on ships so far)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="object" use="required" />
          <xs:attribute name="keepoffset" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Whether the currect offset of object relative to target should be kept, uses target center otherwise (defaults: true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="break">
        <xs:annotation>
          <xs:documentation>
            Abort the most inner &lt;do_while&gt; or (counted) &lt;do_all&gt; loop.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="break_formation">
        <xs:annotation>
          <xs:documentation>
            Break formation as a formation leader. No effect if the object is not a formation leader
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="cease_fire">
        <xs:annotation>
          <xs:documentation>
            Cease fire
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="weapontype" type="weapontypelookup">
            <xs:annotation>
              <xs:documentation>
                Which turret types should stop firing, defaults to all.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="change_relation_on_attack">
        <xs:annotation>
          <xs:documentation>
            Change relation of the attacked object towards the attacker
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="attacker" type="object" use="required" />
          <xs:attribute name="attacked" type="object" use="required" />
          <xs:attribute name="method" type="killmethodlookup" use="required" />
          <xs:attribute name="result" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                This value will be set to true if there was an effect on the relation (or at least the relation boost decay), otherwise it is set to false.
                The action can fail in several cases, e.g. if attacker and victim are of the same faction.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="change_relation_on_boarding">
        <xs:annotation>
          <xs:documentation>
            Change relation of the boarded object towards the boarder
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="boarder" type="object" use="required" />
          <xs:attribute name="boarded" type="object" use="required" />
          <xs:attribute name="attempt" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Is this a boarding attempt or the end of a successful boarding operation?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                This value will be set to true if there was an effect on the relation (or at least the relation boost decay), otherwise it is set to false.
                The action can fail in several cases, e.g. if attacker and victim are of the same faction.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="change_relation_on_kill">
        <xs:annotation>
          <xs:documentation>
            Change relation of the killed object towards the killer
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="killer" type="object" use="required" />
          <xs:attribute name="killed" type="object" use="required" />
          <xs:attribute name="method" type="killmethodlookup" use="required" />
          <xs:attribute name="result" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                This value will be set to true if there was an effect on the relation (or at least the relation boost decay), otherwise it is set to false.
                The action can fail in several cases, e.g. if attacker and victim are of the same faction.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="check_line_of_sight">
        <xs:annotation>
          <xs:documentation>
            Check if object has line of sight to the target (uses ray casts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="object" use="required" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="check_is_in_security_area">
        <xs:annotation>
          <xs:documentation>
            Check if object is inside station's security area
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="station" type="object" use="required" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="check_is_area_obstructed">
        <xs:annotation>
          <xs:documentation>
            Check if a ship is inside the designated area. Ignores mass traffic (as long as it's in the lane) and ships that have collision avoidance currently disabled (due to docking or parking).
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
            <xs:element name="boundingbox" type="boundingbox" minOccurs="1" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="excluded" type="ship" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_blocked_area">
        <xs:annotation>
          <xs:documentation>
            Adds a blocked area to a zone. Stationary ships inside the zone will be moved outside it, and current move_to targets inside it are invalidated. Ships that are ignored in check_is_area_obstructed are ignored here as well. Always be sure to remove any blocked areas as soon as they are no longer needed.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
            <xs:element name="boundingbox" type="boundingbox" minOccurs="1" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="blocker" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Used to associate this area with the user
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_blocked_area">
        <xs:annotation>
          <xs:documentation>
            Removes a blocked area from a zone.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="blocker" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Used to associate this area with the user
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="start_observation">
        <xs:annotation>
          <xs:documentation>
            Notify the game that a target is being observed by this entity now (target: the observed object; range: the distance in which observation is actually happening)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The observer object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The observed object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="range" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The distance in which observation is actually happening
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_observation">
        <xs:annotation>
          <xs:documentation>
            Notify the game that a target is no longer being observed by this entity
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The observer object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The previously observed object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="start_attack">
        <xs:annotation>
          <xs:documentation>
            Notify the game that a target is being attacked by this entity now
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The attacker object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The attacked object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_attack">
        <xs:annotation>
          <xs:documentation>
            Notify the game that a target is no longer being attacked by this entity
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The attacker object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The previously attacked object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="report_illegal_activity">
        <xs:annotation>
          <xs:documentation>
            Report illegal activity
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The object doing the illegal activity
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression">
            <xs:annotation>
              <xs:documentation>
                The victim of the activity
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="claim_ship">
        <xs:annotation>
          <xs:documentation>
            Claim the target ship using pilot. ATTENTION: this moves 'this' to $target! All further this.* calls will correspond to $target!
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="target" type="expression" use="required" >
            <xs:annotation>
              <xs:documentation>
                Ship that will be claimed. Must be ownerless.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="pilot" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Pilot that will do the claiming. Will be moved from its current controllable to target.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Faction that will take owership of ship. Will default to ownership of pilot controllable if ommitted.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="clamp_trade_amount">
        <xs:annotation>
          <xs:documentation>
            Clamp trade amount value based on buyer/seller storage situation (rebundle/unbundle states are taken into account and the appropriate storages - cargo, ammo or units - are checked)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="trade" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The trade to check
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                Initial amount to clamp based on buyer/seller storage limits (optional, defaults to 2147483647)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buyer" type="expression">
            <xs:annotation>
              <xs:documentation>
                The buyer to look at for free storage limitations (optional, either buyer or seller must be specified)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="seller" type="expression">
            <xs:annotation>
              <xs:documentation>
                The seller to look at for stored item limitations (optional, either buyer or seller must be specified)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount clamped so it both matches what seller has and what buyer can store.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="clear_collision_filter">
        <xs:annotation>
          <xs:documentation>
            Clear the list of objects for which collisions are disabled
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="clear_group">
        <xs:annotation>
          <xs:documentation>
            Clear a group, i.e. remove all members from it
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="group" type="group" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="clear_list">
        <xs:annotation>
          <xs:documentation>
            Clear a list (equivalent to resizing to 0 elements)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="list" type="list" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="clear_table">
        <xs:annotation>
          <xs:documentation>
            Clear a table, i.e. remove all keys and values from it
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="table" type="table" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="close_dockingbay_doors">
        <xs:annotation>
          <xs:documentation>
            Close docking bay doors
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="dock" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Docking bay component slot (find using &lt;find_dock_location&gt;)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_building_position">
        <xs:annotation>
          <xs:documentation>
            Get buildership position outside of the stations boundaries, requires using the 'buildlocation' and 'macro' OR an already placed 'construction'
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="construction" type="object" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="buildlocation" type="expression">
            <xs:annotation>
              <xs:documentation>
                Build Location ComponentMacroSlot
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="position" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="connect_to_build_location">
        <xs:annotation>
          <xs:documentation>
            Connect a ship to a build location
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="buildlocation" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Location ComponentMacroSlot
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="claim_build_location">
        <xs:annotation>
          <xs:documentation>
            Claim a build location so that no other architect can try to build here
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="buildlocation" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Location ComponentMacroSlot
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_build_location_claim">
        <xs:annotation>
          <xs:documentation>
            Remove a claim on a build location
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="buildlocation" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Location ComponentMacroSlot
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="disconnect_from_build_location">
        <xs:annotation>
          <xs:documentation>
            Disconnect a ship from a build location
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="connect_to_trade_location">
        <xs:annotation>
          <xs:documentation>
            Connect a ship to a trade location (= reserve parking space)
            If result is null then the operation failed.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="tradedock" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Trade Location ComponentSlot (find using &lt;find_tradeoffer_parking_slot&gt;)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="disconnect_from_trade_location">
        <xs:annotation>
          <xs:documentation>
            Disconnect a ship from a trade location (= free up parking space)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="tradedock" type="expression">
            <xs:annotation>
              <xs:documentation>
                (optional) the Trade Location ComponentSlot to disconnect from. (if supplied, additional validation will be performed)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="construct_ship">
        <xs:annotation>
          <xs:documentation>
            Construct a ship using the object's build module
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Container object that has a build module
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildmodule" type="expression">
            <xs:annotation>
              <xs:documentation>
                Specific build module to be used (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="faction">
            <xs:annotation>
              <xs:documentation>
                Specific faction to be used (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="buildplan" type="expression" use="required" />
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="construct_station">
        <xs:annotation>
          <xs:documentation>
            Construct a station using the object's build module
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Container object that has a build module
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildmodule" type="expression">
            <xs:annotation>
              <xs:documentation>
                Specific build module to be used (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="faction">
            <xs:annotation>
              <xs:documentation>
                Specific faction to be used (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildlocation" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Location ComponentMacroSlot
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="buildplan" type="expression" use="required" />
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_buildmodule_macro">
        <xs:annotation>
          <xs:documentation>
            Provides the object's build module with the macro that will be constructed
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Container object that has a build module
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildmodule" type="expression">
            <xs:annotation>
              <xs:documentation>
                Specific build module to be used (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="buildplan" type="expression" use="optional" />
        </xs:complexType>
      </xs:element>

      <xs:element name="clear_buildmodule">
        <xs:annotation>
          <xs:documentation>
            Clear a build module after a build is finished
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="continue">
        <xs:annotation>
          <xs:documentation>
            Skip the current iteration of the most inner &lt;do_while&gt; or (counted) &lt;do_all&gt; loop, and continue with the next iteration.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_ai_unit">
        <xs:annotation>
          <xs:documentation>
            Create an AI unit from the provided object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_group">
        <xs:annotation>
          <xs:documentation>
            Create an empty group
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="groupname" type="lvalueexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of the group to be created
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="create_list">
        <xs:annotation>
          <xs:documentation>
            Create a list of given element count (default is 0), filled with null values. Use [] syntax instead for lists with fixed size/content.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="random">
            <xs:annotation>
              <xs:documentation>
                Number of elements
              </xs:documentation>
            </xs:annotation>
          </xs:attributeGroup>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_formation">
        <xs:annotation>
          <xs:documentation>
            Create formation on a object. If that object has already a formation, it only changes the shape. Nested formations supported.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object for which this formation should be created (can be any member of an existing formation or a new leader)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="formation" type="formationshapelookup" use="required">
            <xs:annotation>
              <xs:documentation>
                Formation shape
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="param" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Parameter for formation shape, see formation shape documentation
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="param2" type="expression">
            <xs:annotation>
              <xs:documentation>
                Secondary parameter for formation shape, currently only used for rotatingcircle
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="rollformation" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Whether the entire formation shape should roll with the leader (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="rollmembers" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Whether individual members should mimic the roll orientation of the leader (optional, defaults to true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="create_lockbox">
        <xs:annotation>
          <xs:documentation>
            Create a Lockbox (wrapped inside its own object)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="safepos" type="createobjectsafepos" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
          <xs:attribute name="macro" type="macro" use="required"/>
          <xs:attribute name="zone" type="expression">
            <xs:annotation>
              <xs:documentation>
                Zone to create the lockbox in. (takes precedence from sector)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sector" type="expression">
            <xs:annotation>
              <xs:documentation>
                Sector to create the lockbox in using position in the sector space. Creates a tempzone if a zone does not exist at the coordinates
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="owner" type="faction" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_object">
        <xs:annotation>
          <xs:documentation>
            Create an Object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="safepos" type="createobjectsafepos" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
          <xs:attribute name="macro" type="macro" use="required"/>
          <xs:attribute name="zone" type="expression">
            <xs:annotation>
              <xs:documentation>
                Zone to create the object in. (takes precedence from sector)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sector" type="expression">
            <xs:annotation>
              <xs:documentation>
                Sector to create the object in using position in the sector space. Creates a tempzone if a zone does not exist at the coordinates
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="owner" type="faction" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_orientation">
        <xs:annotation>
          <xs:documentation>
            Create an orientation(rotation) value. refobject takes priority over refposition if both are supplied
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position">
              <xs:annotation>
                <xs:documentation>
                  Position the orientation originates at (e.g. look_at means look from position towards refposition)
                </xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="maxpitch" type="xs:positiveInteger">
            <xs:annotation>
              <xs:documentation>
                The maximum pitch angle to be returned, in positive degrees (default: 90, i.e. no restriction)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attributeGroup ref="orientation" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_random_position_in_boundingbox">
        <xs:annotation>
          <xs:documentation>
            Create a random position value within the bounding box of a component (the resulting value is relative to the component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="component" type="object" use="required" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_random_position_outside_boundingbox">
        <xs:annotation>
          <xs:documentation>
            Create a random position value outside the bounding box of a component (the resulting value is relative to the component)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="component" type="object" use="required" />
          <xs:attribute name="mindistance" type="expression">
            <xs:annotation>
              <xs:documentation>
                The minimum distance the generated point will have from the edge of the component's bounding box in each axis.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="maxdistance" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The maximum distance the generated point will have from the edge of the component's bounding box in each axis.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_trade_offer">
        <xs:annotation>
          <xs:documentation>
            Create a trade offer and if provided, add it to an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="seller" type="object" use="optional" >
            <xs:annotation>
              <xs:documentation>
                Setting the seller object makes this a Sell type offer. Also setting buyer negates this.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buyer" type="object" use="optional" >
            <xs:annotation>
              <xs:documentation>
                Setting the buyer object makes this a Buy type offer. Also setting seller negates this.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="object" use="required" >
            <xs:annotation>
              <xs:documentation>
                Object for the offer to be localiased on
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attribute name="price" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The price of a single item
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amount" type="expression" use="required" />
          <xs:attribute name="desiredamount" type="expression">
            <xs:annotation>
              <xs:documentation>
                The real amount we desire if available funds would not matter (optional, defaults to amount)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="minamount" type="expression" use="optional" />
          <xs:attribute name="fixedamount" type="boolean" use="optional">
            <xs:annotation>
              <xs:documentation>
                Is the ware amount fixed? Ignored if minamount is set
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="unbundle" type="boolean" use="optional">
            <xs:annotation>
              <xs:documentation>
                Should the ware be unbundled (turn ware into ammo/units) on transfer? (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="rebundle" type="boolean" use="optional">
            <xs:annotation>
              <xs:documentation>
                Should the ware be rebundled (convert ammo/unit -> ware) on transfer? (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="playeronly" type="boolean" use="required">
            <xs:annotation>
              <xs:documentation>
                Should this tradeoffer only be available to the player faction? (defaults to true, will allow *all* factions to trade if set to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="mission" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Is the trade for a mission (defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_trade_offer">
        <xs:annotation>
          <xs:documentation>
            Remove a trade offer from an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="tradeoffer" type="tradeoffer" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_position_outside_boundingbox">
        <xs:annotation>
          <xs:documentation>
            Create a position value just outside the bounding box of a component, in the direction of the given position (the resulting value is relative to the component).
            If the given position is inside the bounding box, it will be used as the result.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="1" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="component" type="object" use="required" />
          <xs:attribute name="distance" type="expression">
            <xs:annotation>
              <xs:documentation>
                The distance the generated point will have from the edge of the component's bounding box.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_object_surface">
        <xs:annotation>
          <xs:documentation>
            Create a position value directly on the surface of an object, in the direction of the given position (the resulting value is relative to the space, or the object if no space was supplied).
            The rotation value will be set from the surface normal.
            If no position is supplied, it will be randomized in a sphere around the object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="component" type="object" >
            <xs:annotation>
              <xs:documentation>
                Sub component of object to aim the raycast at (otherwise object center) (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="space" type="space" />
          <xs:attribute name="posname" type="lvaluename" use="required" />
          <xs:attribute name="rotname" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_position">
        <xs:annotation>
          <xs:documentation>
            Create a position value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="position" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="transform_position">
        <xs:annotation>
          <xs:documentation>
            Create a position value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="refposition" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Reference position
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="refrotation" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Rotation at the reference position
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_rotation">
        <xs:annotation>
          <xs:documentation>
            Create a rotation value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="rotation" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_ship">
        <xs:annotation>
          <xs:documentation>
            Create a ship
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:group ref="createship" />
            <xs:element name="orientation" type="orientation" minOccurs="0" maxOccurs="1" />
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="safepos" type="createobjectsafepos" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
          <xs:attributeGroup ref="createship"/>
          <xs:attribute name="dock" type="expression">
            <xs:annotation>
              <xs:documentation>
                Either a Dockslot, DockingBay component or Container component to spawn in (takes precedence from zone or sector)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="mission" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Is the ship for a mission (defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="zone" type="expression">
            <xs:annotation>
              <xs:documentation>
                Zone to spawn in (used if dock is omitted or invalid, take precedence from sector)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sector" type="expression">
            <xs:annotation>
              <xs:documentation>
                Sector to create the ship in using position in the sector space. Creates a tempzone if a zone does not exist at the coordinates
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="defaultscript" type="expression">
            <xs:annotation>
              <xs:documentation>
                Default script name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="create_station">
        <xs:annotation>
          <xs:documentation>
            Create a station
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="safepos" type="createobjectsafepos" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
            <xs:element name="buildsequence" type="buildsequence" minOccurs="0" maxOccurs="unbounded" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
          <xs:attribute name="macro" type="macro" use="required"/>
          <xs:attribute name="zone" type="expression">
            <xs:annotation>
              <xs:documentation>
                Zone to create the station in. (takes precedence from sector)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sector" type="expression">
            <xs:annotation>
              <xs:documentation>
                Sector to create the station in using position in the sector space. Creates a tempzone if a zone does not exist at the coordinates
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="owner" type="faction" />
          <xs:attribute name="buildlocation" type="expression">
            <xs:annotation>
              <xs:documentation>
                Build Location ComponentMacroSlot to connect the station to
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="create_defence_officer">
        <xs:annotation>
          <xs:documentation>
            Create a defence officer for the specified ship (only available for a ship of class L or XL)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:group ref="createnpc" />
          <xs:attributeGroup ref="createnpc" />
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="ship" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_engineer">
        <xs:annotation>
          <xs:documentation>
            Create an engineer for the specified ship (only available for a ship of class L or XL)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:group ref="createnpc" />
          <xs:attributeGroup ref="createnpc" />
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="ship" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="create_pilot">
        <xs:annotation>
          <xs:documentation>
            Create a pilot for the specified ship
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:group ref="createnpc" />
          <xs:attributeGroup ref="createnpc" />
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="ship" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="cutscene_event">
        <xs:annotation>
          <xs:documentation>
            Send an event to a running cutscene
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="key" type="cutscenekey" use="required" />
          <xs:attribute name="event" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Event string that is sent to the cutscene
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="debug_text">
        <xs:annotation>
          <xs:documentation>
            Output debug text
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="text" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Text
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="filter">
            <xs:annotation>
              <xs:documentation>
                Debug output filter (optional, default is scripts)
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:string">
                <xs:enumeration value="error" />
                <xs:enumeration value="general" />
                <xs:enumeration value="scripts" />
                <xs:enumeration value="scripts_verbose" />
                <xs:enumeration value="combat" />
                <xs:enumeration value="savegame" />
                <xs:enumeration value="none" />
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="deplete_yield">
        <xs:annotation>
          <xs:documentation>
            Deplete yield for a certain ware in a zone of a specific region. If container is provided, attempt to add the wares to it (which may affect the deleted amount)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="zone" type="object" use="required" />
          <xs:attribute name="container" type="object">
            <xs:annotation>
              <xs:documentation>
                If provided, the wares will attempt to be added to the container object. The wares successfully transfered will then be depleted from the region
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="ware" type="object" use="required" />
          <xs:attribute name="amount" type="lvaluename" use="required" >
            <xs:annotation>
              <xs:documentation>
                Amount to be drained from the region, this value will contain the actual amount that was drained after the command has been executed
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_resource_gatherrate">
        <xs:annotation>
          <xs:documentation>
            Determine rate at which the refobject can drain resources from the supplied region in the specified zone (averaged using available colletector drones)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="zone" type="object" use="required" />
          <xs:attribute name="ware" type="object" use="required" />
          <xs:attribute name="refobject" type="object" use="required" />
          <xs:attribute name="name" type="lvaluename" use="required" >
            <xs:annotation>
              <xs:documentation>
                Rate at which the specified resource can be drained from the region by the refobject (float)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="destroy_object">
        <xs:annotation>
          <xs:documentation>
            Destroy specified object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="explosion" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Show explosion effect? Default is false
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="destroy_group">
        <xs:annotation>
          <xs:documentation>
            Destroy specified group
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="group" type="group" use="required" />
          <xs:attribute name="explosion" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Show explosion effect? Default is false
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="restore_object">
        <xs:annotation>
          <xs:documentation>
            Restore specified object from the wreck state
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="hull" type="expression">
            <xs:annotation>
              <xs:documentation>
                The hull value to set after restoring the object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="recursive" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Recursivly repair contained components (default = false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="repair_object">
        <xs:annotation>
          <xs:documentation>
            Repair an object to hullfraction
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sequence" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Sequence
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stage" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Stage
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="hullfraction" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Target hull fraction
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildlimit" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Limit upgrading to the buildstep (default = true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="repair_component">
        <xs:annotation>
          <xs:documentation>
            Repair a component to hullfraction
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="component" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Component to be repaired
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="hullfraction" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Target hull fraction
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="restart_build">
        <xs:annotation>
          <xs:documentation>
            Connect a build module to an existing station and restart any builds
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="disable_collisions_between">
        <xs:annotation>
          <xs:documentation>
            Disable collisions between the object and the target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="targetcomponent" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="disable_collision_response">
        <xs:annotation>
          <xs:documentation>
            Does all collision checks but disables all reaction to the checks = no collision. Only works for objects in visible attention.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="dock">
        <xs:annotation>
          <xs:documentation>
            Dock ship instantly at the pre-selected docking bay (&lt;request_docking&gt; must have been performed successfully before!)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="dock_drone">
        <xs:annotation>
          <xs:documentation>
            Instantly dock a drone at the specified homebase homebase
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="homebase" type="object" use="required" >
            <xs:annotation>
              <xs:documentation>
                Homebase can be any object that either has a dronelaunchpad or is a dronelaunchpad.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="drop_cargo">
        <xs:annotation>
          <xs:documentation>
            Drop ware from cargo bay (if possible)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="random" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attributeGroup ref="dropcargo" />
        </xs:complexType>
      </xs:element>

      <xs:element name="drop_illegal_cargo">
        <xs:annotation>
          <xs:documentation>
            Drop all illegal cargo from cargo bay
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="faction" type="faction">
            <xs:annotation>
              <xs:documentation>
                Faction to check ware legality against (optional, if ommitted only wares that are globally illegal will be dropped)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="dropcargo" />
        </xs:complexType>
      </xs:element>

      <xs:element name="drop_illegal_inventory">
        <xs:annotation>
          <xs:documentation>
            Drop all illegal wares from entity inventory
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="faction" type="faction">
            <xs:annotation>
              <xs:documentation>
                Faction to check ware legality against (optional, if ommitted only wares that are globally illegal will be dropped)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="dropcargo" />
        </xs:complexType>
      </xs:element>

      <xs:element name="drop_inventory">
        <xs:annotation>
          <xs:documentation>
            Drop ware from inventory (if possible)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="random" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attributeGroup ref="dropcargo" />
        </xs:complexType>
      </xs:element>

      <xs:element name="eject_npcs">
        <xs:annotation>
          <xs:documentation>
            Eject all NPCs from the object (they will use escape pods. Cannot be used for ship_xs!)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="enable_collisions_between">
        <xs:annotation>
          <xs:documentation>
            Disable collisions between the object and the target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="targetcomponent" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="equip_weapon">
        <xs:annotation>
          <xs:documentation>
            Equip weapon
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_asteroid_in_cluster">
        <xs:annotation>
          <xs:documentation>
            Find asteroid in cluster near specified position
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="cluster" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Cluster
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="refobject" type="expression">
            <xs:annotation>
              <xs:documentation>
                Reference object or space (defaults to cluster if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="canpickup" type="boolean" >
            <xs:annotation>
              <xs:documentation>
                Whether this should return a rock that can be collected or an asteroid that needs to be broken up first
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="boolean" >
            <xs:annotation>
              <xs:documentation>
                If true the command will return a list of asteroids and will automatically do a view check, see viewangle and maxdistance attributes!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="viewangle" type="expression" >
            <xs:annotation>
              <xs:documentation>
                If multiple is true this controls the forward angle to see if asteroids are in range (defaults to 30)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="maxdistance" type="expression" >
            <xs:annotation>
              <xs:documentation>
                If multiple is true this controls the maximum distance at which asteroids can be found (defaults to 3000m)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="ware" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Only include asteroids that contain the specified ware as resource (ignored by default)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_buy_offer">
        <xs:annotation>
          <xs:documentation>
            Find matching buy offer(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtrade">
              <xs:attributeGroup ref="action" />
              <xs:attribute name="result" type="lvaluename" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="tradepartner" type="container">
                <xs:annotation>
                  <xs:documentation>
                    object that will do the trading (usually a trade ship)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="buyer" type="container">
                <xs:annotation>
                  <xs:documentation>
                    (optional) only find buy offers on this buyer
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="seller" type="container">
                <xs:annotation>
                  <xs:documentation>
                    (optional) filter for wares that the seller produces (and does not need itself)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="space" type="space">
                <xs:annotation>
                  <xs:documentation>
                    (optional) zone or sector in which to look for offers, defaults to zone of tradepartner
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="excludeempty" type="boolean">
                <xs:annotation>
                  <xs:documentation>
                    (optional) exclude empty trade offers (amount = 0, desired amount > 0)? (defaults to true)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="excludemissions" type="boolean">
                <xs:annotation>
                  <xs:documentation>
                    (optional) exclude mission trade offers? (defaults to true)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="usereservations" type="boolean">
                <xs:annotation>
                  <xs:documentation>
                    (optional) take reservations into account when checking if a trade is empty? (defaults to true)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_closest_navmesh_object">
        <xs:annotation>
          <xs:documentation>
            Find closest object that has a navmesh
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="name" type="lvaluename" use="required" />
              <xs:attribute name="refobject" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Reference object for distance check
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_closest_region">
        <xs:annotation>
          <xs:documentation>
            Find closest region
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attribute name="ware" type="ware" >
                <xs:annotation>
                  <xs:documentation>
                    (optional) a single ware that needs to be available as a resource in the region
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="name" type="lvaluename" use="required" />
              <xs:attribute name="refobject" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Reference object for distance check
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_closest_resource">
        <xs:annotation>
          <xs:documentation>
            Find closest resource
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="ware" type="expression" >
            <xs:annotation>
              <xs:documentation>
                a single ware or list of wares that needs to be available as a resource in the region
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="minamount" type="expression" >
            <xs:annotation>
              <xs:documentation>
                (optional) minimum resource yield that the region/zone needs to provide
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="refobject" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Reference object for distance check
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="wares" type="expression" >
            <xs:annotation>
              <xs:documentation>
                (optional, resultvalue) list of all the resources that can be gathered in the found zone
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="zone" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                (resultvalue) the zone where the requested resource can be found
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_closest_station_part">
        <xs:annotation>
          <xs:documentation>
            Find closest part of a station
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findarbitrary" />
              <xs:attribute name="station" type="object" use="required" />
              <xs:attribute name="name" type="lvaluename" use="required" />
              <xs:attribute name="refobject" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Reference object for distance check
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_cluster">
        <xs:annotation>
          <xs:documentation>
            Find matching cluster(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findcluster" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_dock_location">
        <xs:annotation>
          <xs:documentation>
            Find one or multiple docks at a container
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="required" type="findrequired" />
          <xs:attribute name="container" type="container" use="required" />
          <xs:attribute name="size" type="expression">
            <xs:annotation>
              <xs:documentation>
                Tag of required dock size of ship
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="numfreeactorslots" type="numfreeactorslots" />
          <xs:attribute name="freemissionactorslot" type="freemissionactorslot" />
          <xs:attribute name="dockpopulationtype" type="dockpopulationtypeexprlookup" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_dockingbay_for_trade">
        <xs:annotation>
          <xs:documentation>
            Find dockingbay for trade
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="tradepartner" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Trader ship
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="tradeoffer" type="tradeoffer" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_gravidar_contact">
        <xs:annotation>
          <xs:documentation>
            Find gravidar contact(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="object" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Scanning object
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_infopoint_location">
        <xs:annotation>
          <xs:documentation>
            Find info points at a container
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="required" type="findrequired" />
          <xs:attribute name="container" type="container" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_object_component">
        <xs:annotation>
          <xs:documentation>
            Find matching component(s) contained in an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findarbitrary" />
              <xs:attribute name="object" type="expression" use="required">
                <xs:annotation>
                  <xs:documentation>
                    Parent object for component search
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="recursive" type="findrecursive" />
              <xs:attribute name="includeobjects" type="findincludeobjects" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_resource">
        <xs:annotation>
          <xs:documentation>
            Find resource (random zone in cluster)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="ware" type="expression" >
            <xs:annotation>
              <xs:documentation>
                a single ware or list of wares that needs to be available as a resource in the region
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="minamount" type="expression" >
            <xs:annotation>
              <xs:documentation>
                (optional) minimum resource yield that the region/zone needs to provide
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="findmultiple"/>
          <xs:attribute name="refobject" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Reference object for distance check or a cluster for all contained regions
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="wares" type="expression" >
            <xs:annotation>
              <xs:documentation>
                (optional, resultvalue) list of all the resources that can be gathered in the found zone. If used with multiple="true", gives a list of lists of resources synchronized with the zone list from $zone.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="zone" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                (resultvalue) the zone where the requested resource can be found
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="check_object">
        <xs:annotation>
          <xs:documentation>
            Check an object against filters
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findarbitrary" />
              <!-- <xs:attribute name="space" type="space" /> -->
              <xs:attribute name="object" type="expression" use="required"/>
              <xs:attribute name="result" type="lvaluename" use="required"/>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="end_repair_mass_traffic">
        <xs:annotation>
          <xs:documentation>
            Ends all repair mass traffic networks for an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="endtime" type="expression">
            <xs:annotation>
              <xs:documentation>
                The time the network should end (defaults to 'as soon as possible' if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_active_repair_mass_traffic">
        <xs:annotation>
          <xs:documentation>
            Find a repair mass traffic network for an object that doesn't have an end time set already
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="result" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                The ID of the mass traffic network - IMPORTANT: this will become invalid if a savegame is loaded
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_pos_in_mass_traffic_at_time">
        <xs:annotation>
          <xs:documentation>
            Find position in mass traffic network where the object would be at the specified time (only works for ships originating from mass traffic!)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="object" type="ship" use="required" />
          <xs:attribute name="time" type="expression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_random_pos_in_mass_traffic">
        <xs:annotation>
          <xs:documentation>
            Find random position in mass traffic network
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="start" type="expression">
            <xs:annotation>
              <xs:documentation>
                Minimal time after beginning of path
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="end" type="expression">
            <xs:annotation>
              <xs:documentation>
                Minimal time until end of path
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_summarised_adsign">
        <xs:annotation>
          <xs:documentation>
            Find adsign components from the objects summary data (nothing will be found if the object is collapsed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="operational" type="booleanexpression" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_summarised_efficiencyupgrade">
        <xs:annotation>
          <xs:documentation>
            Find efficiencyupgrade components from the objects summary data (nothing will be found if the object is collapsed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="operational" type="booleanexpression" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_summarised_shield">
        <xs:annotation>
          <xs:documentation>
            Find shield components from the objects summary data (nothing will be found if the object is collapsed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="operational" type="booleanexpression" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_summarised_surfacedestructible">
        <xs:annotation>
          <xs:documentation>
            Find surfacedestructible components from the objects summary data (nothing will be found if the object is collapsed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="operational" type="booleanexpression" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_summarised_turret">
        <xs:annotation>
          <xs:documentation>
            Find turret components from the objects summary data (nothing will be found if the object is collapsed)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="operational" type="booleanexpression" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_object">
        <xs:annotation>
          <xs:documentation>
            Find matching object(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="space" type="space" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_sector">
        <xs:annotation>
          <xs:documentation>
            Find matching sector(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="find" />
              <xs:attribute name="space" type="space" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_sell_offer">
        <xs:annotation>
          <xs:documentation>
            Find matching sell offer(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchtrade">
              <xs:attributeGroup ref="action" />
              <xs:attribute name="result" type="lvaluename" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="tradepartner" type="container">
                <xs:annotation>
                  <xs:documentation>
                    object that will do the trading (usually a trade ship)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="buyer" type="container">
                <xs:annotation>
                  <xs:documentation>
                    (optional) filter for wares that the buyer can use(and does not produce itself)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="seller" type="container">
                <xs:annotation>
                  <xs:documentation>
                    (optional) only find sell offers on this seller
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="space" type="space">
                <xs:annotation>
                  <xs:documentation>
                    (optional) zone or sector in which to look for offers, defaults to zone of tradepartner
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="excludeempty" type="boolean">
                <xs:annotation>
                  <xs:documentation>
                    (optional) exclude empty trade offers (amount = 0, desired amount > 0)? (defaults to true)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="excludemissions" type="boolean">
                <xs:annotation>
                  <xs:documentation>
                    (optional) exclude mission trade offers? (defaults to true)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
              <xs:attribute name="usereservations" type="boolean">
                <xs:annotation>
                  <xs:documentation>
                    (optional) take reservations into account when checking if a trade is empty? (defaults to true)
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_ship">
        <xs:annotation>
          <xs:documentation>
            Find matching ship(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findship" />
              <xs:attribute name="space" type="space" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="recursive" type="findrecursive" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_station">
        <xs:annotation>
          <xs:documentation>
            Find matching station(s)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findstation" />
              <xs:attribute name="space" type="space" use="required" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="find_tradeoffer_parking_slot">
        <xs:annotation>
          <xs:documentation>
            Find tradeoffer location parking ComponentSlot
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" >
            <xs:annotation>
              <xs:documentation>
                Object (container) that has the tradeoffer locations.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="refobject" type="object" >
            <xs:annotation>
              <xs:documentation>
                (optional) If supplied the list of slots will be sorted by distance to refobject.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="trade" type="tradeoffer" >
            <xs:annotation>
              <xs:documentation>
                (optional) If supplied the slot for this trade will be preferred.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="includeoccupied" type="boolean" >
            <xs:annotation>
              <xs:documentation>
                Include slots that are marked as occupied (defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="findmultiple" />
          <xs:attribute name="check" type="boolean">
            <xs:annotation>
              <xs:documentation>
                If this is set, the result value changes to a boolean and can be used to check if object has any tradeoffer parking slots at all (occupied or not)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="find_zone">
        <xs:annotation>
          <xs:documentation>
            Find matching zone(s) - includes highways by default
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findzone" />
              <xs:attribute name="space" type="space" />
              <xs:attribute name="multiple" type="findmultiple" />
              <xs:attribute name="required" type="findrequired" />
              <xs:attribute name="name" type="lvaluename" />
              <xs:attribute name="groupname" type="groupname" />
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="fire_turret">
        <xs:annotation>
          <xs:documentation>
            Fire turret
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="turret" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Turret
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_attackstrength">
        <xs:annotation>
          <xs:documentation>
            Get attack strength against target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="object" use="required" />
          <xs:attribute name="usedrones" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Include damage of defence drones (defaults to true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_character_definition">
        <xs:annotation>
          <xs:documentation>
            Get character definition by filtering via category parameters
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="factionlookup">
            <xs:annotation>
              <xs:documentation>
                Faction or list of factions
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="tags" type="expression">
            <xs:annotation>
              <xs:documentation>
                Specification tag or list of tags
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="race" type="racelookup">
            <xs:annotation>
              <xs:documentation>
                Race
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Find multiple definitions? If true, result returns a list. If false (default), result returns a single value.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_docking_approach_pos">
        <xs:annotation>
          <xs:documentation>
            Get docking approach pos
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="dock" type="expression">
            <xs:annotation>
              <xs:documentation>
                Docking bay component slot (find using &lt;find_dock_location&gt;)
                Only dock or dronedock can be used, if both are specified, dock will be used!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="dronedock" type="expression">
            <xs:annotation>
              <xs:documentation>
                DroneLaunchPad component
                Only dock or dronedock can be used, if both are specified, dock will be used!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="position" type="lvaluename" use="required" />
          <xs:attribute name="rotation" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_gate_approach_pos">
        <xs:annotation>
          <xs:documentation>
            Get gate approach pos
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="gate" type="expression" use="required" >
            <xs:annotation>
              <xs:documentation>
                Jumpgate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="position" type="lvaluename" use="required" />
          <xs:attribute name="rotation" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_global_path">
        <xs:annotation>
          <xs:documentation>
            Get global path from start to end (multiple=0 returns first value. multiple=1 returns whole path as lists)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="start" type="componentoffset" />
            <xs:element name="end" type="componentoffset" />
          </xs:sequence>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="component" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                (Yields a list of components when attribute multiple is used, otherwise first value)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="offset" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                (Yields a list of positions when attribute multiple is used, otherwise first value)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Return the whole path or the first pair of Component and offset?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="usehighways" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Whether the path should include highway entrance/exit points or not (defaults to true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_jump_cost">
        <xs:annotation>
          <xs:documentation>
            Get fuel cost for jumping ship from start to end
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="start" type="sector" use="required" />
          <xs:attribute name="end" type="sector" use="required" />
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="result" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount of fuelcells required to make the trip. Will be null if the ship has no jumpdrive.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_jump_path">
        <xs:annotation>
          <xs:documentation>
            Get jump path from start to end (multiple=0 returns first value. multiple=1 returns whole path as lists)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="start" type="sector" use="required" />
          <xs:attribute name="end" type="sector" use="required" />
          <xs:attribute name="component" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                (Yields a list of components when attribute multiple is used, otherwise first value)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Return the whole path or the first component?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_closest_highway_offset">
        <xs:annotation>
          <xs:documentation>
            Get the internal highway offset which is closest to this position
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="highway" type="zone" use="required" />
          <xs:attribute name="space" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Co-ordinate space for the position (can be a space or object)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_closest_jumpbeacon">
        <xs:annotation>
          <xs:documentation>
            Get the jumpbeacon in the sector that is closest to the supplied position
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="sector" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Sector to look for jumpbeacons in
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_safe_pos">
        <xs:annotation>
          <xs:documentation>
            Get a safe position in a zone
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attributeGroup ref="safepos" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_ship_definition">
        <xs:annotation>
          <xs:documentation>
            Get ship definition by filtering via category parameters
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="faction" type="factionlookup">
            <xs:annotation>
              <xs:documentation>
                Faction or list of factions
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="tags" type="expression">
            <xs:annotation>
              <xs:documentation>
                Specification tag or list of tags
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="size" type="shipsizeclasslookup">
            <xs:annotation>
              <xs:documentation>
                Ship size
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="multiple" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Find multiple definitions? If true, result returns a list. If false (default), result returns a single value.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_target_points">
        <xs:annotation>
          <xs:documentation>
            Get position list of matching target points from a macro
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="buildsequence" type="buildsequence" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="tags" type="expression">
            <xs:annotation>
              <xs:documentation>
                Either a single tag or a list of tags which are required for the target points
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_waypoint_path">
        <xs:annotation>
          <xs:documentation>
            Get position list of matching waypoints from a component, starting from a start waypoint and progressing along the links until the end is reached
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="space" type="expression" use="required" />
          <xs:attribute name="tags" type="expression">
            <xs:annotation>
              <xs:documentation>
                Either a single tag or a list of tags which are required for the waypoints
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="start_tags" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Either a single tag or a list of tags which are required for the start waypoint (matched in addition to the other required tags, if they are defined)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="posname" type="lvaluename" use="required" />
          <xs:attribute name="rotname" type="lvaluename" />
          <xs:attribute name="radiusname" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_text_ids_in_range">
        <xs:annotation>
          <xs:documentation>
            Get list of text IDs in given range on a TextDB page
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="page" type="page" use="required" />
          <xs:attribute name="start" type="expression">
            <xs:annotation>
              <xs:documentation>
                Lower bound of text ID range (default is 0)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="end" type="expression">
            <xs:annotation>
              <xs:documentation>
                Upper bound of text ID range (default is no upper bound). Note that text IDs outside the signed integer range cannot be found.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="factor" type="expression">
            <xs:annotation>
              <xs:documentation>
                Factor used as a filter for found text IDs. The list will contain only text IDs that are multiples of this factor. Default is no factor.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_trade_parking_pos">
        <xs:annotation>
          <xs:documentation>
            Get trade parking position (for L and XL trade ships that cannot dock directly), optionally gets the quadrant of the ship where the traffic lanes are.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="tradedock" type="expression">
            <xs:annotation>
              <xs:documentation>
                Tradeoffer component slot (find using &lt;get_tradeoffer_locations&gt;)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="approach" type="boolean" >
            <xs:annotation>
              <xs:documentation>
                Return "approach" position (defaults to false). If false, this is the position at which masstraffic lanes snap to the tradeoffer location for optimal connection.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="space" type="expression">
            <xs:annotation>
              <xs:documentation>
                Space that the resulting position and rotation should be relative to (optional, defaults to the tradeoffercomponent)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="position" type="lvaluename" use="required" />
          <xs:attribute name="rotation" type="lvaluename" />
          <xs:attribute name="quadrant" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_ware_reservation">
        <xs:annotation>
          <xs:documentation>
            Get reserved space for ware (optionally entity specific) on an object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="container" use="required">
            <xs:annotation>
              <xs:documentation>
                The container to query for reserved amounts of the specified ware.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="type" use="required">
            <xs:annotation>
              <xs:documentation>
                Reservation type
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:string">
                <xs:enumeration value="buy">
                  <xs:annotation>
                    <xs:documentation>
                      Buy reservations only.
                    </xs:documentation>
                  </xs:annotation>
                </xs:enumeration>
                <xs:enumeration value="sell">
                  <xs:annotation>
                    <xs:documentation>
                      Sell reservations only.
                    </xs:documentation>
                  </xs:annotation>
                </xs:enumeration>
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          <xs:attribute name="entity" type="entity">
            <xs:annotation>
              <xs:documentation>
                Only count reservations for a specific entity. If 'mission' is true, the entity must be player owned and will return all player owned mission reservations (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="mission" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Whether the reservation is for a mission trade (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="virtual" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Whether to look at the "real" or the "virtual" dataset - virtual reservations are IGNORED for trades. (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="ware" type="ware" use="required" />
          <xs:attribute name="result" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                The amount that is reserved for this entity (or all entities).
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_zone_exit_pos">
        <xs:annotation>
          <xs:documentation>
            Get a safe position for leaving a zone towards a destination (destination must be in same sector!)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="destination" type="object" use="required" />
          <xs:attribute name="radius" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Radius to indicate necessary space required for a safe position
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="position" type="lvaluename" use="required" />
          <xs:attribute name="rotation" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_zone_at_position">
        <xs:annotation>
          <xs:documentation>
            Get the zone at this sector position (may return null if none exists)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="position" />
          <xs:attribute name="sector" type="sector" use="required" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="precache_hint">
        <xs:annotation>
          <xs:documentation>
            Hint an object / zone ( precaching of assets )
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object">
            <xs:annotation>
              <xs:documentation>
                Object to prehint
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="zone" type="zone">
            <xs:annotation>
              <xs:documentation>
                Zone to prehint
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="is_in_quadrant">
        <xs:annotation>
          <xs:documentation>
            Check if target object is in all specified quadrants of object, returns false if target is not detected at all
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Scanning object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The object to look for
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
          <xs:attribute name="up" type="boolean" />
          <xs:attribute name="down" type="boolean" />
          <xs:attribute name="left" type="boolean" />
          <xs:attribute name="right" type="boolean" />
          <xs:attribute name="front" type="boolean" />
          <xs:attribute name="back" type="boolean" />
        </xs:complexType>
      </xs:element>

      <xs:element name="join_formation">
        <xs:annotation>
          <xs:documentation>
            Join formation. No effect if there is no formation in the object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object joining the formation
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="leader" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Formation leader
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="launch_drone">
        <xs:annotation>
          <xs:documentation>
            Launch drone
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="group" type="unitcategorylookup" use="required" >
            <xs:annotation>
              <xs:documentation>
                Shipgroup from which the used macro will be selected
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="random"/>
          <xs:attribute name="name" type="lvaluename" />
          <xs:attribute name="groupname" type="groupname" />
        </xs:complexType>
      </xs:element>

      <xs:element name="launch_masstraffic_drone">
        <xs:annotation>
          <xs:documentation>
            Launch a ship of the specified ship group from masstraffic docks. Will attempt to avoid docks that are in use (e.g. while trading)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                The drone that was launched (if any)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The object launching the drone.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="category" type="unitcategorylookup" use="required" >
            <xs:annotation>
              <xs:documentation>
                Unit category from which the used macro will be selected
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression">
            <xs:annotation>
              <xs:documentation>
                The target which is to be picked up by the drone (optional, used to determine ideal launch direction)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="ware" type="expression">
            <xs:annotation>
              <xs:documentation>
                Ware to be transported, used to find best matching macro from shipgroup (optional, ignored if pickup=true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="pickup" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Is this a pickup run? If true, an empty transport ship will be launched (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="launch_war_drones">
        <xs:annotation>
          <xs:documentation>
            Launch war drones. This uses mass traffic, so both objects need to be stationary for the whole duration.
            Ensure that you kill the resulting mass traffic network when you're done with it, and wait until it's finished before moving away.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="result" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                The newly created mass traffic network.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The object launching the drones.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The target which is to be attacked by drones. Must have a nav mesh.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                The amount of drones to be launched. If undefined, all available units will be used.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="launch_repair_drones">
        <xs:annotation>
          <xs:documentation>
            Launch repair drones. This uses mass traffic, so both objects need to be stationary for the whole duration.
            Ensure that you kill the resulting mass traffic network when you're done with it, and wait until it's finished before moving away.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="result" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                The ID of the newly created mass traffic network - IMPORTANT: this will become invalid if a savegame is loaded
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The object launching the drones.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The target which is to be repaired by welder drones. Must have a nav mesh.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="components" type="list" use="required">
            <xs:annotation>
              <xs:documentation>
                List of components that need to be repaired
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                The amount of drones to be launched. If undefined, all available units will be used.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="leave_formation">
        <xs:annotation>
          <xs:documentation>
            Leave formation as a formation WingMan. No effect if the object is not a formation WingMan
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="open_conversation_menu">
        <xs:annotation>
          <xs:documentation>
            Open a menu as part of a conversation, which will be suspended until the menu is closed
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="menu" type="namestring" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of menu to be opened as part of the conversation
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="param" type="expression">
            <xs:annotation>
              <xs:documentation>
                First menu parameter
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="param2" type="expression">
            <xs:annotation>
              <xs:documentation>
                Second menu parameter
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="interactive" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Determines if the Menu will be interactive (default = true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="open_options_menu">
        <xs:annotation>
          <xs:documentation>
            Open the options menu
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="param" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Optional parameter ("save", "load", "quit")
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="open_dockingbay_doors">
        <xs:annotation>
          <xs:documentation>
            Open docking bay doors
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="dock" type="expression">
            <xs:annotation>
              <xs:documentation>
                Docking bay component slot (find using &lt;find_dock_location&gt;)
                Only dock or dronedock can be used, if both are specified, dock will be used!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="dronedock" type="expression">
            <xs:annotation>
              <xs:documentation>
                DroneLaunchPad component
                Only dock or dronedock can be used, if both are specified, dock will be used!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="pickup_target">
        <xs:annotation>
          <xs:documentation>
            Pick up a target object (connect it to the ship)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="ship" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Ship to which the picked up object will be connected
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="targetobject" use="required" />
          <xs:attribute name="prepare" type="boolean" >
            <xs:annotation>
              <xs:documentation>
                Prepare the pickup process, this makes sure the target stops rotating and is properly aligned for pickup (optional, defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="sort_collectables_by_value">
        <xs:annotation>
          <xs:documentation>
            Sort a list of collectables by price value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Collecting object, used to filter out collectables which can't be stored
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="collectables" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                List of collectables
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvalueexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Result list of sorted collectables
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="play_cutscene">
        <xs:annotation>
          <xs:documentation>
            Start playing a cutscene
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="interaction" minOccurs="0" maxOccurs="1">
              <xs:annotation>
                <xs:documentation>
                  Player interaction event
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attributeGroup ref="interaction" />
              </xs:complexType>
            </xs:element>
            <xs:element name="param" minOccurs="0" maxOccurs="unbounded">
              <xs:annotation>
                <xs:documentation>
                  Object referenced by the cutscene
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute name="name" type="namestring" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Parameter name
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="object" type="object" use="required" />
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="key" type="cutscenekey" use="required" />
          <xs:attribute name="eventmonitor" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Show cutscene in event monitor?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sound" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Sound ID name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="queued" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Should the event-monitor cutscene display be queued and delayed if necessary? (Defaults to false if not supplied) Requires eventmonitor=&quot;true&quot;.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="caption" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional caption text string. Requires eventmonitor=&quot;true&quot;.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="timeout" type="expression">
            <xs:annotation>
              <xs:documentation>
                Maximal duration of event-monitor cutscene. If supplied, the cutscene will end after the timeout. Requires eventmonitor=&quot;true&quot;.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="rendertarget" type="expression">
            <xs:annotation>
              <xs:documentation>
                Name of render target on which the cutscene should be played (ignored for event monitor cutscenes)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                Name of the value that will receive the cutscene ID as result. This can be used as cutscene argument in &lt;stop_cutscene&gt;. If &lt;play_cutscene&gt; fails the result may be null in some cases.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="raise_lua_event">
        <xs:annotation>
          <xs:documentation>
            Raise an event to a registered callback in a lua script.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="name" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of the event
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="param" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter. Has to be a string, number or component.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_actor_account">
        <xs:annotation>
          <xs:documentation>
            Removes an account from the actor if any, so the actor will use the faction's account instead. Optionally the remaining money can be transferred to the faction account.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="transfer" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Transfer remaining money to faction account? Defaults to false.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_actor_from_room">
        <xs:annotation>
          <xs:documentation>
            Remove NPC actor from the room it is in (e.g. landing platform)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_from_group">
        <xs:annotation>
          <xs:documentation>
            Remove an object from a group
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="group" type="group" use="required" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_from_player_squad">
        <xs:annotation>
          <xs:documentation>
            Remove a controllable object from the player squad
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_object_commander">
        <xs:annotation>
          <xs:documentation>
            Remove the commander of an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_representative">
        <xs:annotation>
          <xs:documentation>
            Remove faction representative
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="sector" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Sector for which the representative entity is responsible
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="type" type="entitytypeexprlookup" />
          <xs:attribute name="faction" type="faction" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_value">
        <xs:annotation>
          <xs:documentation>
            Remove a variable
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_weapon">
        <xs:annotation>
          <xs:documentation>
            Remove weapon
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="check_weapon_active">
        <xs:annotation>
          <xs:documentation>
            Check whether the weapon is currently active
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="check_weapon_installed">
        <xs:annotation>
          <xs:documentation>
            Check whether the weapon is installed/available
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="slot" type="controlslottag" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="request_docking">
        <xs:annotation>
          <xs:documentation>
            Request docking procedure for ship, opens bay doors on success, result is boolean (optional: queue request to reserve a slot early)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="dock" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Docking bay component slot (find using &lt;find_dock_location&gt;)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="queued" type="boolean" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_mass_traffic_quota">
        <xs:annotation>
          <xs:documentation>
            Add a quota to a zone's main mass traffic network. Must supply either a macro or ship group. If no end time is supplied you need to store it and stop the quota when you no longer need it.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="quota" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                The ID of the created quota
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="start" type="expression">
            <xs:annotation>
              <xs:documentation>
                The station where the mass traffic ships should start
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="end" type="expression">
            <xs:annotation>
              <xs:documentation>
                The station where the mass traffic ships should end
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="starttime" type="expression">
            <xs:annotation>
              <xs:documentation>
                The time the quota should start (defaults to now if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="endtime" type="expression">
            <xs:annotation>
              <xs:documentation>
                The time the quota should end (defaults to never if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="group" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Ship group for random macro selection
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_mass_traffic_quota">
        <xs:annotation>
          <xs:documentation>
            Make a mass traffic quota stop
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="quota" type="expression" use="required" />
          <xs:attribute name="endtime" type="expression">
            <xs:annotation>
              <xs:documentation>
                The time the quota should end at the earliest (defaults to now if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_macros_in_mass_traffic">
        <xs:annotation>
          <xs:documentation>
            Get all macros currently active in a zone's main mass traffic network
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="macros" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                The list of macros in the network
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amounts" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                The amount of ships with each macro in the network
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_units_in_mass_traffic">
        <xs:annotation>
          <xs:documentation>
            Get all units of a category currently active in a mass traffic network
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="masstraffic" type="masstraffic" use="required" />
          <xs:attribute name="category" type="unitcategorylookup" use="required">
            <xs:annotation>
              <xs:documentation>
                The category of units to get
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amounts" type="lvaluename" use="required">
            <xs:annotation>
              <xs:documentation>
                (A list with the index being the 'mk' of the unit)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="request_mass_traffic_ship">
        <xs:annotation>
          <xs:documentation>
            Request a ship to be spawned in a zone's mass traffic network
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="start" type="expression">
            <xs:annotation>
              <xs:documentation>
                The station where the mass traffic ship should start
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="end" type="expression">
            <xs:annotation>
              <xs:documentation>
                The station where the mass traffic ship should end
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="mintime" type="expression">
            <xs:annotation>
              <xs:documentation>
                Minimum flight time
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="group" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Ship group for random macro selection (taken from zone's master quota if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="request_undocking">
        <xs:annotation>
          <xs:documentation>
            Request undocking procedure for ship, result is boolean (optional: queue request to reserve departure path)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
          <xs:attribute name="queued" type="boolean" />
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="request_boarding_support">
        <xs:annotation>
          <xs:documentation>
            Request boarding support by the player (triggers an MD cue to select a mission)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="boarder" type="entity" use="required" />
          <xs:attribute name="boarded" type="object" use="required" />
          <xs:attribute name="forcedmission" type="expression">
            <xs:annotation>
              <xs:documentation>
                Forced mission type, prevents random selection (see md/BoardingSupport.xml)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="request_gate">
        <xs:annotation>
          <xs:documentation>
            Request from a ship to lock the Gate for going through (Use 'unlock' true to unlock)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" >
            <xs:annotation>
              <xs:documentation>
                Ship requesting the Gate
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="gate" type="object" use="required">
            <xs:annotation>
              <xs:documentation>
                Gate to lock (or unlock if 'unlock' = true) for the ship
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="unlock" type="expression" >
            <xs:annotation>
              <xs:documentation>
                Unlock the Gate for this ship. Safe to call if not requested befor (Optional, Default: false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" >
            <xs:annotation>
              <xs:documentation>
                Whether or not the Gate request is successful
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="notify_boarding_support_failed">
        <xs:annotation>
          <xs:documentation>
            Notify the boarder that boarding support by the player failed
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="boarder" type="entity" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="notify_boarding_support_succeeded">
        <xs:annotation>
          <xs:documentation>
            Notify the boarder that boarding support by the player was successful
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="boarder" type="entity" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="request_repair">
        <xs:annotation>
          <xs:documentation>
            Request a component to be repaired (only listened to from scripts)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The component to be repaired
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="makepriority" type="boolean" use="required">
            <xs:annotation>
              <xs:documentation>
                Whether repairing another component should wait and this one should start immediately
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="reset_relation_boost">
        <xs:annotation>
          <xs:documentation>
            Reset relation boost (otherobject or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="resetobjectboost" />
        </xs:complexType>
      </xs:element>

      <xs:element name="reset_tolerance_boost">
        <xs:annotation>
          <xs:documentation>
            Reset tolerance boost (otherobject or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="resetobjectboost" />
        </xs:complexType>
      </xs:element>

      <xs:element name="reset_turret">
        <xs:annotation>
          <xs:documentation>
            Reset turret
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="turret" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Turret
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="resize_list">
        <xs:annotation>
          <xs:documentation>
            Resize a list (if the list grows, it will contain new null values at the end)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="list" type="list" use="required" />
          <xs:attribute name="count" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                New number of elements
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="reward_player">
        <xs:annotation>
          <xs:documentation>
            Reward the player
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <!-- TODO: Remove the "required" if there are alternative reward types -->
          <xs:attribute name="money" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Money reward
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="save_ai_action_state">
        <xs:annotation>
          <xs:documentation>
            Save the state of the current AI script blocking action on the blackboard of an entity that is going to take over control when restarting a script (can be the same entity).
            The AI script actions &lt;wait_for_prev_script&gt; and &lt;finalize_prev_script&gt; will process the information to make sure that the current AI action (e.g. trade) ends in a clean way.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="entity" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Entity that will receive the AI action state information. To be used when a new script is supposed to start on the entity, aborting the previous entity's script.
                The new script should perform &lt;wait_for_prev_script&gt; and &lt;finalize_prev_script&gt;.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="previous" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Entity from which the AI action state information is retrieved, basically immediately before the entity's script is aborted.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_actor_account">
        <xs:annotation>
          <xs:documentation>
            Assigns an account to the actor if the actor does not have an own account yet.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="share_actor_account">
        <xs:annotation>
          <xs:documentation>
            Tells this actor to use the account of otherobject. Optionally can transfer the money in the account to the entity supplied as transferto (may be the same as otherobject).
            If otherobject and transferto are invalid / omitted this behaves like &lt;remove_actor_account /&gt;
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="otherobject" type="actor">
            <xs:annotation>
              <xs:documentation>
                (optional) The entity whose account to share, will default to faction account of transferto entity if omitted!
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="transferto" type="actor">
            <xs:annotation>
              <xs:documentation>
                (optional) The entity to which any money in the actors account should be transferred. (money will be lost if omitted)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_actor_max_budget">
        <xs:annotation>
          <xs:documentation>
            Assigns a max budget to an actor
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="amount" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount max budget is set to
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_actor_min_budget">
        <xs:annotation>
          <xs:documentation>
            Assigns a min budget
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="amount" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount min budget is set to
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="start_actor_transport">
        <xs:annotation>
          <xs:documentation>
            Sends an actor to the target (if any, otherwise the actor will be killed in a save distance)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="target" type="expression" use="optional" />
        </xs:complexType>
      </xs:element>

      <xs:element name="transfer_money">
        <xs:annotation>
          <xs:documentation>
            Transfers amount from one entity to another, if possible
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="from" type="entity" use="required" />
          <xs:attribute name="to" type="entity" use="required" />
          <xs:attribute name="amount" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Amount to be transferred
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                Actually transferred amount
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_buildanchor">
        <xs:annotation>
          <xs:documentation>
            Set a buildanchor to the specified buildmodule
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build anchor to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_cockpit_tint">
        <xs:annotation>
          <xs:documentation>
            Sets the cockpit boarder tint for use in certain activities
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="rgbcolour" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_comm_handler">
        <xs:annotation>
          <xs:documentation>
            Informs an actor of whether there it has a custom handler for player-initiated comm.
            If so, this suppresses the generic &lt;event_conversation_started&gt; handler to avoid interference.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="customhandler" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Is there a custom comm handler for the supplied actor?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_active">
        <xs:annotation>
          <xs:documentation>
            Set the object to activated or deactivated
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="activate" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Activate object? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_capturable">
        <xs:annotation>
          <xs:documentation>
            Set the object to be capturable or not
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="capturable" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Is the object capturable? (default is based on class)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_boarder">
        <xs:annotation>
          <xs:documentation>
            Set the boarder of the object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required">
            <xs:annotation>
              <xs:documentation>
                The object to be boarded
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="boarder" type="object" use="required">
            <xs:annotation>
              <xs:documentation>
                The object performing the boarding operation
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_object_boarder">
        <xs:annotation>
          <xs:documentation>
            Remove the association between the object and its boarder
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required"/>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_radar_visible">
        <xs:annotation>
          <xs:documentation>
            Set the object to be visible in the map or in the UI or not
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="visible" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Is the object visible? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_sellable">
        <xs:annotation>
          <xs:documentation>
            Set the object to be sellable
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="sellable" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Is the object sellable? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_commander">
        <xs:annotation>
          <xs:documentation>
            Set the commander of an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="commander" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object to be the commander
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="type" type="entitytypeexprlookup" use="optional">
            <xs:annotation>
              <xs:documentation>
                Type of entity responsible on the commander (defaults to control entity)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_drone">
        <xs:annotation>
          <xs:documentation>
            Add a Drone to a Ship and set the Ship as the Drone Commander
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="drone" type="object" />
          <xs:attribute name="macro" type="macro" />
          <xs:attribute name="ship" type="object" use="required" />
          <xs:attribute name="dock" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Attempt to dock the Drone to the Ship (if true, drone will be destroyed if it can't dock)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="name" type="lvaluename" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_min_hull">
        <xs:annotation>
          <xs:documentation>
            Set an objects minimum hull value (percentage)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_min_shield">
        <xs:annotation>
          <xs:documentation>
            Set an objects minimum shield value (percentage)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_hull">
        <xs:annotation>
          <xs:documentation>
            Set an objects hull value (percentage)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_name">
        <xs:annotation>
          <xs:documentation>
            Set an objects name
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="name" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                New object name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_relation_behaviour">
        <xs:annotation>
          <xs:documentation>
            Set relation change behaviour for an object when attacked or killed
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="disable" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Disable relation change? (true = disabled; false = default behaviour)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_shield">
        <xs:annotation>
          <xs:documentation>
            Set an objects shield value (percentage)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_max_hull">
        <xs:annotation>
          <xs:documentation>
            Set an objects maximum hull value (percentage)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="clear_remote_transport_target">
        <xs:annotation>
          <xs:documentation>
            Clears the current remote transport target.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The drone to clear the remote transport target for (MUST be of class Drone)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_remote_transport_target">
        <xs:annotation>
          <xs:documentation>
            Set the target object for a remote transport drone. When the drone collides with this target, it will signal the drone with param 'remote_transport_arrived'. See also disable_collision_response.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The drone to set the remote transport target for (MUST be of class Drone)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="register_player_remote_transport">
        <xs:annotation>
          <xs:documentation>
            Notify the player object that this drone is coming to deliver items or an NPC.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The drone to register for delivery to the player (MUST be of class Drone)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="unregister_player_remote_transport">
        <xs:annotation>
          <xs:documentation>
            Notify the player object that this drone is no longer coming to deliver items or an NPC.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The drone to unregister (MUST be of class Drone)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_num_incoming_remote_transport_items">
        <xs:annotation>
          <xs:documentation>
            Retrieve the number of remote transport items being delivered to the player.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="type" type="remotetransportlookup" use="required">
            <xs:annotation>
              <xs:documentation>
                Remote transport inventory type
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_summarised_adsign_state">
        <xs:annotation>
          <xs:documentation>
            Set adsign summaries to a certain state (amount defined may not match the actual amount of adsigns affected)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="state" type="componentstatelookup" use="required"/>
          <xs:attribute name="parentstate" type="componentstatelookup" />
          <xs:attribute name="previous" type="componentstatelookup" />
          <xs:attribute name="macro" type="macro" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_summarised_efficiencyupgrade_state">
        <xs:annotation>
          <xs:documentation>
            Set efficiencyupgrade summaries to a certain state (amount defined may not match the actual amount of efficiencyupgrades affected)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="state" type="componentstatelookup" use="required"/>
          <xs:attribute name="parentstate" type="componentstatelookup" />
          <xs:attribute name="previous" type="componentstatelookup" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_summarised_shield_state">
        <xs:annotation>
          <xs:documentation>
            Set shield summaries to a certain state (amount defined may not match the actual amount of shields affected)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="state" type="componentstatelookup" use="required"/>
          <xs:attribute name="parentstate" type="componentstatelookup" />
          <xs:attribute name="previous" type="componentstatelookup" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_summarised_surfacedestructible_state">
        <xs:annotation>
          <xs:documentation>
            Set shield surfacedestructible to a certain state (amount defined may not match the actual amount of surfacedestructibles affected)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="state" type="componentstatelookup" use="required"/>
          <xs:attribute name="parentstate" type="componentstatelookup" />
          <xs:attribute name="previous" type="componentstatelookup" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_summarised_turret_state">
        <xs:annotation>
          <xs:documentation>
            Set shield turret to a certain state (amount defined may not match the actual amount of turrets affected)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object which contains the summary data
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="state" type="componentstatelookup" use="required"/>
          <xs:attribute name="parentstate" type="componentstatelookup" />
          <xs:attribute name="previous" type="componentstatelookup" />
          <xs:attributeGroup ref="random" />
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_scanned">
        <xs:annotation>
          <xs:documentation>
            Sets the scanned level of an object to the maximum level of the scanner
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="scanner" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The scanner to get the level from (also required for events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sequence" type="expression">
            <xs:annotation>
              <xs:documentation>
                The build sequence on the object that was scanned
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stage" type="expression">
            <xs:annotation>
              <xs:documentation>
                The build stage on the object that was scanned
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_object_hacked">
        <xs:annotation>
          <xs:documentation>
            Sets an object as hacked
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required">
            <xs:annotation>
              <xs:documentation>
                If this is a ship or station, all content in the given build stage is set as hacked. If this is a subcomponent, it and *all* content is set as hacked.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="duration" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Duration of the hack
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sequence" type="expression">
            <xs:annotation>
              <xs:documentation>
                The build sequence on the object that was hacked (ignored if the object is a subcomponent)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stage" type="expression">
            <xs:annotation>
              <xs:documentation>
                The build stage on the object that was hacked (ignored if the object is a subcomponent)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="hacker" type="object">
            <xs:annotation>
              <xs:documentation>
                The object performing the hacking
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                Name of the value that will receive the list of hacked components
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="dropresult" type="lvalueexpression">
            <xs:annotation>
              <xs:documentation>
                Name of the value that will receive the list of ejected drops
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="hack_via_control_panel">
        <xs:annotation>
          <xs:documentation>
            Hack an object via a control panel type
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="hacker" type="entity" use="optional">
            <xs:annotation>
              <xs:documentation>
                The hacking entity (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="type" type="controlpaneltypelookup" use="required"/>
          <xs:attribute name="score" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Hacking score (0-5)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_room_locked">
        <xs:annotation>
          <xs:documentation>
            Set the room to be locked or not
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="room" type="object" use="required" />
          <xs:attribute name="locked" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Is the room locked? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_all_doors_locked">
        <xs:annotation>
          <xs:documentation>
            Set all doors in the room to be locked or not
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="room" type="object" use="required" />
          <xs:attribute name="locked" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Are the doors locked? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_allow_drop">
        <xs:annotation>
          <xs:documentation>
            Whether the object (which can be any destructible subcomponent of an object!) can drop something
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="allow" type="boolean" use="required" />
          <xs:attribute name="recursive" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Whether this setting should be propagated to all child destructibles
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_drop_object">
        <xs:annotation>
          <xs:documentation>
            Sets the drop for the object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="drop" type="expression">
            <xs:annotation>
              <xs:documentation>
                Drop string identifier (drop is cleared if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="spawn_drop">
        <xs:annotation>
          <xs:documentation>
            Spawn the drop defined for the object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="drop" type="expression">
            <xs:annotation>
              <xs:documentation>
                Drop string identifier (will drop whatever is currently defined in the object if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="collect_drop">
        <xs:annotation>
          <xs:documentation>
            Have a drop be instantly collected by an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="drop" type="object" use="required"/>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_entity_type">
        <xs:annotation>
          <xs:documentation>
            Sets/changes the type of an actor (entity)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="type" type="entitytypeexprlookup" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_faction_relation">
        <xs:annotation>
          <xs:documentation>
            Set global faction relation
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="faction" type="faction" use="required" />
          <xs:attribute name="otherfaction" type="faction" use="required" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Relation boost value
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="reset_faction_relation">
        <xs:annotation>
          <xs:documentation>
            Reset faction relation to base value in factions.xml
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="faction" type="faction" use="required" />
          <xs:attribute name="otherfaction" type="faction" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_faction_relation_locked">
        <xs:annotation>
          <xs:documentation>
            Set faction relations to be locked
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="faction" type="faction" use="required" />
          <xs:attribute name="locked" type="booleanexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Should the factions relations towards others not change
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_mass_traffic_object_persistence">
        <xs:annotation>
          <xs:documentation>
            Set this mass traffic objects persistance in the game
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="persistent" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Should object be persistent? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_region_object_persistence">
        <xs:annotation>
          <xs:documentation>
            Set this region objects persistance in the game
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="persistent" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Should object be persistent? (default is true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="end_mass_traffic">
        <xs:annotation>
          <xs:documentation>
            Set this mass traffic network's end time. Note that the time will be adjusted so that no ships are underway when the network is removed.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="network" type="masstraffic" use="required" />
          <xs:attribute name="endtime" type="expression">
            <xs:annotation>
              <xs:documentation>
                The end time (default is the current time)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_order_moveto">
        <xs:annotation>
          <xs:documentation>
            Order a ship to move to a destination
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
            <xs:element name="lookat" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="destination" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Destination object or space
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="nojump" type="boolean">
            <xs:annotation>
              <xs:documentation>
                (optional) set to disallow the use of jump or boost drive
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_order_pickup_target">
        <xs:annotation>
          <xs:documentation>
            Order a ship to pick up a target object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="targetobject" use="required" />
          <xs:attribute name="homebase" type="expression">
            <xs:annotation>
              <xs:documentation>
                Container to return to after picking up (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_owner">
        <xs:annotation>
          <xs:documentation>
            Sets the owner faction of an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="faction" type="owner" use="required">
            <xs:annotation>
              <xs:documentation>
                (No owner is set if null or not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="overridenpc" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Set the owner faction of the control entities (defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_cover_owner">
        <xs:annotation>
          <xs:documentation>
            Sets the cover owner faction of an object (cover owner is cleared if faction is null or not supplied)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="faction" type="owner"/>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_player_activity">
        <xs:annotation>
          <xs:documentation>
            Set player activity (mode mission)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="activity" type="activityexprlookup" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_player_entity_position">
        <xs:annotation>
          <xs:documentation>
            Set player position in room
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:choice minOccurs="0" maxOccurs="unbounded">
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
          </xs:choice>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_relation_boost">
        <xs:annotation>
          <xs:documentation>
            Set relation boost (otherobject or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="objectrelationboost" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Relation boost value
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_representative">
        <xs:annotation>
          <xs:documentation>
            Set faction representative
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="sector" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Sector for which the representative entity is responsible
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="type" type="entitytypeexprlookup" />
          <xs:attribute name="faction" type="faction" />
          <xs:attribute name="representative" type="expression">
            <xs:annotation>
              <xs:documentation>
                Entity to be assigned to the sector as faction representative
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_hack_target">
        <xs:annotation>
          <xs:documentation>
            Set the objects current hack target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_scan_target">
        <xs:annotation>
          <xs:documentation>
            Set the objects current scan target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_skill">
        <xs:annotation>
          <xs:documentation>
            Set entity skill value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="type" type="skilltypeexprlookup" use="required" />
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_skills_visible">
        <xs:annotation>
          <xs:documentation>
            Set entity skills to visible or invisible. Skills are hidden unless explicitly made visible.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="entity" type="entity" use="required" />
          <xs:attribute name="visible" type="boolean">
            <xs:annotation>
              <xs:documentation>
                true to make the entity skills visible, false to hide them. Default is true.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_tolerance_boost">
        <xs:annotation>
          <xs:documentation>
            Set tolerance boost (otherobject or faction attribute required)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="objectboost" />
          <xs:attribute name="value" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Tolerance boost value
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_allowed_weapon_systems">
        <xs:annotation>
          <xs:documentation>
            Set allowed weapon systems (weapon system not listed will keep current state)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="allow">
            <xs:annotation>
              <xs:documentation>
                Specifically allow the use of certain weapon types (separated by space)
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:list itemType="weaponsystemlookup" />
            </xs:simpleType>
          </xs:attribute>
          <xs:attribute name="disallow">
            <xs:annotation>
              <xs:documentation>
                Specifically disallow the use of certain weapon types (separated by space)
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:list itemType="weaponsystemlookup" />
            </xs:simpleType>
          </xs:attribute>
          <xs:attribute name="immediate" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Optional, set to true to make disallowed weapon systems stop firing immediately (defaults to false, weapons will shoot until they lose their current target)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_trade_restrictions">
        <xs:annotation>
          <xs:documentation>
            Set trade restrictions for the object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="override" minOccurs="0" maxOccurs="unbounded">
              <xs:annotation>
                <xs:documentation>
                  Define an override for the trade restrictions per ware
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute name="ware" type="ware" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Affected ware
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="restricted" type="expression" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Restriction for this ware
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="comment" type="comment" />
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Object for which the restrictions will be set.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="restricted" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Global restriction to only trade with the own faction
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_trade_known">
        <xs:annotation>
          <xs:documentation>
            Set a trade to be known by the player
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="trade" type="expression" use="required" />
          <xs:attribute name="duration" type="expression">
            <xs:annotation>
              <xs:documentation>
                Duration of time that the trade will remain in the player memory. Defaults to the standard memory duration of 18000 seconds
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_turret_targets">
        <xs:annotation>
          <xs:documentation>
            Set turret targets
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="preferredtarget" type="expression">
            <xs:annotation>
              <xs:documentation>
                Priority target for each turret. If it can't attack, it will choose from the target list
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="clearpreferred" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                If preferredtarget is not provided, clear the existing preferred target (defaults to true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression">
            <xs:annotation>
              <xs:documentation>
                List of target objects for turrets
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stopshootingold" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Stop shooting old targets which are not provided in the new target list (defaults to true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="weapontype" type="weapontypelookup">
            <xs:annotation>
              <xs:documentation>
                Turret types to use for shooting at the target(s), defaults to combat.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_value">
        <xs:annotation>
          <xs:documentation>
            Set a variable value
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="operation" type="setoperationlookup" />
          <xs:attributeGroup ref="random"/>
        </xs:complexType>
      </xs:element>

      <xs:element name="setup_conversation_minigame">
        <xs:annotation>
          <xs:documentation>
            Set up parameters for a conversation mini-game. It will be started when the player selects an option with a positive default confidence.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="count" type="expression">
            <xs:annotation>
              <xs:documentation>
                Number of repetitions of the mini-game with the same parameters (default is 1)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="difficulty" type="expression">
            <xs:annotation>
              <xs:documentation>
                Mini-game difficulty level (1-5), which influences the choice of mini-game curve (default is 1)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="text" type="expression">
            <xs:annotation>
              <xs:documentation>
                Mini-game caption text (default is no text)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="passes" type="expression">
            <xs:annotation>
              <xs:documentation>
                Number of passes over the curve, i.e. number of tries (default is 1)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="speed" type="expression">
            <xs:annotation>
              <xs:documentation>
                Cursor speed in passes per second (default is 1.0)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="scale" type="expression">
            <xs:annotation>
              <xs:documentation>
                Curve scale, not implemented, do not use (default is 1.0)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="show_help">
        <xs:annotation>
          <xs:documentation>
            Show text from help text page if it was not shown before (when using line attribute), or show custom text (when using custom attribute)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="line" type="expression">
            <xs:annotation>
              <xs:documentation>
                Line (text ID) on help text page. Text will be shown if not shown before, or if force attribute value is true
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="force" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Always show help text? If true, the help is shown even if the help text ID was already used before (ignored when using custom attribute)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="custom" type="expression">
            <xs:annotation>
              <xs:documentation>
                Custom help text, takes precedence over line attribute
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="silent" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Suppress sound effect?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="showhelp" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_help">
        <xs:annotation>
          <xs:documentation>
            Remove display of a help text
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="all" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Set to true to remove all help texts from display queue. Takes precedence over line attribute.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="line" type="expression">
            <xs:annotation>
              <xs:documentation>
                Specific line (text ID) to be removed from display queue (removing custom texts specifically is not supported). If attribute is not supplied, the currently displayed hint is removed.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="show_input_help">
        <xs:annotation>
          <xs:documentation>
            Show help text for input function (e.g. INPUT_ACTION_QUICKSAVE or INPUT_STATE_ROLL_LEFT). Keyboard/controller use is detected automatically.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="expression">
            <xs:annotation>
              <xs:documentation>
                Input function name (see inputmap.xml)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="showhelp" />
        </xs:complexType>
      </xs:element>

      <xs:element name="show_notification">
        <xs:annotation>
          <xs:documentation>
            Show a player notification in the event monitor
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="interaction" minOccurs="0" maxOccurs="1">
              <xs:annotation>
                <xs:documentation>
                  Player interaction event
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attributeGroup ref="interaction" />
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="caption" type="expression">
            <xs:annotation>
              <xs:documentation>
                Caption text string
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="details" type="expression">
            <xs:annotation>
              <xs:documentation>
                Notification detail text or table.
                Either a single string, or a list of strings for multi-line details, or a list of row definitions for the tabular layout.
                A table row is [ icon, text1, text2, text3, text4, text5 ], null values are allowed.
                A valid text cell is either null, a string or [ string, r, g, b ], r/g/b being color values between 0 and 255.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="timeout" type="expression">
            <xs:annotation>
              <xs:documentation>
                Maximal duration of notification. If not supplied, the notification will end after a default timeout (currently 5s).
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="expression">
            <xs:annotation>
              <xs:documentation>
                The faction for which the notoriety ladder should be displayed (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                The object for which the notoriety ladder should be displayed (optional). Takes precedence if both faction and object are supplied.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="relationeffect" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                true iff a relation effect (blinking effect in faction bar) should be shown
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="priority" type="expression">
            <xs:annotation>
              <xs:documentation>
                The priority, an integer between 0 and 9 (default is 1).
                Unqueued notifications can only be aborted and replaced by unqueued notifications of same or higher priority, or by cutscenes. The queue for queued notifications is also sorted by priority.
                NOTE: Non-silent interactive events (notifications and cutscenes with flashing event monitor) are generally treated as having a higher priority than any non-interactive events.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="icon" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Icon ID name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sound" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Sound ID name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="queued" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Should the notification display be queued and delayed if necessary? (Defaults to false if not supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename">
            <xs:annotation>
              <xs:documentation>
                (optional) ID of resulting notification object
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="signal_objects">
        <xs:annotation>
          <xs:documentation>
            Signal an object and/or a group of objects using param and param2, each object will receive this signal as if it were an event
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="param" type="expression" />
          <xs:attribute name="param2" type="expression" />
          <xs:attribute name="param3" type="expression" />
          <xs:attribute name="delay" type="expression">
            <xs:annotation>
              <xs:documentation>
                (optional) delay this signal by the specified amount of time
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="schedule_supply_update">
        <xs:annotation>
          <xs:documentation>
            Schedule when the supplied object(s) should next update supply orders for drones and missiles (only fully implemented for stations)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="objecteventsource" />
          <xs:attribute name="delay" type="expression">
            <xs:annotation>
              <xs:documentation>
                (optional) if omitted, the update will be triggered immediately
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="speak">
        <xs:annotation>
          <xs:documentation>
            Play (speak) text
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:group ref="voicedata" minOccurs="0" maxOccurs="unbounded" />
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="page" type="pagewithdefault" />
          <xs:attribute name="line" type="line" />
          <xs:attribute name="priority" type="expression">
            <xs:annotation>
              <xs:documentation>
                Speech priority. Speeches of lower priority will be interrupted. Default is 0.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="caninterrupt" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Allow interrupting a speech of the same priority? Default is true.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="check" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Check for errors resolving an object name or description? Default is true
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="start_boost">
        <xs:annotation>
          <xs:documentation>
            Start engine booster
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="start_conversation">
        <xs:annotation>
          <xs:documentation>
            Start a conversation on this actor
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="actor" use="required" />
          <xs:attribute name="conversation" type="conversation" use="required" />
          <xs:attribute name="convparam" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional parameter that is passed to &lt;event_conversation_started&gt;. Can be of any data type.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="type">
            <xs:annotation>
              <xs:documentation>
                Type that affects how the conversation is started
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:string">
                <xs:enumeration value="normal">
                  <xs:annotation>
                    <xs:documentation>
                      Default conversation type
                    </xs:documentation>
                  </xs:annotation>
                </xs:enumeration>
                <xs:enumeration value="unqueued">
                  <xs:annotation>
                    <xs:documentation>
                      Unqueued conversation (start conversation only if there is no conversation already running)
                    </xs:documentation>
                  </xs:annotation>
                </xs:enumeration>
                <xs:enumeration value="takeover">
                  <xs:annotation>
                    <xs:documentation>
                      Take over a previous conversation. When using this type, the player does not automatically return to the default position when the previous conversation ends.
                    </xs:documentation>
                  </xs:annotation>
                </xs:enumeration>
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          <xs:attribute name="priority">
            <xs:annotation>
              <xs:documentation>
                Priority of conversation for the case of multiple simultaneous requests (min=0, max=100, default=0)
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:nonNegativeInteger">
                <xs:minInclusive value="0" />
                <xs:maxInclusive value="100" />
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="cancel_conversation">
        <xs:annotation>
          <xs:documentation>
            Cancel an active conversation
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="actor" type="expression">
            <xs:annotation>
              <xs:documentation>
                Optional actor object. If supplied then the conversation is only aborted if the actor matches.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="conversation" type="namestring">
            <xs:annotation>
              <xs:documentation>
                Optional conversation name. If supplied then the conversation is only aborted if the conversation name matches.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="force" type="boolean">
            <xs:annotation>
              <xs:documentation>
                Should conversation be aborted even if Escape was explicitly disabled via &lt;allow_conversation_escape&gt;?
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="start_long_range_scan">
        <xs:annotation>
          <xs:documentation>
            Starts a long range scan for the object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_long_range_scan">
        <xs:annotation>
          <xs:documentation>
            Stops a long range scan for the object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="start_script">
        <xs:annotation>
          <xs:documentation>
            Start an AI script, aborting previously running scripts
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="param" minOccurs="0" maxOccurs="unbounded">
              <xs:annotation>
                <xs:documentation>
                  AI script parameter
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute name="name" type="paramname" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Parameter name
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="value" type="expression" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Parameter value
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="comment" type="comment" />
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="name" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Script name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
        <xs:key name="start_script_param_name">
          <xs:selector xpath="param" />
          <xs:field xpath="@name" />
        </xs:key>
      </xs:element>

      <xs:element name="stop_boost">
        <xs:annotation>
          <xs:documentation>
            Stop engine booster
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_cutscene">
        <xs:annotation>
          <xs:documentation>
            Stop a running cutscene
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="key" type="expression">
            <xs:annotation>
              <xs:documentation>
                Key name of the cutscene to be aborted (ignored if cutscene attribute is supplied)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="cutscene" type="expression">
            <xs:annotation>
              <xs:documentation>
                Cutscene identifier as returned by &lt;play_cutscene&gt; (takes precedence over key attribute)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_firing_at_target">
        <xs:annotation>
          <xs:documentation>
            Stop firing at a specific target
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="target" type="object" use="required"/>
          <xs:attribute name="weapontype" type="weapontypelookup">
            <xs:annotation>
              <xs:documentation>
                Turret types to use for shooting at the target(s), defaults to all.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="substitute_text">
        <xs:annotation>
          <xs:documentation>
            Search in a text for sub-strings and substitutes them
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="replace" minOccurs="1" maxOccurs="unbounded">
              <xs:annotation>
                <xs:documentation>
                  Definition of a sub-string in the text and a replacement string. All occurrences of the sub-string will be replaced.
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute name="string" type="expression" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Sub-string which is expected to occur in the text
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="with" type="expression" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      New text which will replace the occurrences of the sub-string
                    </xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="comment" type="comment" />
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="text" type="lvalueexpression" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of the value that will receive the result text. If source is not supplied then this value is also used as text source.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="source" type="expression">
            <xs:annotation>
              <xs:documentation>
                Source text. If not supplied, the text attribute is used instead.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="trigger_autosave">
        <xs:annotation>
          <xs:documentation>
            Trigger an autosave
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
        </xs:complexType>
      </xs:element>

      <xs:element name="trigger_boarding">
        <xs:annotation>
          <xs:documentation>
            Trigger a boarding process via an MD cue, including mission guidance for the player
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="boarder" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The marine commander that controls the boarding operation
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="target" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The target object to be boarded
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="faction" type="expression">
            <xs:annotation>
              <xs:documentation>
                The boarder faction, which is trying to take ownership of the target (default is the player faction)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="undock">
        <xs:annotation>
          <xs:documentation>
            Undock ship (&lt;request_undocking&gt; must have been performed successfully before!)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="ship" type="ship" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="unlock_achievement">
        <xs:annotation>
          <xs:documentation>
            Unlock an achievement (no effect if it was already unlocked)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="namestring" use="required">
            <xs:annotation>
              <xs:documentation>
                Achievement name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="indicate_achievement_progress">
        <xs:annotation>
          <xs:documentation>
            Indicate achievement progress (no effect if it was already unlocked). This does not unlock the achievement when max progress is reached (100%), use &lt;unlock_achievement&gt; instead in this case.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="namestring" use="required">
            <xs:annotation>
              <xs:documentation>
                Achievement name
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="progress" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Integer value of current progress
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="max" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Integer value of maximal progress
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="update_trade">
        <xs:annotation>
          <xs:documentation>
            Update certain parameters of a trade
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="trade" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                The trade to update
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="amount" type="expression">
            <xs:annotation>
              <xs:documentation>
                New amount for the trade (optional, should already be adjusted to be the amount we can afford)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="desiredamount" type="expression">
            <xs:annotation>
              <xs:documentation>
                New desiredamount for the trade (optional, how much we *really* want, ignoring financial constraints)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="price" type="expression">
            <xs:annotation>
              <xs:documentation>
                New price (per unit) for the trade (optional)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="upgrade_object_by_macro">
        <xs:annotation>
          <xs:documentation>
            Upgrade an object by using a macro and percentage ($object.hasmultimacroupgrades must be true)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="upgrade_object_by_tag">
        <xs:annotation>
          <xs:documentation>
            Upgrade an object by using a tag and percentage ($object.hasmultimacroupgrades must be false)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="tag" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Upgrade tag
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attributeGroup ref="range" />
        </xs:complexType>
      </xs:element>

      <xs:element name="build_object_upgrades">
        <xs:annotation>
          <xs:documentation>
            Upgrade an object using a build module
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sequence" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Sequence
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stage" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Stage
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildplan" type="expression" use="required" />
          <xs:attribute name="buildlimit" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Limit upgrading to the buildstep (default = true)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="build_component_upgrades">
        <xs:annotation>
          <xs:documentation>
            Upgrade a component using a build module
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="component" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Component to be upgraded
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildmodule" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build module to be used
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="buildplan" type="expression" use="required" />
          <xs:attribute name="updatebuild" type="booleanexpression" use="optional">
            <xs:annotation>
              <xs:documentation>
                Update this build in low attention (required when waiting for build events)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="get_build_slot_price">
        <xs:annotation>
          <xs:documentation>
            Get price estimate for the buildslot (macro, sequence, stage), if wares are purchased by object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="buildmodule" type="expression" use="required" />
          <xs:attribute name="macro" type="macro" use="required" />
          <xs:attribute name="sequence" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Sequence
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="stage" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Build Stage
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="price" type="lvaluename" use="required" />
          <xs:attribute name="buildplan" type="expression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_object_value">
        <xs:annotation>
          <xs:documentation>
            Get the credit value of an object
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="priceobject" type="object">
            <xs:annotation>
              <xs:documentation>
                Object of which to base resource prices
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sellprice" type="booleanexpression">
            <xs:annotation>
              <xs:documentation>
                Calculate the sell price of the object? Default is false
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="get_pilot_dockslot">
        <xs:annotation>
          <xs:documentation>
            Retrieve the dockslot that a pilot entity is currently using for docking.
            NOTE: This action is not supposed to be used normally, it only exists for fixing a bug that appears in early game versions.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action"/>
          <xs:attribute name="pilot" use="required">
            <xs:annotation>
              <xs:documentation>
                Pilot
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="result" type="lvaluename" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="warp">
        <xs:annotation>
          <xs:documentation>
            Warp object to different location
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:all>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
            <xs:element name="safepos" type="safepos" minOccurs="0" maxOccurs="1" />
            <xs:element name="rotation" type="rotation" minOccurs="0" maxOccurs="1" />
            <xs:element name="orientation" type="orientation" minOccurs="0" maxOccurs="1" />
          </xs:all>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
          <xs:attribute name="zone" type="zone" use="required" />
          <xs:attribute name="embarkplayer" type="boolean" use="optional">
            <xs:annotation>
              <xs:documentation>
                If the object is the player primaryship, force the player to embark (defaults to false)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="sort_trades">
        <xs:annotation>
          <xs:documentation>
            Sort trade list
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="name" type="lvaluename" use="required" />
          <xs:attribute name="tradelist" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                List of trades to sort
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sorter" type="tradesorterlookup" use="required" />
          <xs:attribute name="min" type="boolean" use="optional" />
          <xs:attribute name="refobject" type="object" use="optional" >
            <xs:annotation>
              <xs:documentation>
                Reference object to sort trades by distances (use with sorter="distance")
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_experience_progress">
        <xs:annotation>
          <xs:documentation>
            Add experience progress points
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="random" />
          <xs:attribute name="entity" type="entity" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="set_experience_progress">
        <xs:annotation>
          <xs:documentation>
            Set experience progress points
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attributeGroup ref="random" />
          <xs:attribute name="entity" type="entity" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_effect">
        <xs:annotation>
          <xs:documentation>
            Add an effect object. If the effect's duration is infinite (value of -1), you need to remove it yourself with remove_effect.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="position" type="position" minOccurs="0" maxOccurs="1" />
          </xs:sequence>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object">
            <xs:annotation>
              <xs:documentation>
                Object to attach the effect to
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="effect" type="expression">
            <xs:annotation>
              <xs:documentation>
                Effect definition (from libraries/effects.xml)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_effect">
        <xs:annotation>
          <xs:documentation>
            Remove an existing effect object.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object">
            <xs:annotation>
              <xs:documentation>
                Object the effect is attached to
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="effect" type="expression">
            <xs:annotation>
              <xs:documentation>
                Effect definition (from libraries/effects.xml)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="play_sound">
        <xs:annotation>
          <xs:documentation>
            Play a sound. Does not support looping sounds yet.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required">
            <xs:annotation>
              <xs:documentation>
                Object to act as the sound source.
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="sound" type="expression">
            <xs:annotation>
              <xs:documentation>
                Sound ID (from libraries/sound_library.xml)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="play_music">
        <xs:annotation>
          <xs:documentation>
            Play music
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="music" type="expression">
            <xs:annotation>
              <xs:documentation>
                Sound ID of music track (from libraries/sound_library.xml)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="lockscenemusic" type="boolean">
            <xs:annotation>
              <xs:documentation>
                True to prevent automatic scene music change, false (default) to allow automatic change and to disable any existing lock
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="lockfightmusic" type="boolean">
            <xs:annotation>
              <xs:documentation>
                True to prevent automatic fight music change, false (default) to allow automatic change and to disable any existing lock
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_music">
        <xs:annotation>
          <xs:documentation>
            Stop music
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="lockscenemusic" type="boolean">
            <xs:annotation>
              <xs:documentation>
                True to prevent automatic re-enabling of scene music, false (default) to allow re-enabling and to disable any existing lock
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="lockfightmusic" type="boolean">
            <xs:annotation>
              <xs:documentation>
                True to prevent automatic re-enabling of fight music, false (default) to allow re-enabling and to disable any existing lock
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="write_to_logbook">
        <xs:annotation>
          <xs:documentation>
            Write an entry into the logbook
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="category" type="logcategorylookup" use="required" />
          <xs:attribute name="text" type="expression" use="required">
            <xs:annotation>
              <xs:documentation>
                Logbook entry text
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="interaction" type="loginteractionlookup" />
          <xs:attribute name="object" type="expression">
            <xs:annotation>
              <xs:documentation>
                Interaction object, depending on the interaction type
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="add_trade_subscription">
        <xs:annotation>
          <xs:documentation>
            Add permanent player subscription to trade offer updates of the specified object. This also immediately adds the current trade offers to the trade memory.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="remove_trade_subscription">
        <xs:annotation>
          <xs:documentation>
            Remove permanent player subscription to trade offer updates of the specified object. Already stored offers remain in memory as long as they are valid.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="store_trade_offer_snapshot">
        <xs:annotation>
          <xs:documentation>
            Store a snapshot of the current trade offers on the specified object in the player trade memory.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="add_encyclopedia_entry">
        <xs:annotation>
          <xs:documentation>
            Add an entry of an item id into the library of type
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="type" type="infolibrarytypelookup" use="required" />
          <xs:attribute name="item" type="expression" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="start_player_autopilot">
        <xs:annotation>
          <xs:documentation>
            Start playership autopilot to the selected destination (follow for moving targets)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="destination" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="stop_player_autopilot">
        <xs:annotation>
          <xs:documentation>
            Stop playership autopilot
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="toggle_timewarp">
        <xs:annotation>
          <xs:documentation>
            Toggle time warp (SETA). NOTE: Activation requires that SETA is in the player's inventory and the activation conditions are met. For example, SETA is not possible during a conversation.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
        </xs:complexType>
      </xs:element>

      <xs:element name="patch_macro">
        <xs:annotation>
          <xs:documentation>
            Patch an object based on its macro, to add components that may be missing when loading a savegame. This action is only required by extensions and should normally only be used when loading a savegame
            in which the extension was not active yet. The script is responsible for finding the objects, usually ships or stations, that need patching.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="object" type="object" use="required" />
        </xs:complexType>
      </xs:element>

      <xs:element name="patch_macros">
        <xs:annotation>
          <xs:documentation>
            Finds objects with given filter criteria and patches them based on their macro (see &lt;patch_macro&gt;)
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:complexContent>
            <xs:extension base="matchbase">
              <xs:attributeGroup ref="action" />
              <xs:attributeGroup ref="findobject" />
              <xs:attribute name="space" type="expression">
                <xs:annotation>
                  <xs:documentation>
                    Space in which to find objects to be patched. The galaxy is used if no space is supplied.
                  </xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:extension>
          </xs:complexContent>
        </xs:complexType>
      </xs:element>

      <xs:element name="set_playership_throttle">
        <xs:annotation>
          <xs:documentation>
            Set the throttle value of the playership.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attributeGroup ref="action" />
          <xs:attribute name="value" type="expression">
            <xs:annotation>
              <xs:documentation>
                Value for throttle setting between full reverse (-1) and full forward (1)
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

    </xs:choice>
  </xs:group>

</xs:schema>
